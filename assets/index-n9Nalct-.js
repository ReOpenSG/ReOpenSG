import{r as S,d as Hg,b as $,g as $g}from"./react-t7nT_heO.js";import{R as lh,a as Ll,b as Wg,c as Qg}from"./extra-Y9wuK8-d.js";import{L as ce,u as Pi,S as Kg,O as Xg,a as xs,b as As,N as bn,c as Jg,d as Yg,R as Le,e as Zg}from"./reactRouter-DOTn_smb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var ch={exports:{}},ho={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=S,t0=Symbol.for("react.element"),n0=Symbol.for("react.fragment"),s0=Object.prototype.hasOwnProperty,i0=e0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r0={key:!0,ref:!0,__self:!0,__source:!0};function uh(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)s0.call(e,s)&&!r0.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:t0,type:t,key:r,ref:o,props:i,_owner:i0.current}}ho.Fragment=n0;ho.jsx=uh;ho.jsxs=uh;ch.exports=ho;var c=ch.exports,$a={},uu=Hg;$a.createRoot=uu.createRoot,$a.hydrateRoot=uu.hydrateRoot;var du={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o0=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=r>>2,h=(r&3)<<4|a>>4;let p=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(p=64)),s.push(n[d],n[h],n[p],n[f])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||u==null||h==null)throw new a0;const p=r<<2|a>>4;if(s.push(p),u!==64){const f=a<<4&240|u>>2;if(s.push(f),h!==64){const m=u<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l0=function(t){const e=dh(t);return hh.encodeByteArray(e,!0)},Nr=function(t){return l0(t).replace(/\./g,"")},fh=function(t){try{return hh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=()=>c0().__FIREBASE_DEFAULTS__,d0=()=>{if(typeof process>"u"||typeof du>"u")return;const t=du.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fh(t[1]);return e&&JSON.parse(e)},Ml=()=>{try{return u0()||d0()||h0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ph=t=>{var e,n;return(n=(e=Ml())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mh=t=>{const e=ph(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},gh=()=>{var t;return(t=Ml())===null||t===void 0?void 0:t.config},yh=t=>{var e;return(e=Ml())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Nr(JSON.stringify(n)),Nr(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function m0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y0(){const t=Je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v0(){try{return typeof indexedDB=="object"}catch{return!1}}function _0(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="FirebaseError";class Mt extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=w0,Object.setPrototypeOf(this,Mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}}class ki{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?T0(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mt(i,a,s)}}function T0(t,e){return t.replace(E0,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const E0=/\{\$([^}]+)}/g;function x0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Or(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(hu(r)&&hu(o)){if(!Or(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function hu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Us(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A0(t,e){const n=new S0(t,e);return n.subscribe.bind(n)}class S0{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");I0(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=oa),i.error===void 0&&(i.error=oa),i.complete===void 0&&(i.complete=oa);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I0(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oa(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t){return t&&t._delegate?t._delegate:t}class mn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new f0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R0(e))try{this.getOrInitializeService({instanceIdentifier:In})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=In){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=In){return this.instances.has(e)}getOptions(e=In){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=In){return this.component?this.component.multipleInstances?e:In:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b0(t){return t===In?void 0:t}function R0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const k0={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},N0=ie.INFO,O0={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},D0=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=O0[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jl{constructor(e){this.name=e,this._logLevel=N0,this._logHandler=D0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const L0=(t,e)=>e.some(n=>t instanceof n);let fu,pu;function M0(){return fu||(fu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j0(){return pu||(pu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _h=new WeakMap,Wa=new WeakMap,wh=new WeakMap,aa=new WeakMap,Vl=new WeakMap;function V0(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(hn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_h.set(n,t)}).catch(()=>{}),Vl.set(e,t),e}function F0(t){if(Wa.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Wa.set(t,e)}let Qa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wh.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U0(t){Qa=t(Qa)}function B0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(la(this),e,...n);return wh.set(s,e.sort?e.sort():[e]),hn(s)}:j0().includes(t)?function(...e){return t.apply(la(this),e),hn(_h.get(this))}:function(...e){return hn(t.apply(la(this),e))}}function G0(t){return typeof t=="function"?B0(t):(t instanceof IDBTransaction&&F0(t),L0(t,M0())?new Proxy(t,Qa):t)}function hn(t){if(t instanceof IDBRequest)return V0(t);if(aa.has(t))return aa.get(t);const e=G0(t);return e!==t&&(aa.set(t,e),Vl.set(e,t)),e}const la=t=>Vl.get(t);function z0(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=hn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(hn(o.result),l.oldVersion,l.newVersion,hn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const q0=["get","getKey","getAll","getAllKeys","count"],H0=["put","add","delete","clear"],ca=new Map;function mu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ca.get(e))return ca.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=H0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||q0.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ca.set(e,r),r}U0(t=>({...t,get:(e,n,s)=>mu(e,n)||t.get(e,n,s),has:(e,n)=>!!mu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function W0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ka="@firebase/app",gu="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new jl("@firebase/app"),Q0="@firebase/app-compat",K0="@firebase/analytics-compat",X0="@firebase/analytics",J0="@firebase/app-check-compat",Y0="@firebase/app-check",Z0="@firebase/auth",e2="@firebase/auth-compat",t2="@firebase/database",n2="@firebase/database-compat",s2="@firebase/functions",i2="@firebase/functions-compat",r2="@firebase/installations",o2="@firebase/installations-compat",a2="@firebase/messaging",l2="@firebase/messaging-compat",c2="@firebase/performance",u2="@firebase/performance-compat",d2="@firebase/remote-config",h2="@firebase/remote-config-compat",f2="@firebase/storage",p2="@firebase/storage-compat",m2="@firebase/firestore",g2="@firebase/firestore-compat",y2="firebase",v2="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]",_2={[Ka]:"fire-core",[Q0]:"fire-core-compat",[X0]:"fire-analytics",[K0]:"fire-analytics-compat",[Y0]:"fire-app-check",[J0]:"fire-app-check-compat",[Z0]:"fire-auth",[e2]:"fire-auth-compat",[t2]:"fire-rtdb",[n2]:"fire-rtdb-compat",[s2]:"fire-fn",[i2]:"fire-fn-compat",[r2]:"fire-iid",[o2]:"fire-iid-compat",[a2]:"fire-fcm",[l2]:"fire-fcm-compat",[c2]:"fire-perf",[u2]:"fire-perf-compat",[d2]:"fire-rc",[h2]:"fire-rc-compat",[f2]:"fire-gcs",[p2]:"fire-gcs-compat",[m2]:"fire-fst",[g2]:"fire-fst-compat","fire-js":"fire-js",[y2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Map,Ja=new Map;function w2(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jn(t){const e=t.name;if(Ja.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;Ja.set(e,t);for(const n of Dr.values())w2(n,t);return!0}function fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fn=new ki("app","Firebase",T2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=v2;function Th(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xa,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw fn.create("bad-app-name",{appName:String(i)});if(n||(n=gh()),!n)throw fn.create("no-options");const r=Dr.get(i);if(r){if(Or(n,r.options)&&Or(s,r.config))return r;throw fn.create("duplicate-app",{appName:i})}const o=new P0(i);for(const l of Ja.values())o.addComponent(l);const a=new E2(n,s,o);return Dr.set(i,a),a}function Fl(t=Xa){const e=Dr.get(t);if(!e&&t===Xa&&gh())return Th();if(!e)throw fn.create("no-app",{appName:t});return e}function bt(t,e,n){var s;let i=(s=_2[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(a.join(" "));return}jn(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebase-heartbeat-database",A2=1,li="firebase-heartbeat-store";let ua=null;function Eh(){return ua||(ua=z0(x2,A2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(li)}}}).catch(t=>{throw fn.create("idb-open",{originalErrorMessage:t.message})})),ua}async function S2(t){try{return await(await Eh()).transaction(li).objectStore(li).get(xh(t))}catch(e){if(e instanceof Mt)Mn.warn(e.message);else{const n=fn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function yu(t,e){try{const s=(await Eh()).transaction(li,"readwrite");await s.objectStore(li).put(e,xh(t)),await s.done}catch(n){if(n instanceof Mt)Mn.warn(n.message);else{const s=fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(s.message)}}}function xh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1024,C2=30*24*60*60*1e3;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=C2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vu(),{heartbeatsToSend:s,unsentEntries:i}=R2(this._heartbeatsCache.heartbeats),r=Nr(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function vu(){return new Date().toISOString().substring(0,10)}function R2(t,e=I2){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),_u(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_u(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class P2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v0()?_0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _u(t){return Nr(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){jn(new mn("platform-logger",e=>new $0(e),"PRIVATE")),jn(new mn("heartbeat",e=>new b2(e),"PRIVATE")),bt(Ka,gu,t),bt(Ka,gu,"esm2017"),bt("fire-js","")}k2("");function Ul(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function Ah(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=Ah,Sh=new ki("auth","Firebase",Ah());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new jl("@firebase/auth");function O2(t,...e){Lr.logLevel<=ie.WARN&&Lr.warn(`Auth (${Wn}): ${t}`,...e)}function _r(t,...e){Lr.logLevel<=ie.ERROR&&Lr.error(`Auth (${Wn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,...e){throw Bl(t,...e)}function Rt(t,...e){return Bl(t,...e)}function D2(t,e,n){const s=Object.assign(Object.assign({},N2()),{[e]:n});return new ki("auth","Firebase",s).create(e,{appName:t.name})}function Bl(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Sh.create(t,...e)}function q(t,e,...n){if(!t)throw Bl(e,...n)}function Ut(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _r(e),new Error(e)}function Wt(t,e){t||Ut(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L2(){return wu()==="http:"||wu()==="https:"}function wu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||m0()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wt(n>e,"Short delay should be less than long delay!"),this.isMobile=p0()||g0()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e){Wt(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new Oi(3e4,6e4);function Qn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _n(t,e,n,s,i={}){return Ch(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=Ni(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ih.fetch()(bh(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function Ch(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},V2),e);try{const i=new B2(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Zi(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zi(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zi(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zi(t,"user-disabled",o);const d=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw D2(t,d,u);Tt(t,d)}}catch(i){if(i instanceof Mt)throw i;Tt(t,"network-request-failed",{message:String(i)})}}async function po(t,e,n,s,i={}){const r=await _n(t,e,n,s,i);return"mfaPendingCredential"in r&&Tt(t,"multi-factor-auth-required",{_serverResponse:r}),r}function bh(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?Gl(t.config,i):`${t.config.apiScheme}://${i}`}function U2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Rt(this.auth,"network-request-failed")),F2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zi(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Rt(t,e,s);return i.customData._tokenResponse=n,i}function Tu(t){return t!==void 0&&t.enterprise!==void 0}class G2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return U2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function z2(t,e){return _n(t,"GET","/v2/recaptchaConfig",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e){return _n(t,"POST","/v1/accounts:delete",e)}async function H2(t,e){return _n(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $2(t,e=!1){const n=we(t),s=await n.getIdToken(e),i=zl(s);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Ws(da(i.auth_time)),issuedAtTime:Ws(da(i.iat)),expirationTime:Ws(da(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function da(t){return Number(t)*1e3}function zl(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return _r("JWT malformed, contained fewer than 3 sections"),null;try{const i=fh(n);return i?JSON.parse(i):(_r("Failed to decode base64 JWT payload"),null)}catch(i){return _r("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W2(t){const e=zl(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ci(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Mt&&Q2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Q2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ws(this.lastLoginAt),this.creationTime=Ws(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mr(t){var e;const n=t.auth,s=await t.getIdToken(),i=await ci(t,H2(n,{idToken:s}));q(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?Y2(r.providerUserInfo):[],a=J2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Rh(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function X2(t){const e=we(t);await Mr(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function Y2(t){return t.map(e=>{var{providerId:n}=e,s=Ul(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t,e){const n=await Ch(t,{},async()=>{const s=Ni({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=bh(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ih.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e1(t,e){return _n(t,"POST","/v2/accounts:revokeToken",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await Z2(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new ui;return s&&(q(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(q(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ui,this.toJSON())}_performRefresh(){return Ut("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Ul(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Rh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ci(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mr(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ci(this,q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,u,d;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:T,isAnonymous:A,providerData:C,stsTokenManager:j}=n;q(w&&j,e,"internal-error");const k=ui.fromJSON(this.name,j);q(typeof w=="string",e,"internal-error"),tn(h,e.name),tn(p,e.name),q(typeof T=="boolean",e,"internal-error"),q(typeof A=="boolean",e,"internal-error"),tn(f,e.name),tn(m,e.name),tn(g,e.name),tn(y,e.name),tn(v,e.name),tn(E,e.name);const b=new Nn({uid:w,auth:e,email:p,emailVerified:T,displayName:h,isAnonymous:A,photoURL:m,phoneNumber:f,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:E});return C&&Array.isArray(C)&&(b.providerData=C.map(I=>Object.assign({},I))),y&&(b._redirectEventId=y),b}static async _fromIdTokenResponse(e,n,s=!1){const i=new ui;i.updateFromServerResponse(n);const r=new Nn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Mr(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Map;function Bt(t){Wt(t instanceof Function,"Expected a class definition");let e=Eu.get(t);return e?(Wt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Eu.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ph.type="NONE";const xu=Ph;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,e,n){return`firebase:${t}:${e}:${n}`}class os{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=wr(this.userKey,i.apiKey,r),this.fullPersistenceKey=wr("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Nn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new os(Bt(xu),e,s);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=i[0]||Bt(xu);const o=wr(s,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Nn._fromJSON(e,d);u!==r&&(a=h),r=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new os(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(o)}catch{}})),new os(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Oh(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lh(e))return"Blackberry";if(Mh(e))return"Webos";if(ql(e))return"Safari";if((e.includes("chrome/")||Nh(e))&&!e.includes("edge/"))return"Chrome";if(Dh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kh(t=Je()){return/firefox\//i.test(t)}function ql(t=Je()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nh(t=Je()){return/crios\//i.test(t)}function Oh(t=Je()){return/iemobile/i.test(t)}function Dh(t=Je()){return/android/i.test(t)}function Lh(t=Je()){return/blackberry/i.test(t)}function Mh(t=Je()){return/webos/i.test(t)}function mo(t=Je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t1(t=Je()){var e;return mo(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n1(){return y0()&&document.documentMode===10}function jh(t=Je()){return mo(t)||Dh(t)||Mh(t)||Lh(t)||/windows phone/i.test(t)||Oh(t)}function s1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t,e=[]){let n;switch(t){case"Browser":n=Au(Je());break;case"Worker":n=`${Au(Je())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wn}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t,e={}){return _n(t,"GET","/v2/passwordPolicy",Qn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=6;class a1{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:o1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Su(this),this.idTokenSubscription=new Su(this),this.beforeStateQueue=new i1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bt(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await os.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mr(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?we(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r1(this),n=new a1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ki("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await e1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bt(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await os.create(this,[Bt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ss(t){return we(t)}class Su{constructor(e){this.auth=e,this.observer=null,this.addObserver=A0(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Fh(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Rt("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",c1().appendChild(s)})}function u1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const d1="https://www.google.com/recaptcha/enterprise.js?render=",h1="recaptcha-enterprise",f1="NO_RECAPTCHA";class p1{constructor(e){this.type=h1,this.auth=Ss(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{z2(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new G2(l);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;Tu(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(u=>{o(u)}).catch(()=>{o(f1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&Tu(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Fh(d1+a).then(()=>{i(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Iu(t,e,n,s=!1){const i=new p1(t);let r;try{r=await i.verify(n)}catch{r=await i.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cu(t,e,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Iu(t,e,n,n==="getOobCode");return s(t,r)}else return s(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Iu(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e){const n=fo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Or(r,e??{}))return i;Tt(i,"already-initialized")}return n.initialize({options:e})}function g1(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bt);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function y1(t,e,n){const s=Ss(t);q(s._canInitEmulator,s,"emulator-config-failed"),q(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=Uh(e),{host:o,port:a}=v1(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_1()}function Uh(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v1(t){const e=Uh(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:bu(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:bu(o)}}}function bu(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ut("not implemented")}_getIdTokenResponse(e){return Ut("not implemented")}_linkToIdToken(e,n){return Ut("not implemented")}_getReauthenticationResolver(e){return Ut("not implemented")}}async function w1(t,e){return _n(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(t,e){return po(t,"POST","/v1/accounts:signInWithPassword",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t,e){return po(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))}async function x1(t,e){return po(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Hl{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new di(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new di(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cu(e,n,"signInWithPassword",T1);case"emailLink":return E1(e,{email:this._email,oobCode:this._password});default:Tt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cu(e,s,"signUpPassword",w1);case"emailLink":return x1(e,{idToken:n,email:this._email,oobCode:this._password});default:Tt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function as(t,e){return po(t,"POST","/v1/accounts:signInWithIdp",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="http://localhost";class Vn extends Hl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Ul(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Vn(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return as(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,as(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,as(e,n)}buildRequest(){const e={requestUri:A1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ni(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I1(t){const e=Fs(Us(t)).link,n=e?Fs(Us(e)).deep_link_id:null,s=Fs(Us(t)).deep_link_id;return(s?Fs(Us(s)).link:null)||s||n||e||t}class $l{constructor(e){var n,s,i,r,o,a;const l=Fs(Us(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(s=l.oobCode)!==null&&s!==void 0?s:null,h=S1((i=l.mode)!==null&&i!==void 0?i:null);q(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=I1(e);try{return new $l(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.providerId=Is.PROVIDER_ID}static credential(e,n){return di._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=$l.parseLink(n);return q(s,"argument-error"),di._fromEmailAndCode(e,s.code,s.tenantId)}}Is.PROVIDER_ID="password";Is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Bh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends Di{constructor(){super("facebook.com")}static credential(e){return Vn._fromParams({providerId:sn.PROVIDER_ID,signInMethod:sn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sn.credentialFromTaggedObject(e)}static credentialFromError(e){return sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sn.credential(e.oauthAccessToken)}catch{return null}}}sn.FACEBOOK_SIGN_IN_METHOD="facebook.com";sn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vn._fromParams({providerId:rn.PROVIDER_ID,signInMethod:rn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rn.credentialFromTaggedObject(e)}static credentialFromError(e){return rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rn.credential(n,s)}catch{return null}}}rn.GOOGLE_SIGN_IN_METHOD="google.com";rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Di{constructor(){super("github.com")}static credential(e){return Vn._fromParams({providerId:on.PROVIDER_ID,signInMethod:on.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return on.credentialFromTaggedObject(e)}static credentialFromError(e){return on.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return on.credential(e.oauthAccessToken)}catch{return null}}}on.GITHUB_SIGN_IN_METHOD="github.com";on.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Di{constructor(){super("twitter.com")}static credential(e,n){return Vn._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return an.credentialFromTaggedObject(e)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return an.credential(n,s)}catch{return null}}}an.TWITTER_SIGN_IN_METHOD="twitter.com";an.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Nn._fromIdTokenResponse(e,s,i),o=Ru(s);return new hs({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Ru(s);return new hs({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Ru(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Mt{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,jr.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new jr(e,n,s,i)}}function Gh(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?jr._fromErrorAndOperation(t,r,e,s):r})}async function C1(t,e,n=!1){const s=await ci(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hs._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t,e,n=!1){const{auth:s}=t,i="reauthenticate";try{const r=await ci(t,Gh(s,i,e,t),n);q(r.idToken,s,"internal-error");const o=zl(r.idToken);q(o,s,"internal-error");const{sub:a}=o;return q(t.uid===a,s,"user-mismatch"),hs._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Tt(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t,e,n=!1){const s="signIn",i=await Gh(t,s,e),r=await hs._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function R1(t,e){return zh(Ss(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(t){const e=Ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function k1(t,e,n){return R1(we(t),Is.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&P1(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){return we(t).setPersistence(e)}function O1(t,e,n,s){return we(t).onIdTokenChanged(e,n,s)}function D1(t,e,n){return we(t).beforeAuthStateChanged(e,n)}function L1(t,e,n,s){return we(t).onAuthStateChanged(e,n,s)}function M1(t){return we(t).signOut()}const Vr="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vr,"1"),this.storage.removeItem(Vr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){const t=Je();return ql(t)||mo(t)}const V1=1e3,F1=10;class Hh extends qh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=j1()&&s1(),this.fallbackToPolling=jh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);n1()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F1):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},V1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hh.type="LOCAL";const U1=Hh;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends qh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$h.type="SESSION";const Wl=$h;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new go(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,r)),l=await B1(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}go.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const u=Ql("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(p.data.response);break;default:clearTimeout(d),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return window}function z1(t){Pt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(){return typeof Pt().WorkerGlobalScope<"u"&&typeof Pt().importScripts=="function"}async function q1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $1(){return Wh()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="firebaseLocalStorageDb",W1=1,Fr="firebaseLocalStorage",Kh="fbase_key";class Li{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yo(t,e){return t.transaction([Fr],e?"readwrite":"readonly").objectStore(Fr)}function Q1(){const t=indexedDB.deleteDatabase(Qh);return new Li(t).toPromise()}function Za(){const t=indexedDB.open(Qh,W1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Fr,{keyPath:Kh})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Fr)?e(s):(s.close(),await Q1(),e(await Za()))})})}async function Pu(t,e,n){const s=yo(t,!0).put({[Kh]:e,value:n});return new Li(s).toPromise()}async function K1(t,e){const n=yo(t,!1).get(e),s=await new Li(n).toPromise();return s===void 0?null:s.value}function ku(t,e){const n=yo(t,!0).delete(e);return new Li(n).toPromise()}const X1=800,J1=3;class Xh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Za(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>J1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=go._getInstance($1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q1(),!this.activeServiceWorker)return;this.sender=new G1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Za();return await Pu(e,Vr,"1"),await ku(e,Vr),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Pu(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>K1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ku(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=yo(i,!1).getAll();return new Li(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xh.type="LOCAL";const Y1=Xh;new Oi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e){return e?Bt(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Hl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,n){return as(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ey(t){return zh(t.auth,new Kl(t),t.bypassAuthState)}function ty(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),b1(n,new Kl(t),t.bypassAuthState)}async function ny(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),C1(n,new Kl(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ey;case"linkViaPopup":case"linkViaRedirect":return ny;case"reauthViaPopup":case"reauthViaRedirect":return ty;default:Tt(this.auth,"internal-error")}}resolve(e){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Oi(2e3,1e4);class ss extends Jh{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Wt(this.filter.length===1,"Popup operations only handle one event");const e=Ql();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sy.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="pendingRedirect",Tr=new Map;class ry extends Jh{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Tr.get(this.auth._key());if(!e){try{const s=await oy(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Tr.set(this.auth._key(),e)}return this.bypassAuthState||Tr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oy(t,e){const n=cy(e),s=ly(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function ay(t,e){Tr.set(t._key(),e)}function ly(t){return Bt(t._redirectPersistence)}function cy(t){return wr(iy,t.config.apiKey,t.name)}async function uy(t,e,n=!1){const s=Ss(t),i=Z1(s,e),o=await new ry(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=10*60*1e3;class hy{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fy(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Yh(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Rt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dy&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nu(e))}saveEventToCache(e){this.cachedEventUids.add(Nu(e)),this.lastProcessedEventTime=Date.now()}}function Nu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Yh({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fy(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yh(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function py(t,e={}){return _n(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gy=/^https?/;async function yy(t){if(t.config.emulator)return;const{authorizedDomains:e}=await py(t);for(const n of e)try{if(vy(n))return}catch{}Tt(t,"unauthorized-domain")}function vy(t){const e=Ya(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!gy.test(n))return!1;if(my.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new Oi(3e4,6e4);function Ou(){const t=Pt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wy(t){return new Promise((e,n)=>{var s,i,r;function o(){Ou(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ou(),n(Rt(t,"network-request-failed"))},timeout:_y.get()})}if(!((i=(s=Pt().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=Pt().gapi)===null||r===void 0)&&r.load)o();else{const a=u1("iframefcb");return Pt()[a]=()=>{gapi.load?o():n(Rt(t,"network-request-failed"))},Fh(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Er=null,e})}let Er=null;function Ty(t){return Er=Er||wy(t),Er}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new Oi(5e3,15e3),xy="__/auth/iframe",Ay="emulator/auth/iframe",Sy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cy(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gl(e,Ay):`https://${t.config.authDomain}/${xy}`,s={apiKey:e.apiKey,appName:t.name,v:Wn},i=Iy.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ni(s).slice(1)}`}async function by(t){const e=await Ty(t),n=Pt().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:Cy(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sy,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Rt(t,"network-request-failed"),a=Pt().setTimeout(()=>{r(o)},Ey.get());function l(){Pt().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Py=500,ky=600,Ny="_blank",Oy="http://localhost";class Du{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dy(t,e,n,s=Py,i=ky){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ry),{width:s.toString(),height:i.toString(),top:r,left:o}),u=Je().toLowerCase();n&&(a=Nh(u)?Ny:n),kh(u)&&(e=e||Oy,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[f,m])=>`${p}${f}=${m},`,"");if(t1(u)&&a!=="_self")return Ly(e||"",a),new Du(null);const h=window.open(e||"",a,d);q(h,t,"popup-blocked");try{h.focus()}catch{}return new Du(h)}function Ly(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="__/auth/handler",jy="emulator/auth/handler",Vy=encodeURIComponent("fac");async function Lu(t,e,n,s,i,r){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Wn,eventId:i};if(e instanceof Bh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",x0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(r||{}))o[d]=h}if(e instanceof Di){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Vy}=${encodeURIComponent(l)}`:"";return`${Fy(t)}?${Ni(a).slice(1)}${u}`}function Fy({config:t}){return t.emulator?Gl(t,jy):`https://${t.authDomain}/${My}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="webStorageSupport";class Uy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wl,this._completeRedirectFn=uy,this._overrideRedirectResult=ay}async _openPopup(e,n,s,i){var r;Wt((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Lu(e,n,s,Ya(),i);return Dy(e,o,Ql())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Lu(e,n,s,Ya(),i);return z1(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Wt(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await by(e),s=new hy(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ha,{type:ha},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[ha];o!==void 0&&n(!!o),Tt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yy(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jh()||ql()||mo()}}const By=Uy;var Mu="@firebase/auth",ju="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function qy(t){jn(new mn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vh(t)},u=new l1(s,i,r,l);return g1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),jn(new mn("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(s=>new Gy(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bt(Mu,ju,zy(t)),bt(Mu,ju,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=5*60,$y=yh("authIdTokenMaxAge")||Hy;let Vu=null;const Wy=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$y)return;const i=n==null?void 0:n.token;Vu!==i&&(Vu=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qy(t=Fl()){const e=fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m1(t,{popupRedirectResolver:By,persistence:[Y1,U1,Wl]}),s=yh("authTokenSyncURL");if(s){const r=Wy(s);D1(n,r,()=>r(n.currentUser)),O1(n,o=>r(o))}const i=ph("auth");return i&&y1(n,`http://${i}`),n}qy("Browser");function Zh(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Zh(t[e]))&&(s&&(s+=" "),s+=n);else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}function cn(){for(var t,e,n=0,s="";n<arguments.length;)(t=arguments[n++])&&(e=Zh(t))&&(s&&(s+=" "),s+=e);return s}const Qs=t=>typeof t=="number"&&!isNaN(t),Fn=t=>typeof t=="string",rt=t=>typeof t=="function",xr=t=>Fn(t)||rt(t)?t:null,fa=t=>S.isValidElement(t)||Fn(t)||rt(t)||Qs(t);function Ky(t,e,n){n===void 0&&(n=300);const{scrollHeight:s,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function vo(t){let{enter:e,exit:n,appendPosition:s=!1,collapse:i=!0,collapseDuration:r=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:d,nodeRef:h,isIn:p}=o;const f=s?`${e}--${l}`:e,m=s?`${n}--${l}`:n,g=S.useRef(0);return S.useLayoutEffect(()=>{const y=h.current,v=f.split(" "),E=w=>{w.target===h.current&&(y.dispatchEvent(new Event("d")),y.removeEventListener("animationend",E),y.removeEventListener("animationcancel",E),g.current===0&&w.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",E),y.addEventListener("animationcancel",E)},[]),S.useEffect(()=>{const y=h.current,v=()=>{y.removeEventListener("animationend",v),i?Ky(y,d,r):d()};p||(u?v():(g.current=1,y.className+=` ${m}`,y.addEventListener("animationend",v)))},[p]),$.createElement($.Fragment,null,a)}}function Fu(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const pt={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(s=>s!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},er=t=>{let{theme:e,type:n,...s}=t;return $.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},pa={info:function(t){return $.createElement(er,{...t},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return $.createElement(er,{...t},$.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return $.createElement(er,{...t},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return $.createElement(er,{...t},$.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return $.createElement("div",{className:"Toastify__spinner"})}};function Xy(t){const[,e]=S.useReducer(f=>f+1,0),[n,s]=S.useState([]),i=S.useRef(null),r=S.useRef(new Map).current,o=f=>n.indexOf(f)!==-1,a=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:f=>r.get(f)}).current;function l(f){let{containerId:m}=f;const{limit:g}=a.props;!g||m&&a.containerId!==m||(a.count-=a.queue.length,a.queue=[])}function u(f){s(m=>f==null?[]:m.filter(g=>g!==f))}function d(){const{toastContent:f,toastProps:m,staleId:g}=a.queue.shift();p(f,m,g)}function h(f,m){let{delay:g,staleId:y,...v}=m;if(!fa(f)||function(M){return!i.current||a.props.enableMultiContainer&&M.containerId!==a.props.containerId||r.has(M.toastId)&&M.updateId==null}(v))return;const{toastId:E,updateId:w,data:T}=v,{props:A}=a,C=()=>u(E),j=w==null;j&&a.count++;const k={...A,style:A.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(M=>{let[N,z]=M;return z!=null})),toastId:E,updateId:w,data:T,closeToast:C,isIn:!1,className:xr(v.className||A.toastClassName),bodyClassName:xr(v.bodyClassName||A.bodyClassName),progressClassName:xr(v.progressClassName||A.progressClassName),autoClose:!v.isLoading&&(b=v.autoClose,I=A.autoClose,b===!1||Qs(b)&&b>0?b:I),deleteToast(){const M=Fu(r.get(E),"removed");r.delete(E),pt.emit(4,M);const N=a.queue.length;if(a.count=E==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),N>0){const z=E==null?a.props.limit:1;if(N===1||z===1)a.displayedToast++,d();else{const Z=z>N?N:z;a.displayedToast=Z;for(let oe=0;oe<Z;oe++)d()}}else e()}};var b,I;k.iconOut=function(M){let{theme:N,type:z,isLoading:Z,icon:oe}=M,Ee=null;const X={theme:N,type:z};return oe===!1||(rt(oe)?Ee=oe(X):S.isValidElement(oe)?Ee=S.cloneElement(oe,X):Fn(oe)||Qs(oe)?Ee=oe:Z?Ee=pa.spinner():(se=>se in pa)(z)&&(Ee=pa[z](X))),Ee}(k),rt(v.onOpen)&&(k.onOpen=v.onOpen),rt(v.onClose)&&(k.onClose=v.onClose),k.closeButton=A.closeButton,v.closeButton===!1||fa(v.closeButton)?k.closeButton=v.closeButton:v.closeButton===!0&&(k.closeButton=!fa(A.closeButton)||A.closeButton);let O=f;S.isValidElement(f)&&!Fn(f.type)?O=S.cloneElement(f,{closeToast:C,toastProps:k,data:T}):rt(f)&&(O=f({closeToast:C,toastProps:k,data:T})),A.limit&&A.limit>0&&a.count>A.limit&&j?a.queue.push({toastContent:O,toastProps:k,staleId:y}):Qs(g)?setTimeout(()=>{p(O,k,y)},g):p(O,k,y)}function p(f,m,g){const{toastId:y}=m;g&&r.delete(g);const v={content:f,props:m};r.set(y,v),s(E=>[...E,y].filter(w=>w!==g)),pt.emit(4,Fu(v,v.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(a.containerId=t.containerId,pt.cancelEmit(3).on(0,h).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{r.clear(),pt.emit(3,a)}),[]),S.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(f){const m=new Map,g=Array.from(r.values());return t.newestOnTop&&g.reverse(),g.forEach(y=>{const{position:v}=y.props;m.has(v)||m.set(v,[]),m.get(v).push(y)}),Array.from(m,y=>f(y[0],y[1]))},containerRef:i,isToastActive:o}}function Uu(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function Bu(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function Jy(t){const[e,n]=S.useState(!1),[s,i]=S.useState(!1),r=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=S.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:d,onClick:h,closeOnClick:p}=t;function f(T){if(t.draggable){T.nativeEvent.type==="touchstart"&&T.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",E),document.addEventListener("touchmove",v),document.addEventListener("touchend",E);const A=r.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=A.getBoundingClientRect(),A.style.transition="",o.x=Uu(T.nativeEvent),o.y=Bu(T.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=A.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function m(T){if(o.boundingRect){const{top:A,bottom:C,left:j,right:k}=o.boundingRect;T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=j&&o.x<=k&&o.y>=A&&o.y<=C?y():g()}}function g(){n(!0)}function y(){n(!1)}function v(T){const A=r.current;o.canDrag&&A&&(o.didMove=!0,e&&y(),o.x=Uu(T),o.y=Bu(T),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),A.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,A.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function E(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",E);const T=r.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();T.style.transition="transform 0.2s, opacity 0.2s",T.style.transform=`translate${t.draggableDirection}(0)`,T.style.opacity="1"}}S.useEffect(()=>{a.current=t}),S.useEffect(()=>(r.current&&r.current.addEventListener("d",g,{once:!0}),rt(t.onOpen)&&t.onOpen(S.isValidElement(t.children)&&t.children.props),()=>{const T=a.current;rt(T.onClose)&&T.onClose(S.isValidElement(T.children)&&T.children.props)}),[]),S.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",y))}),[t.pauseOnFocusLoss]);const w={onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m};return l&&u&&(w.onMouseEnter=y,w.onMouseLeave=g),p&&(w.onClick=T=>{h&&h(T),o.canCloseOnClick&&d()}),{playToast:g,pauseToast:y,isRunning:e,preventExitTransition:s,toastRef:r,eventHandlers:w}}function ef(t){let{closeToast:e,theme:n,ariaLabel:s="close"}=t;return $.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":s},$.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},$.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Yy(t){let{delay:e,isRunning:n,closeToast:s,type:i="default",hide:r,className:o,style:a,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:p}=t;const f=r||l&&u===0,m={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(m.transform=`scaleX(${u})`);const g=cn("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),y=rt(o)?o({rtl:d,type:i,defaultClassName:g}):cn(g,o);return $.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:m,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&s()}})}const Zy=t=>{const{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:i}=Jy(t),{closeButton:r,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:d,closeToast:h,transition:p,position:f,className:m,style:g,bodyClassName:y,bodyStyle:v,progressClassName:E,progressStyle:w,updateId:T,role:A,progress:C,rtl:j,toastId:k,deleteToast:b,isIn:I,isLoading:O,iconOut:M,closeOnClick:N,theme:z}=t,Z=cn("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":N}),oe=rt(m)?m({rtl:j,position:f,type:u,defaultClassName:Z}):cn(Z,m),Ee=!!C||!a,X={closeToast:h,type:u,theme:z};let se=null;return r===!1||(se=rt(r)?r(X):S.isValidElement(r)?S.cloneElement(r,X):ef(X)),$.createElement(p,{isIn:I,done:b,position:f,preventExitTransition:n,nodeRef:s},$.createElement("div",{id:k,onClick:l,className:oe,...i,style:g,ref:s},$.createElement("div",{...I&&{role:A},className:rt(y)?y({type:u}):cn("Toastify__toast-body",y),style:v},M!=null&&$.createElement("div",{className:cn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},M),$.createElement("div",null,o)),se,$.createElement(Yy,{...T&&!Ee?{key:`pb-${T}`}:{},rtl:j,theme:z,delay:a,isRunning:e,isIn:I,closeToast:h,hide:d,type:u,style:w,className:E,controlledProgress:Ee,progress:C||0})))},_o=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},ev=vo(_o("bounce",!0));vo(_o("slide",!0));vo(_o("zoom"));vo(_o("flip"));const el=S.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:s,isToastActive:i}=Xy(t),{className:r,style:o,rtl:a,containerId:l}=t;function u(d){const h=cn("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":a});return rt(r)?r({position:d,rtl:a,defaultClassName:h}):cn(h,xr(r))}return S.useEffect(()=>{e&&(e.current=s.current)},[]),$.createElement("div",{ref:s,className:"Toastify",id:l},n((d,h)=>{const p=h.length?{...o}:{...o,pointerEvents:"none"};return $.createElement("div",{className:u(d),style:p,key:`container-${d}`},h.map((f,m)=>{let{content:g,props:y}=f;return $.createElement(Zy,{...y,isIn:i(y.toastId),style:{...y.style,"--nth":m+1,"--len":h.length},key:`toast-${y.key}`},g)}))}))});el.displayName="ToastContainer",el.defaultProps={position:"top-right",transition:ev,autoClose:5e3,closeButton:ef,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ma,Cn=new Map,Bs=[],tv=1;function tf(){return""+tv++}function nv(t){return t&&(Fn(t.toastId)||Qs(t.toastId))?t.toastId:tf()}function Ks(t,e){return Cn.size>0?pt.emit(0,t,e):Bs.push({content:t,options:e}),e.toastId}function Ur(t,e){return{...e,type:e&&e.type||t,toastId:nv(e)}}function tr(t){return(e,n)=>Ks(e,Ur(t,n))}function te(t,e){return Ks(t,Ur("default",e))}te.loading=(t,e)=>Ks(t,Ur("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),te.promise=function(t,e,n){let s,{pending:i,error:r,success:o}=e;i&&(s=Fn(i)?te.loading(i,n):te.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,p)=>{if(h==null)return void te.dismiss(s);const f={type:d,...a,...n,data:p},m=Fn(h)?{render:h}:h;return s?te.update(s,{...f,...m}):te(m.render,{...f,...m}),p},u=rt(t)?t():t;return u.then(d=>l("success",o,d)).catch(d=>l("error",r,d)),u},te.success=tr("success"),te.info=tr("info"),te.error=tr("error"),te.warning=tr("warning"),te.warn=te.warning,te.dark=(t,e)=>Ks(t,Ur("default",{theme:"dark",...e})),te.dismiss=t=>{Cn.size>0?pt.emit(1,t):Bs=Bs.filter(e=>t!=null&&e.options.toastId!==t)},te.clearWaitingQueue=function(t){return t===void 0&&(t={}),pt.emit(5,t)},te.isActive=t=>{let e=!1;return Cn.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},te.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(s,i){let{containerId:r}=i;const o=Cn.get(r||ma);return o&&o.getToast(s)}(t,e);if(n){const{props:s,content:i}=n,r={delay:100,...s,...e,toastId:e.toastId||t,updateId:tf()};r.toastId!==t&&(r.staleId=t);const o=r.render||i;delete r.render,Ks(o,r)}},0)},te.done=t=>{te.update(t,{progress:1})},te.onChange=t=>(pt.on(4,t),()=>{pt.off(4,t)}),te.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},te.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},pt.on(2,t=>{ma=t.containerId||t,Cn.set(ma,t),Bs.forEach(e=>{pt.emit(0,e.content,e.options)}),Bs=[]}).on(3,t=>{Cn.delete(t.containerId||t),Cn.size===0&&pt.off(0).off(1).off(5)});var nf={exports:{}},sv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iv=sv,rv=iv;function sf(){}function rf(){}rf.resetWarningCache=sf;var ov=function(){function t(s,i,r,o,a,l){if(l!==rv){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rf,resetWarningCache:sf};return n.PropTypes=n,n};nf.exports=ov();var x=nf.exports;const _=$g(x),av="XjEN",lv="KDHV",cv="aJv3",uv="_0efm",dv="ZqHC",hv="_2cvG",fs={linkName:av,tooltip:lv,accordionItemSmall:cv,accrodioItemLarge:uv,arrowDefault:dv,arrowDown:hv};function D({linkName:t,linkAddress:e,tooltip:n}){return c.jsx("li",{children:c.jsxs(ce,{to:e,className:fs.linkName,children:[c.jsx("span",{className:fs.tooltip,children:n}),t]})})}D.propTypes={linkName:_.string.isRequired,tooltip:_.string,linkAddress:_.string.isRequired};D.defaultProps={tooltip:""};function of({sitemapRef:t}){return c.jsx("div",{className:"tablet:block desktop:block hidden absolute left-0 top-[80px] w-full",ref:t,children:c.jsxs("ul",{className:"flex flex-row justify-center gap-open-xl px-open-gutter-desktop py-open-gutter-desktop -bg--openfoundation-primary",children:[c.jsxs("li",{className:"px-open-md py-open-sm text-open-font-xl font-open-heading",children:["About Us",c.jsxs("ul",{className:"flex flex-col gap-open-md py-open-xl text-open-font-large font-open-paragraph border-t-[1px] -border--openfoundation-secondary",children:[c.jsx(D,{linkName:"",linkAddress:"/about"}),c.jsx(D,{linkName:"",linkAddress:"/history"}),c.jsx(D,{linkName:"",linkAddress:"/team"}),c.jsx(D,{linkName:"",linkAddress:"/location"})]})]}),c.jsxs("li",{className:"px-open-md py-open-sm text-open-font-xl font-open-heading",children:["Products",c.jsx("div",{className:"",children:c.jsxs("ul",{className:"flex flex-row gap-open-xl py-open-xl text-open-font-large font-open-label border-t-[1px] -border--openfoundation-secondary",children:[c.jsxs("li",{children:["Solutions",c.jsxs("ul",{className:"font-open-paragraph flex flex-col pt-open-lg gap-open-lg",children:[c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Equipment Control System",c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"ACS/FMS",tooltip:"AGV Control System / Fleet Management System",linkAddress:"solutions/ACS"}),c.jsx(D,{linkName:"OCS",tooltip:"OHT Control System",linkAddress:"solutions/OCS"}),c.jsx(D,{linkName:"SCS",tooltip:"Stocker Control System",linkAddress:"solutions/SCS"}),c.jsx(D,{linkName:"CCS",tooltip:"Conveyor Control System",linkAddress:"solutions/CCS"}),c.jsx(D,{linkName:"IDX Controller",tooltip:"Index Control System",linkAddress:"solutions/IDX Controller"})]})]}),c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Smart Tools",c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"Map Designer",linkAddress:"solutions/Map Designer"}),c.jsx(D,{linkName:"ACS Simulator",tooltip:"AGV Control System Simulator",linkAddress:"solutions/ACS Simulator"}),c.jsx(D,{linkName:"SCS Simulator",tooltip:"Stocker Control System Simulator",linkAddress:"solutions/SCS Simulator"})]})]}),c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Monitoring Solution",c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:c.jsx(D,{linkName:"AIMS",tooltip:"Advanced Integrated Monitoring Solution",linkAddress:"solutions/AIMS"})})]}),c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Comm Driver",c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:c.jsx(D,{linkName:"Open HSMS",linkAddress:"solutions/HSMS"})})]})]})]}),c.jsxs("li",{children:["Smart Machine",c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph",children:[c.jsx(D,{linkName:"AGV - Lift Type1",linkAddress:"/machines/Lift Type1"}),c.jsx(D,{linkName:"AGV - Lift Type2",linkAddress:"/machines/Lift Type2"}),c.jsx(D,{linkName:"AGV - Fork-Lift Type",linkAddress:"/machines/Fork-Lift Type"}),c.jsx(D,{linkName:"AGV - Foup Type",linkAddress:"/machines/Foup Type"})]})]}),c.jsxs("li",{children:["Smart Device",c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph",children:c.jsx(D,{linkName:"Microsoft Hololens 2",linkAddress:"/devices/Microsoft"})})]}),c.jsxs("li",{className:"text-[#FFE500]",children:["Industries",c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"",linkAddress:"/industries/semiconductor"}),c.jsx(D,{linkName:"",linkAddress:"/industries/display"}),c.jsx(D,{linkName:"2",linkAddress:"/industries/battery"}),c.jsx(D,{linkName:"",linkAddress:"/industries/port"})]})]})]})})]}),c.jsxs("li",{className:"px-open-md py-open-sm text-open-font-xl font-open-heading",children:["Support",c.jsxs("ul",{className:"flex flex-col gap-open-md py-open-xl text-open-font-large font-open-paragraph border-t-[1px] -border--openfoundation-secondary",children:[c.jsx(D,{linkName:"",linkAddress:"/community"}),c.jsx(D,{linkName:"",linkAddress:"/library"}),c.jsx(D,{linkName:"",linkAddress:"/contact"})]})]})]})})}of.propTypes={sitemapRef:_.shape({current:_.instanceOf(Element)}).isRequired};function af({down:t}){return c.jsx("svg",{className:t?fs.arrowDown:fs.arrowDefault,width:"22",height:"12",viewBox:"0 0 26 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{id:"Vector 421",d:"M25 14L13 2L0.999999 14",stroke:"white",strokeWidth:"2"})})}af.propTypes={down:_.bool.isRequired};function at({title:t,children:e,small:n}){const[s,i]=S.useState(!1),r=()=>{i(!s)};return c.jsxs("li",{className:n?fs.accordionItemSmall:fs.accordionItemLarge,children:[c.jsxs("button",{type:"button",onClick:r,className:"flex flex-row w-full items-center justify-between gap-open-gutter-mobile",children:[c.jsx("div",{children:t}),c.jsx(af,{down:!s})]}),s&&c.jsx("ul",{children:e})]})}at.propTypes={title:_.string.isRequired,children:_.node.isRequired,small:_.bool};at.defaultProps={small:!1};function lf({sitemapRef:t}){return c.jsx("div",{className:"tablet:hidden desktop:hidden block absolute left-0 top-[40px] w-full h-[500px] overflow-auto",ref:t,children:c.jsxs("ul",{className:"flex flex-col justify-center gap-open-lg -bg--openfoundation-primary px-open-gutter-mobile py-open-gutter-mobile text-open-font-xl font-open-heading",children:[c.jsx(at,{title:"About Us",children:c.jsxs("ul",{className:"flex flex-col gap-open-md py-open-lg text-open-font-large font-open-paragraph",children:[c.jsx(D,{linkName:"",linkAddress:"/about"}),c.jsx(D,{linkName:"",linkAddress:"/history"}),c.jsx(D,{linkName:"",linkAddress:"/team"}),c.jsx(D,{linkName:"",linkAddress:"/location"})]})}),c.jsx(at,{title:"Products",children:c.jsxs("ul",{className:"flex flex-col gap-open-lg py-open-lg text-open-font-large font-open-label",children:[c.jsx(at,{title:"Solutions",small:!0,children:c.jsxs("ul",{className:"font-open-paragraph flex flex-col pt-open-lg gap-open-lg text-[#3FA9F5] text-open-font-medium",children:[c.jsx(at,{title:"Equipment Control System",children:c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"ACS/FMS",tooltip:"AGV Control System / Fleet Management System",linkAddress:"solutions/ACS"}),c.jsx(D,{linkName:"OCS",tooltip:"OHT Control System",linkAddress:"solutions/OCS"}),c.jsx(D,{linkName:"SCS",tooltip:"Stocker Control System",linkAddress:"solutions/SCS"}),c.jsx(D,{linkName:"CCS",tooltip:"Conveyor Control System",linkAddress:"solutions/CCS"}),c.jsx(D,{linkName:"IDX Controller",tooltip:"Index Control System",linkAddress:"solutions/IDX Controller"})]})}),c.jsx(at,{title:"Smart Tools",children:c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"Map Designer",linkAddress:"solutions/Map Designer"}),c.jsx(D,{linkName:"ACS Simulator",tooltip:"AGV Control System Simulator",linkAddress:"solutions/ACS Simulator"}),c.jsx(D,{linkName:"SCS Simulator",tooltip:"Stocker Control System Simulator",linkAddress:"solutions/SCS Simulator"})]})}),c.jsx(at,{title:"Monitoring Solution",children:c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:c.jsx(D,{linkName:"AIMS",tooltip:"Advanced Integrated Monitoring Solution",linkAddress:"solutions/AIMS"})})}),c.jsx(at,{title:"Comm Driver",children:c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:c.jsx(D,{linkName:"Open HSMS",linkAddress:"solutions/HSMS"})})})]})}),c.jsx(at,{title:"Smart Machine",small:!0,children:c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph",children:[c.jsx(D,{linkName:"AGV - Lift Type1",linkAddress:"/machines/Lift Type1"}),c.jsx(D,{linkName:"AGV - Lift Type2",linkAddress:"/machines/Lift Type2"}),c.jsx(D,{linkName:"AGV - Fork-Lift Type",linkAddress:"/machines/Fork-Lift Type"}),c.jsx(D,{linkName:"AGV - Foup Type",linkAddress:"/machines/Foup Type"})]})}),c.jsx(at,{title:"Smart Device",small:!0,children:c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph",children:c.jsx(D,{linkName:"Microsoft Hololens 2",linkAddress:"/devices/Microsoft"})})}),c.jsx(at,{title:"Industries",small:!0,children:c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"",linkAddress:"/industries/semiconductor"}),c.jsx(D,{linkName:"",linkAddress:"/industries/display"}),c.jsx(D,{linkName:"2",linkAddress:"/industries/battery"}),c.jsx(D,{linkName:"",linkAddress:"/industries/port"})]})})]})}),c.jsx(at,{title:"Support",children:c.jsxs("ul",{className:"flex flex-col gap-open-md py-open-xl text-open-font-large font-open-paragraph",children:[c.jsx(D,{linkName:"",linkAddress:"/community"}),c.jsx(D,{linkName:"",linkAddress:"/library"}),c.jsx(D,{linkName:"",linkAddress:"/contact"})]})})]})})}lf.propTypes={sitemapRef:_.shape({current:_.instanceOf(Element)}).isRequired};const fv="/ReOpenSG/assets/header_opensg-3PW_G86s.png",pv="data:image/svg+xml,%3csvg%20width='28'%20height='25'%20viewBox='0%200%2028%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='hamburger%201'%20clip-path='url(%23clip0_3159_10966)'%3e%3cpath%20id='Vector'%20d='M0%201.89844H28'%20stroke='white'/%3e%3cpath%20id='Vector_2'%20d='M0%2012.8984H28'%20stroke='white'/%3e%3cpath%20id='Vector_3'%20d='M0%2023.8984H28'%20stroke='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3159_10966'%3e%3crect%20width='28'%20height='24'%20fill='white'%20transform='translate(0%200.898438)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",mv="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Frame%201208'%20clip-path='url(%23clip0_3344_5496)'%3e%3cpath%20id='Vector'%20d='M0.140625%200.140625L27.8592%2027.8592'%20stroke='white'/%3e%3cpath%20id='Vector_2'%20d='M0.140625%2027.8594L27.8592%200.14079'%20stroke='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3344_5496'%3e%3crect%20width='28'%20height='28'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function gv(){const[t,e]=S.useState(null),[n,s]=S.useState(null),i=S.useRef(null),r=u=>{s(u)},o=u=>{e(u)},a=()=>{e(null)},l=Pi();return S.useEffect(()=>{a()},[l]),S.useEffect(()=>(t==="Sitemap"?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),S.useEffect(()=>{if(t){const u=i.current,d=u.querySelectorAll("[href]"),h=d[0],p=d[d.length-1],f=g=>{g.key==="Tab"&&(g.shiftKey&&document.activeElement===h?(g.preventDefault(),p.focus()):!g.shiftKey&&document.activeElement===p&&(g.preventDefault(),h.focus()))},m=g=>{g.key==="Escape"&&e(null)};return u.addEventListener("keydown",f),u.addEventListener("keydown",m),()=>{u.removeEventListener("keydown",f),u.removeEventListener("keydown",m)}}},[t,e]),c.jsxs("header",{role:"banner",className:"fixed flex justify-between items-center w-full py-open-lg px-open-margin-mobile tablet:px-open-gutter-desktop desktop:px-open-4xl -bg--openfoundation-primary -text--openfoundation-secondary font-open-font text-open-font-large font-open-paragraph h-[50px] tablet:h-[80px] desktop:h-[80px] z-20",children:[t==="Sitemap"&&c.jsx("div",{className:"block w-[100vw] h-[100vh] absolute top-[80px] left-0 backdrop-blur-sm",children:c.jsx("div",{className:"w-full h-full -bg--openfoundation-secondary opacity-20"})}),c.jsx("h1",{className:"sr-only",children:""}),c.jsx("nav",{className:"flex",children:c.jsxs("ul",{className:"flex justify-center items-center gap-open-gutter-mobile desktop:gap-open-gutter-desktop",children:[c.jsx("li",{children:c.jsx(ce,{className:"px-open-md py-open-sm",to:"/",children:c.jsx("img",{className:"w-[60px] tablet:w-[100px] desktop:w-[100px]",src:fv,alt:""})})}),t!=="Sitemap"&&c.jsxs("li",{className:"px-open-md py-open-sm desktop:block tablet:block hidden",onMouseEnter:()=>o("AboutUs"),children:[c.jsx("button",{type:"button",onClick:()=>o("AboutUs"),children:"About Us"}),t==="AboutUs"&&c.jsx("div",{className:"absolute left-0 top-[80px] w-full backdrop-blur-[2px]",ref:i,onMouseLeave:a,children:c.jsxs("ul",{className:"flex flex-col gap-open-md py-open-xl -bg--openfoundation-primary opacity-80 tablet:pl-[152px] desktop:pl-[186px]",children:[c.jsx(D,{linkName:"",linkAddress:"/about"}),c.jsx(D,{linkName:"",linkAddress:"/history"}),c.jsx(D,{linkName:"",linkAddress:"/team"}),c.jsx(D,{linkName:"",linkAddress:"/location"})]})})]}),t!=="Sitemap"&&c.jsxs("li",{className:"px-open-md py-open-sm desktop:block tablet:block hidden",onMouseEnter:()=>o("Products"),children:[c.jsx("button",{type:"button",onClick:()=>o("Products"),children:"Products"}),t==="Products"&&c.jsx("div",{className:"absolute left-0 top-[80px] w-full backdrop-blur-[2px]",ref:i,onMouseLeave:a,children:c.jsxs("ul",{className:"flex flex-row gap-open-xl px-open-xl py-open-xl text-open-font-large font-open-label -bg--openfoundation-primary opacity-80 tablet:pl-[268px] desktop:pl-[322px]",children:[c.jsxs("li",{children:["Solutions",c.jsxs("ul",{className:"font-open-paragraph flex flex-col pt-open-lg gap-open-lg",children:[c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Equipment Control System",c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"ACS/FMS",tooltip:"AGV Control System / Fleet Management System",linkAddress:"solutions/ACS"}),c.jsx(D,{linkName:"OCS",tooltip:"OHT Control System",linkAddress:"solutions/OCS"}),c.jsx(D,{linkName:"SCS",tooltip:"Stocker Control System",linkAddress:"solutions/SCS"}),c.jsx(D,{linkName:"CCS",tooltip:"Conveyor Control System",linkAddress:"solutions/CCS"}),c.jsx(D,{linkName:"IDX Controller",tooltip:"Index Control System",linkAddress:"solutions/IDX Controller"})]})]}),c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Smart Tools",c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"Map Designer",linkAddress:"solutions/Map Designer"}),c.jsx(D,{linkName:"ACS Simulator",tooltip:"AGV Control System Simulator",linkAddress:"solutions/ACS Simulator"}),c.jsx(D,{linkName:"SCS Simulator",tooltip:"Stocker Control System Simulator",linkAddress:"solutions/SCS Simulator"})]})]}),c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Monitoring Solution",c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:c.jsx(D,{linkName:"AIMS",tooltip:"Advanced Integrated Monitoring Solution",linkAddress:"solutions/AIMS"})})]}),c.jsxs("li",{className:"text-[#3FA9F5] text-open-font-medium ",children:["Comm Driver",c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium -text--openfoundation-secondary",children:c.jsx(D,{linkName:"Open HSMS",linkAddress:"solutions/HSMS"})})]})]})]}),c.jsxs("li",{children:["Smart Machine",c.jsxs("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph",children:[c.jsx(D,{linkName:"AGV - Lift Type1",linkAddress:"/machines/Lift Type1"}),c.jsx(D,{linkName:"AGV - Lift Type2",linkAddress:"/machines/Lift Type2"}),c.jsx(D,{linkName:"AGV - Fork-Lift Type",linkAddress:"/machines/Fork-Lift Type"}),c.jsx(D,{linkName:"AGV - Foup Type",linkAddress:"/machines/Foup Type"})]})]}),c.jsxs("li",{children:["Smart Device",c.jsx("ul",{className:"flex flex-col pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph",children:c.jsx(D,{linkName:"Microsoft Hololens 2",linkAddress:"/devices/Microsoft"})})]}),c.jsx("div",{className:"w-[1px] -bg--openfoundation-secondary"}),c.jsxs("li",{className:"text-[#FFE500]",children:["Industries",c.jsxs("ul",{className:"flex flex-col items-center pl-open-sm pt-open-md gap-open-md text-open-font-medium font-open-paragraph -text--openfoundation-secondary",children:[c.jsx(D,{linkName:"",linkAddress:"/industries/semiconductor"}),c.jsx(D,{linkName:"",linkAddress:"/industries/display"}),c.jsx(D,{linkName:"2",linkAddress:"/industries/battery"}),c.jsx(D,{linkName:"",linkAddress:"/industries/port"})]})]})]})})]}),t!=="Sitemap"&&c.jsxs("li",{className:"px-open-md py-open-sm desktop:block tablet:block hidden",onMouseEnter:()=>o("Support"),children:[c.jsx("button",{type:"button",onClick:()=>o("Support"),children:"Support"}),t==="Support"&&c.jsx("div",{className:"absolute left-0 top-[80px] w-full backdrop-blur-[2px]",ref:i,onMouseLeave:a,children:c.jsxs("ul",{className:"flex flex-col gap-open-md px-open-xl py-open-xl text-open-font-large -bg--openfoundation-primary opacity-80 tablet:pl-[364px] desktop:pl-[440px]",children:[c.jsx(D,{linkName:"",linkAddress:"/community"}),c.jsx(D,{linkName:"",linkAddress:"/library"}),c.jsx(D,{linkName:"",linkAddress:"/contact"})]})})]})]})}),c.jsxs("ul",{className:"flex justify-center items-center gap-open-gutter-mobile tablet:gap-open-gutter-desktop desktop:gap-open-gutter-desktop",children:[c.jsx("li",{className:"flex justify-center items-center px-open-md py-open-sm text-open-font-small desktop:text-open-font-medium tablet:text-open-font-medium",children:c.jsxs("div",{className:"flex flex-row gap-open-md",children:[c.jsx("button",{className:n!=="ENG"?"-text--openfoundation-secondary":"-text--openfoundation-tertiary",type:"button",onClick:()=>r("KOR"),children:"KOR"}),c.jsx("div",{className:"w-[1px] -bg--openfoundation-tertiary"}),c.jsx("button",{className:n==="ENG"?"-text--openfoundation-secondary":"-text--openfoundation-tertiary",type:"button",onClick:()=>r("ENG"),children:"ENG"})]})}),c.jsx("li",{className:"flex justify-center items-center",children:t==="Sitemap"?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>o(null),children:c.jsx("img",{className:"w-[16px] tablet:w-[28px] desktop:w-[28px]",src:mv,alt:" "})}),c.jsx(of,{sitemapRef:i}),c.jsx(lf,{sitemapRef:i})]}):c.jsx("button",{type:"button",onClick:()=>o("Sitemap"),children:c.jsx("img",{className:"w-[16px] tablet:w-[28px] desktop:w-[28px]",src:pv,alt:""})})})]})]})}const yv="Zcdr",vv="bhnL",_v="QneN",wv="bgex",Tv="_8BLC",Ev="Tuc-",xv="t0Mw",Av="JEoo",Sv="lKOh",Iv="GZaN",mt={contactUsWrapper:yv,link:vv,container:_v,inner:wv,content:Tv,title:Ev,text:xv,officeWrapper:Av,info:Sv,copyright:Iv};function Cv(){return c.jsxs("svg",{width:"158",height:"158",viewBox:"0 0 158 158",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-[59px] h-[59px] tablet:w-[158px] tablet:h-[158px] desktop:w-[158px] desktop:h-[158px]",children:[c.jsx("circle",{cx:"79",cy:"79",r:"79",transform:"rotate(90 79 79)",fill:"#151F2D"}),c.jsx("path",{d:"M106.536 82.5355C108.488 80.5829 108.488 77.4171 106.536 75.4645L74.7157 43.6447C72.7631 41.692 69.5973 41.692 67.6447 43.6447C65.692 45.5973 65.692 48.7631 67.6447 50.7157L95.9289 79L67.6447 107.284C65.692 109.237 65.692 112.403 67.6447 114.355C69.5973 116.308 72.7631 116.308 74.7157 114.355L106.536 82.5355ZM101 84L103 84L103 74L101 74L101 84Z",fill:"white"})]})}function bv(){return c.jsx("section",{className:mt.contactUsWrapper,children:c.jsx(ce,{to:"/contact",className:mt.link,children:c.jsx("div",{className:mt.container,children:c.jsxs("div",{className:mt.inner,children:[c.jsxs("div",{className:mt.content,children:[c.jsx("h3",{className:mt.title,children:"Contact Us"}),c.jsx("p",{className:mt.text,children:"OPENSG     "})]}),c.jsx(Cv,{})]})})})})}function Rv(){return c.jsxs("section",{className:mt.officeWrapper,children:[c.jsx("h3",{className:"sr-only",children:""}),c.jsxs("address",{className:`${mt.info} ${mt.text}`,children:[c.jsx("span",{children:"  1 51-9 M 1201"}),c.jsxs("div",{className:"flex gap-open-gutter-mobile tablet:gap-open-gutter-desktop desktop:gap-open-gutter-desktop",children:[c.jsx(ce,{to:"tel:031-373-2612",children:"T. 031-373-2612"}),c.jsx("span",{children:"F. 031-377-2615"})]})]}),c.jsx("small",{className:`${mt.copyright} ${mt.text}`,children:"Copyright OpenSG, All rights reserved."})]})}function Pv(){return c.jsxs("footer",{children:[c.jsx("h2",{className:"sr-only",children:"Footer"}),c.jsx(bv,{}),c.jsx(Rv,{})]})}function kv(){return c.jsxs(c.Fragment,{children:[c.jsx(gv,{}),c.jsxs("main",{className:"flex justify-center mx-auto font-open-font pt-[50px] tablet:pt-[80px] desktop:pt-[80px]",children:[c.jsx(Kg,{}),c.jsx(Xg,{})]}),c.jsx(Pv,{}),c.jsx(el,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}const Nv="nj3s",Ov="_2j4V",Dv="q84b",Lv="txn9",Mv="DCiX",jv="m9bt",Vv="lODv",Fv="doW5",Uv="mIKY",Bv="_6Z1t",Gv="jqIS",zv="l0-d",qv="hBzC",Hv="j-5j",$v="_2y-U",Wv="cCMn",Qv="jCvr",Kv="_9RUn",Xv="-aWF",Jv="BSSW",Yv="jFwE",Zv="W3AU",ue={Group:Nv,desc:Ov,BannerImage:Dv,title:Lv,img:Mv,Vision:jv,list:Vv,Ci:Fv,ciWrapper:Uv,imgWrapper:Bv,ciImg:Gv,CommonTitle:zv,subTitleWrapper:qv,subTitle:Hv,CommomCard:$v,carWrapper:Wv,titleText:Qv,subTitleText:Kv,CommonPalette:Xv,left:Jv,right:Yv,innerList:Zv};function wo({title:t,subtitle:e,children:n}){return c.jsxs("div",{className:ue.CommonTitle,children:[c.jsx("h3",{className:ue.title,children:t}),c.jsxs("div",{className:ue.subTitleWrapper,children:[c.jsx("p",{className:ue.subTitle,children:e}),n]})]})}wo.propTypes={title:_.string.isRequired,subtitle:_.string.isRequired,children:_.node};wo.defaultProps={children:null};function e_(){return c.jsx("section",{className:ue.Group,children:c.jsx(wo,{title:"WHAT WE DO",subtitle:"Open Solution Group",children:c.jsxs("p",{className:ue.desc,children:[c.jsx("span",{children:"  "}),c.jsx("span",{children:"     "})]})})})}const t_="/ReOpenSG/assets/about_banner-k_kkz470.png";function n_(){return c.jsxs("section",{className:ue.BannerImage,children:[c.jsx("h3",{className:ue.title,children:" "}),c.jsx("img",{src:t_,alt:"About Banner",className:ue.img})]})}function Ar({title:t,desc:e,children:n}){return c.jsx("li",{className:ue.CommomCard,children:c.jsxs("div",{className:ue.carWrapper,children:[c.jsxs("div",{className:ue.title,children:[c.jsx("span",{className:ue.titleText,children:t}),c.jsx("div",{className:ue.subTitleText,children:n})]}),c.jsx("p",{className:ue.desc,children:e})]})})}Ar.propTypes={title:_.string.isRequired,desc:_.string.isRequired,children:_.node.isRequired};function s_(){return c.jsxs("section",{className:ue.Vision,children:[c.jsx(wo,{title:"OUR VISION",subtitle:"  "}),c.jsxs("ul",{className:ue.list,children:[c.jsxs(Ar,{title:"Respect",desc:"        ,     ,        .",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"  "})]}),c.jsxs(Ar,{title:"Creative",desc:"       ,             .",children:[c.jsx("span",{children:" "}),c.jsx("span",{children:"  "})]}),c.jsxs(Ar,{title:"Communication",desc:"       ,             .",children:[c.jsx("span",{children:" "}),c.jsx("span",{children:"  "})]})]})]})}function Xs({rgb:t,cmyk:e,hex:n,roundedLeft:s,roundedRight:i}){return c.jsx("li",{style:{backgroundColor:n},className:`
        ${ue.CommonPalette}
        ${s&&ue.left}
        ${i&&ue.right}
      `,children:c.jsxs("ul",{className:ue.innerList,children:[c.jsx("li",{children:t}),c.jsx("li",{children:e}),c.jsx("li",{children:n})]})})}Xs.propTypes={rgb:_.string.isRequired,cmyk:_.string.isRequired,hex:_.string.isRequired,roundedLeft:_.bool,roundedRight:_.bool};Xs.defaultProps={roundedLeft:!1,roundedRight:!1};function i_(){return c.jsxs("section",{className:ue.Ci,children:[c.jsxs("div",{className:ue.ciWrapper,children:[c.jsx("h3",{className:ue.title,children:"CI"}),c.jsxs("p",{className:ue.desc,children:["OpenSG SG Solution Group  .",c.jsx("br",{}),"       ",c.jsx("br",{}),"            ."]}),c.jsxs("ul",{className:ue.list,children:[c.jsx(Xs,{rgb:"R 6 / G 64 / B 108",cmyk:"C 98 / M 82 / Y 41 / K 6",hex:"#06406C",roundedLeft:!0}),c.jsx(Xs,{rgb:"R 76 / G 140 / B 200",cmyk:"C 70 / M 36 / Y 2 / K",hex:"#4C8CC8"}),c.jsx(Xs,{rgb:"R 201 / G 202 / B 203",cmyk:"C 0 / M 0 / Y 0 / K 30",hex:"#C9CACB",roundedRight:!0})]})]}),c.jsx("div",{className:ue.imgWrapper,children:c.jsx("img",{src:"/ci.png",alt:"CI ",className:ue.ciImg})})]})}function r_(){return c.jsxs("div",{className:"w-full",children:[c.jsx(e_,{}),c.jsx(n_,{}),c.jsx(s_,{}),c.jsx(i_,{})]})}const o_="W-Ij",a_="LZq1",l_="_2ndX",c_="YZuI",u_="RYRb",d_="-tCH",h_="UO5f",f_="cHno",p_="eGHh",m_="j1Nj",g_="BTTb",y_="BIkM",v_="FQKt",__="I-Ux",w_="jJYk",T_="Yw2h",E_="_4NcW",x_="_0FUe",A_="Zjxd",S_="Ez9K",I_="Pqp1",C_="GiXq",b_="JqcM",R_="Zmge",P_="VJPu",k_="mON3",N_="W--7",O_="_2Azx",D_="oGp7",L_="yxh3",M_="_2oyY",j_="_96LE",V_="LkPT",F_="bI9-",B={partnerSwiper:o_,home:a_,black:l_,white:c_,slogan:u_,wrapper:d_,title:h_,gradient:f_,subtitle:p_,universe:m_,titleWrapper:g_,solutions:y_,ul:v_,button:__,listWrapper:w_,description:T_,summary:E_,more:x_,image:A_,products:S_,summaryWrapper:I_,main:C_,sub:b_,cardContainer:R_,cardWrapper:P_,mainKeyword:k_,subWrapper:N_,subKeyword:O_,industry:D_,industriesContainer:L_,card:M_,krTitle:j_,enTitle:V_,partner:F_};function U_(){return c.jsx("section",{className:B.slogan,children:c.jsxs("div",{className:B.wrapper,children:[c.jsxs("h3",{className:B.title,children:["OPEN Your Future",c.jsx("br",{}),"with",c.jsx("span",{className:B.gradient,children:"OpenSG"})]}),c.jsxs("small",{className:B.subtitle,children:["  ,    ",c.jsx("br",{}),"OpenSG       "]})]})})}var Vt,Ds,Qt=Math.abs,Kt=Math.sin,yt=Math.cos,$e=Math.max,We=Math.min,cf=Math.ceil,hi=Math.sqrt,On=Math.pow,nr={},Js={},ga={0:"0,",1:"17,",2:"34,",3:"51,",4:"68,",5:"85,",6:"102,",7:"119,",8:"136,",9:"153,",a:"170,",A:"170,",b:"187,",B:"187,",c:"204,",C:"204,",d:"221,",D:"221,",e:"238,",E:"238,",f:"255,",F:"255,"},Qe,ve,K,Xl,Cs,To,Eo,ye=document,Sn,_e,ya,st={};for(Vt=0;Vt<256;++Vt)Ds=Vt.toString(16),Vt<16&&(Ds="0"+Ds),Js[Ds]=Js[Ds.toUpperCase()]=Vt.toString()+",";function At(t){return typeof t<"u"}function Mi(t){return typeof t=="object"&&t!=null}function Sr(t,e,n){return isNaN(t)?n:We(n,$e(e,t))}function Un(){return!1}function Xt(){return new Date().valueOf()}function B_(t,e){var n=[],s=t.length,i;for(i=0;i<s;++i)n.push(t[i]);return n.sort(e),n}function uf(t){for(var e=t.length-1,n,s;e;)s=~~(Math.random()*e),n=t[e],t[e]=t[s],t[s]=n,--e}function df(){var t=window.AudioContext||window.webkitAudioContext;if(_e=new t,!_e){_e="off";return}return _e}function Gu(t,e,n,s,i,r,o){var a=s,l=i,u=n*.01,d=80*u,h=100*u,p=40*u,f=30*u,m=f/2,g=a+d,y=g-p,v=l+h,E=v-f,w=l+f,T=l+h/2;if(e.setTransform(1,0,0,1,0,0),e.globalAlpha=1,e.strokeStyle=o,e.lineWidth=r,e.lineJoin="round",e.beginPath(),e.moveTo(y,w),e.lineTo(y,E),e.moveTo(g,v),e.lineTo(y,E),e.lineTo(a,E),e.lineTo(a,w),e.lineTo(y,w),e.lineTo(g,l),t){e.lineTo(g,w),e.moveTo(g,E),e.lineTo(g,v),e.moveTo(g-m,T-m),e.lineTo(g+m,T+m),e.moveTo(g+m,T-m),e.lineTo(g-m,T+m),e.stroke();return}e.closePath(),e.stroke()}function wn(t,e,n){this.x=t,this.y=e,this.z=n}Cs=wn.prototype;Cs.length=function(){return hi(this.x*this.x+this.y*this.y+this.z*this.z)};Cs.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z};Cs.cross=function(t){var e=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,s=this.x*t.y-this.y*t.x;return new wn(e,n,s)};Cs.angle=function(t){var e=this.dot(t),n;return e==0?Math.PI/2:(n=e/(this.length()*t.length()),n>=1?0:n<=-1?Math.PI:Math.acos(n))};Cs.unit=function(){var t=this.length();return new wn(this.x/t,this.y/t,this.z/t)};function G_(t,e){e=e*Math.PI/180,t=t*Math.PI/180;var n=Kt(t)*yt(e),s=-Kt(e),i=-yt(t)*yt(e);return new wn(n,s,i)}function Ot(t){this[1]={1:t[0],2:t[1],3:t[2]},this[2]={1:t[3],2:t[4],3:t[5]},this[3]={1:t[6],2:t[7],3:t[8]}}Xl=Ot.prototype;Ot.Identity=function(){return new Ot([1,0,0,0,1,0,0,0,1])};Ot.Rotation=function(t,e){var n=Kt(t),s=yt(t),i=1-s;return new Ot([s+On(e.x,2)*i,e.x*e.y*i-e.z*n,e.x*e.z*i+e.y*n,e.y*e.x*i+e.z*n,s+On(e.y,2)*i,e.y*e.z*i-e.x*n,e.z*e.x*i-e.y*n,e.z*e.y*i+e.x*n,s+On(e.z,2)*i])};Xl.mul=function(t){var e=[],n,s,i=t.xform?1:0;for(n=1;n<=3;++n)for(s=1;s<=3;++s)i?e.push(this[n][1]*t[1][s]+this[n][2]*t[2][s]+this[n][3]*t[3][s]):e.push(this[n][s]*t);return new Ot(e)};Xl.xform=function(t){var e={},n=t.x,s=t.y,i=t.z;return e.x=n*this[1][1]+s*this[2][1]+i*this[3][1],e.y=n*this[1][2]+s*this[2][2]+i*this[3][2],e.z=n*this[1][3]+s*this[2][3]+i*this[3][3],e};function z_(t,e,n,s,i){var r,o,a,l,u=[],d=2/t,h;for(h=Math.PI*(3-hi(5)+(parseFloat(i)?parseFloat(i):0)),r=0;r<t;++r)o=r*d-1+d/2,a=hi(1-o*o),l=r*h,u.push([yt(l)*a*e,o*n,Kt(l)*a*s]);return u}function hf(t,e,n,s,i,r){var o,a=[],l=2/t,u,d,h,p,f;for(u=Math.PI*(3-hi(5)+(parseFloat(r)?parseFloat(r):0)),d=0;d<t;++d)h=d*l-1+l/2,o=d*u,p=yt(o),f=Kt(o),a.push(e?[h*n,p*s,f*i]:[p*n,h*s,f*i]);return a}function ff(t,e,n,s,i,r){var o,a=[],l=Math.PI*2/e,u,d,h;for(u=0;u<e;++u)o=u*l,d=yt(o),h=Kt(o),a.push(t?[r*n,d*s,h*i]:[d*n,r*s,h*i]);return a}function q_(t,e,n,s,i){return hf(t,0,e,n,s,i)}function H_(t,e,n,s,i){return hf(t,1,e,n,s,i)}function $_(t,e,n,s,i){return i=isNaN(i)?0:i*1,ff(0,t,e,n,s,i)}function W_(t,e,n,s,i){return i=isNaN(i)?0:i*1,ff(1,t,e,n,s,i)}function Q_(t){var e=new Image;e.onload=function(){var n=e.width/2,s=e.height/2;t.centreFunc=function(i,r,o,a,l){i.setTransform(1,0,0,1,0,0),i.globalAlpha=1,i.drawImage(e,a-n,l-s)}},e.src=t.centreImage}function K_(t,e){var n=t,s,i,r=(e*1).toPrecision(3)+")";return t[0]==="#"?(nr[t]||(t.length===4?nr[t]="rgba("+ga[t[1]]+ga[t[2]]+ga[t[3]]:nr[t]="rgba("+Js[t.substr(1,2)]+Js[t.substr(3,2)]+Js[t.substr(5,2)]),n=nr[t]+r):t.substr(0,4)==="rgb("||t.substr(0,4)==="hsl("?n=t.replace("(","a(").replace(")",","+r):(t.substr(0,5)==="rgba("||t.substr(0,5)==="hsla(")&&(s=t.lastIndexOf(",")+1,i=t.indexOf(")"),e*=parseFloat(t.substring(s,i)),n=t.substr(0,s)+e.toPrecision(3)+")"),n}function vt(t,e){if(window.G_vmlCanvasManager)return null;var n=ye.createElement("canvas");return n.width=t,n.height=e,n}function X_(){var t=vt(3,3),e,n;return t?(e=t.getContext("2d"),e.strokeStyle="#000",e.shadowColor="#fff",e.shadowBlur=3,e.globalAlpha=0,e.strokeRect(2,2,2,2),e.globalAlpha=1,n=e.getImageData(2,2,1,1),t=null,n.data[0]>0):!1}function J_(t,e,n,s){var i=t.createLinearGradient(0,0,e,0),r;for(r in s)i.addColorStop(1-r,s[r]);t.fillStyle=i,t.fillRect(0,n,e,1)}function sr(t,e,n){var s=1024,i=1,r=t.weightGradient,o,a,l,u;if(t.gCanvas)a=t.gCanvas.getContext("2d"),i=t.gCanvas.height;else{if(Mi(r[0])?i=r.length:r=[r],t.gCanvas=o=vt(s,i),!o)return null;for(a=o.getContext("2d"),l=0;l<i;++l)J_(a,s,l,r[l])}return n=$e(We(n||0,i-1),0),u=a.getImageData(~~((s-1)*e),n,1,1).data,"rgba("+u[0]+","+u[1]+","+u[2]+","+u[3]/255+")"}function pf(t,e,n,s,i,r,o,a,l,u,d,h){var p=i+(a||0)+(l.length&&l[0]<0?Qt(l[0]):0),f=r+(a||0)+(l.length&&l[1]<0?Qt(l[1]):0),m,g;for(t.font=e,t.textBaseline="top",t.fillStyle=n,o&&(t.shadowColor=o),a&&(t.shadowBlur=a),l.length&&(t.shadowOffsetX=l[0],t.shadowOffsetY=l[1]),m=0;m<s.length;++m)g=0,d&&(h=="right"?g=u-d[m]:h=="centre"&&(g=(u-d[m])/2)),t.fillText(s[m],p+g,f),f+=parseInt(e)}function Bn(t,e,n,s,i,r,o){r?(t.beginPath(),t.moveTo(e,n+i-r),t.arcTo(e,n,e+r,n,r),t.arcTo(e+s,n,e+s,n+r,r),t.arcTo(e+s,n+i,e+s-r,n+i,r),t.arcTo(e,n+i,e,n+i-r,r),t.closePath(),t[o?"stroke":"fill"]()):t[o?"strokeRect":"fillRect"](e,n,s,i)}function tl(t,e,n,s,i,r,o,a,l){this.strings=t,this.font=e,this.width=n,this.height=s,this.maxWidth=i,this.stringWidths=r,this.align=o,this.valign=a,this.scale=l}Eo=tl.prototype;Eo.SetImage=function(t,e,n,s,i,r,o,a){this.image=t,this.iwidth=e*this.scale,this.iheight=n*this.scale,this.ipos=s,this.ipad=i*this.scale,this.iscale=a,this.ialign=r,this.ivalign=o};Eo.Align=function(t,e,n){var s=0;return n=="right"||n=="bottom"?s=e-t:n!="left"&&n!="top"&&(s=(e-t)/2),s};Eo.Create=function(t,e,n,s,i,r,o,a,l){var u,d,h,p,f,m,g,y,v,E,w,T,A,C,j,k=Qt(o[0]),b=Qt(o[1]),I,O;return a=$e(a,k+r,b+r),f=2*(a+s),g=2*(a+s),d=this.width+f,h=this.height+g,v=E=a+s,this.image&&(w=T=a+s,A=this.iwidth,C=this.iheight,this.ipos=="top"||this.ipos=="bottom"?(A<this.width?w+=this.Align(A,this.width,this.ialign):v+=this.Align(this.width,A,this.align),this.ipos=="top"?E+=C+this.ipad:T+=this.height+this.ipad,d=$e(d,A+f),h+=C+this.ipad):(C<this.height?T+=this.Align(C,this.height,this.ivalign):E+=this.Align(this.height,C,this.valign),this.ipos=="right"?w+=this.width+this.ipad:v+=A+this.ipad,d+=A+this.ipad,h=$e(h,C+g))),u=vt(d,h),u?(f=g=s/2,m=d-s,y=h-s,j=We(l,m/2,y/2),p=u.getContext("2d"),e&&(p.fillStyle=e,Bn(p,f,g,m,y,j)),s&&(p.strokeStyle=n,p.lineWidth=s,Bn(p,f,g,m,y,j,!0)),(r||k||b)&&(I=vt(d,h),I&&(O=p,p=I.getContext("2d"))),pf(p,this.font,t,this.strings,v,E,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&p.drawImage(this.image,w,T,A,C),O&&(p=O,i&&(p.shadowColor=i),r&&(p.shadowBlur=r),p.shadowOffsetX=o[0],p.shadowOffsetY=o[1],p.drawImage(I,0,0)),u):null};function Br(t,e,n){var s=vt(e,n),i;return s?(i=s.getContext("2d"),i.drawImage(t,(e-t.width)/2,(n-t.height)/2),s):null}function va(t,e,n){var s=vt(e,n),i;return s?(i=s.getContext("2d"),i.drawImage(t,0,0,e,n),s):null}function zu(t,e,n,s,i,r,o,a,l,u){var d=e+(2*a+r)*s,h=n+(2*a+r)*s,p=vt(d,h),f,m,g,y,v,E,w,T;return p?(r*=s,l*=s,m=g=r/2,y=d-r,v=h-r,a=a*s+m,f=p.getContext("2d"),T=We(l,y/2,v/2),i&&(f.fillStyle=i,Bn(f,m,g,y,v,T)),r&&(f.strokeStyle=o,f.lineWidth=r,Bn(f,m,g,y,v,T,!0)),u?(E=vt(d,h),w=E.getContext("2d"),w.drawImage(t,a,a,e,n),w.globalCompositeOperation="source-in",w.fillStyle=o,w.fillRect(0,0,d,h),w.globalCompositeOperation="destination-over",w.drawImage(p,0,0),w.globalCompositeOperation="source-over",f.drawImage(E,0,0)):f.drawImage(t,a,a,t.width,t.height),{image:p,width:d/s,height:h/s}):null}function Y_(t,e,n,s,i){var r,o,a=parseFloat(e),l=$e(n,s);return r=vt(n,s),r?(e.indexOf("%")>0?a=l*a/100:a=a*i,o=r.getContext("2d"),o.globalCompositeOperation="source-over",o.fillStyle="#fff",a>=l/2?(a=We(n,s)/2,o.beginPath(),o.moveTo(n/2,s/2),o.arc(n/2,s/2,a,0,2*Math.PI,!1),o.fill(),o.closePath()):(a=We(n/2,s/2,a),Bn(o,0,0,n,s,a,!0),o.fill()),o.globalCompositeOperation="source-in",o.drawImage(t,0,0,n,s),r):null}function Z_(t,e,n,s,i,r,o){var a=Qt(o[0]),l=Qt(o[1]),u=e+(a>r?a+r:r*2)*s,d=n+(l>r?l+r:r*2)*s,h=s*((r||0)+(o[0]<0?a:0)),p=s*((r||0)+(o[1]<0?l:0)),f,m;return f=vt(u,d),f?(m=f.getContext("2d"),i&&(m.shadowColor=i),r&&(m.shadowBlur=r*s),o&&(m.shadowOffsetX=o[0]*s,m.shadowOffsetY=o[1]*s),m.drawImage(t,h,p,e,n),{image:f,width:u/s,height:d/s}):null}function qu(t,e,n){var s=parseInt(t.toString().length*n),i=parseInt(n*2*t.length),r=vt(s,i),o,a,l,u,d,h,p,f;if(!r)return null;for(o=r.getContext("2d"),o.fillStyle="#000",o.fillRect(0,0,s,i),pf(o,n+"px "+e,"#fff",t,0,0,0,0,[],"centre"),a=o.getImageData(0,0,s,i),l=a.width,u=a.height,f={min:{x:l,y:u},max:{x:-1,y:-1}},h=0;h<u;++h)for(d=0;d<l;++d)p=(h*l+d)*4,a.data[p+1]>0&&(d<f.min.x&&(f.min.x=d),d>f.max.x&&(f.max.x=d),h<f.min.y&&(f.min.y=h),h>f.max.y&&(f.max.y=h));return l!=s&&(f.min.x*=s/l,f.max.x*=s/l),u!=i&&(f.min.y*=s/u,f.max.y*=s/u),r=null,f}function Jl(t){return"'"+t.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'"}function Ys(t,e,n){n=n||ye,n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)}function ew(t,e,n){n=n||ye,n.removeEventListener?n.removeEventListener(t,e):n.detachEvent("on"+t,e)}function Gr(t,e,n,s){var i=s.imageScale,r,o,a,l,u,d;if(!e.complete)return Ys("load",function(){Gr(t,e,n,s)},e);if(!t.complete)return Ys("load",function(){Gr(t,e,n,s)},t);e.width=e.width,e.height=e.height,i&&(t.width=e.width*i,t.height=e.height*i),n.iw=t.width,n.ih=t.height,s.txtOpt&&(o=t,r=s.zoomMax*s.txtScale,u=n.iw*r,d=n.ih*r,u<e.naturalWidth||d<e.naturalHeight?(o=va(t,u,d),o&&(n.fimage=o)):(u=n.iw,d=n.ih,r=1),parseFloat(s.imageRadius)&&(n.image=n.fimage=t=Y_(n.image,s.imageRadius,u,d,r)),n.HasText()||(s.shadow&&(o=Z_(n.image,u,d,r,s.shadow,s.shadowBlur,s.shadowOffset),o&&(n.fimage=o.image,n.w=o.width,n.h=o.height)),(s.bgColour||s.bgOutlineThickness)&&(a=s.bgColour=="tag"?tt(n.a,"background-color"):s.bgColour,l=s.bgOutline=="tag"?tt(n.a,"color"):s.bgOutline||s.textColour,u=n.fimage.width,d=n.fimage.height,s.outlineMethod=="colour"&&(o=zu(n.fimage,u,d,r,a,s.bgOutlineThickness,n.outline.colour,s.padding,s.bgRadius,1),o&&(n.oimage=o.image)),o=zu(n.fimage,u,d,r,a,s.bgOutlineThickness,l,s.padding,s.bgRadius),o&&(n.fimage=o.image,n.w=o.width,n.h=o.height)),s.outlineMethod=="size"&&(s.outlineIncrease>0?(n.iw+=2*s.outlineIncrease,n.ih+=2*s.outlineIncrease,u=r*n.iw,d=r*n.ih,o=va(n.fimage,u,d),n.oimage=o,n.fimage=Br(n.fimage,n.oimage.width,n.oimage.height)):(u=r*(n.iw+2*s.outlineIncrease),d=r*(n.ih+2*s.outlineIncrease),o=va(n.fimage,u,d),n.oimage=Br(o,n.fimage.width,n.fimage.height))))),n.Init()}function tt(t,e){var n=ye.defaultView,s=e.replace(/\-([a-z])/g,function(i){return i.charAt(1).toUpperCase()});return n&&n.getComputedStyle&&n.getComputedStyle(t,null).getPropertyValue(e)||t.currentStyle&&t.currentStyle[s]}function tw(t,e,n){var s=1,i;return e?s=1*(t.getAttribute(e)||n):(i=tt(t,"font-size"))&&(s=i.indexOf("px")>-1&&i.replace("px","")*1||i.indexOf("pt")>-1&&i.replace("pt","")*1.25||i*3.3),s}function Kn(t){return t.target&&At(t.target.id)?t.target.id:t.srcElement.parentNode.id}function xo(t,e){var n,s,i=parseInt(tt(e,"width"))/e.width,r=parseInt(tt(e,"height"))/e.height;return At(t.offsetX)?n={x:t.offsetX,y:t.offsetY}:(s=yf(e.id),At(t.changedTouches)&&(t=t.changedTouches[0]),t.pageX&&(n={x:t.pageX-s.x,y:t.pageY-s.y})),n&&i&&r&&(n.x/=i,n.y/=r),n}function nw(t){var e=t.target||t.fromElement.parentNode,n=V.tc[e.id];n&&(n.mx=n.my=-1,n.UnFreeze(),n.EndDrag())}function mf(t){var e,n=V,s,i,r=Kn(t);for(e in n.tc)s=n.tc[e],s.tttimer&&(clearTimeout(s.tttimer),s.tttimer=null);r&&n.tc[r]&&(s=n.tc[r],(i=xo(t,s.canvas))&&(s.mx=i.x,s.my=i.y,s.Drag(t,i)),s.drawn=0)}function sw(t){var e=V,n=ye.addEventListener?0:1,s=Kn(t);s&&t.button==n&&e.tc[s]&&e.tc[s].BeginDrag(t)}function iw(t){var e=V,n=ye.addEventListener?0:1,s=Kn(t),i;s&&t.button==n&&e.tc[s]&&(i=e.tc[s],mf(t),!i.EndDrag()&&!i.touchState&&i.Clicked(t))}function rw(t){var e=Kn(t),n=e&&V.tc[e],s;n&&t.changedTouches&&(t.touches.length==1&&n.touchState==0?(n.touchState=1,n.BeginDrag(t),(s=xo(t,n.canvas))&&(n.mx=s.x,n.my=s.y,n.drawn=0)):t.targetTouches.length==2&&n.pinchZoom?(n.touchState=3,n.EndDrag(),n.BeginPinch(t)):(n.EndDrag(),n.EndPinch(),n.touchState=0))}function Hu(t){var e=Kn(t),n=e&&V.tc[e];if(n&&t.changedTouches){switch(n.touchState){case 1:n.Draw(),n.Clicked();break;case 2:n.EndDrag();break;case 3:n.EndPinch()}n.touchState=0}}function ow(t){var e,n=V,s,i,r=Kn(t);for(e in n.tc)s=n.tc[e],s.tttimer&&(clearTimeout(s.tttimer),s.tttimer=null);if(s=r&&n.tc[r],s&&t.changedTouches&&s.touchState){switch(s.touchState){case 1:case 2:(i=xo(t,s.canvas))&&(s.mx=i.x,s.my=i.y,s.Drag(t,i)&&(s.touchState=2));break;case 3:s.Pinch(t)}s.drawn=0}}function $u(t){var e=V,n=Kn(t);n&&e.tc[n]&&(t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.tc[n].Wheel((t.wheelDelta||t.detail)>0))}function aw(t){var e,n=V;clearTimeout(n.scrollTimer);for(e in n.tc)n.tc[e].Pause();n.scrollTimer=setTimeout(function(){var s,i=V;for(s in i.tc)i.tc[s].Resume()},n.scrollPause)}function lw(){gf(Xt())}function gf(t){var e=V.tc,n;V.NextFrame(V.interval),t=t||Xt();for(n in e)e[n].Draw(t)}function yf(t){var e=ye.getElementById(t),n=e.getBoundingClientRect(),s=ye.documentElement,i=ye.body,r=window,o=r.pageXOffset||s.scrollLeft,a=r.pageYOffset||s.scrollTop,l=s.clientLeft||i.clientLeft,u=s.clientTop||i.clientTop;return{x:n.left+o-l,y:n.top+a-u}}function cw(t,e,n,s){var i=t.radius*t.z1/(t.z1+t.z2+e.z);return{x:e.x*i*n,y:e.y*i*s,z:e.z,w:(t.z1-e.z)/t.z2}}function vf(t){this.e=t,this.br=0,this.line=[],this.text=[],this.original=t.innerText||t.textContent}To=vf.prototype;To.Empty=function(){for(var t=0;t<this.text.length;++t)if(this.text[t].length)return!1;return!0};To.Lines=function(t){var e=t?1:0,n,s,i;for(t=t||this.e,n=t.childNodes,s=n.length,i=0;i<s;++i)n[i].nodeName=="BR"?(this.text.push(this.line.join(" ")),this.br=1):n[i].nodeType==3?this.br?(this.line=[n[i].nodeValue],this.br=0):this.line.push(n[i].nodeValue):this.Lines(n[i]);return e||this.br||this.text.push(this.line.join(" ")),this.text};To.SplitWidth=function(t,e,n,s){var i,r,o,a=[];for(e.font=s+"px "+n,i=0;i<this.text.length;++i){for(o=this.text[i].split(/\s+/),this.line=[o[0]],r=1;r<o.length;++r)e.measureText(this.line.join(" ")+" "+o[r]).width>t?(a.push(this.line.join(" ")),this.line=[o[r]]):this.line.push(o[r]);a.push(this.line.join(" "))}return this.text=a};function _f(t,e){this.ts=null,this.tc=t,this.tag=e,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=t.pulsateTo<1,this.colour=t.outlineColour,this.adash=~~t.outlineDash,this.agap=~~t.outlineDashSpace||this.adash,this.aspeed=t.outlineDashSpeed*1,this.colour=="tag"?this.colour=tt(e.a,"color"):this.colour=="tagbg"&&(this.colour=tt(e.a,"background-color")),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=t.outlineRadius|0,this.SetMethod(t.outlineMethod)}Qe=_f.prototype;Qe.SetMethod=function(t){var e={block:["PreDraw","DrawBlock"],colour:["PreDraw","DrawColour"],outline:["PostDraw","DrawOutline"],classic:["LastDraw","DrawOutline"],size:["PreDraw","DrawSize"],none:["LastDraw"]},n=e[t]||e.outline;t=="none"?this.Draw=function(){return 1}:this.drawFunc=this[n[1]],this[n[0]]=this.Draw};Qe.Update=function(t,e,n,s,i,r,o,a){var l=this.tc.outlineOffset,u=2*l;this.x=i*t+o-l,this.y=i*e+a-l,this.w=i*n+u,this.h=i*s+u,this.sc=i,this.z=r};Qe.Ants=function(t){if(this.adash){var e=this.adash,n=this.agap,s=this.aspeed,i=e+n,r=0,o=e,a=n,l=0,u=0,d;s&&(u=Qt(s)*(Xt()-this.ts)/50,s<0&&(u=864e4-u),s=~~u%i),s?(e>=s?(r=e-s,o=s):(a=i-s,l=n-a),d=[r,a,o,l]):d=[e,n],t.setLineDash(d)}};Qe.DrawOutline=function(t,e,n,s,i,r){var o=We(this.radius,i/2,s/2);t.strokeStyle=r,this.Ants(t),Bn(t,e,n,s,i,o,!0)};Qe.DrawSize=function(t,e,n,s,i,r,o,a,l){var u=o.w,d=o.h,h,p,f;return this.pulsate?(o.image?f=(o.image.height+this.tc.outlineIncrease)/o.image.height:f=o.oscale,p=o.fimage||o.image,h=1+(f-1)*(1-this.pulse),o.h*=h,o.w*=h):p=o.oimage,o.alpha=1,o.Draw(t,a,l,p),o.h=d,o.w=u,1};Qe.DrawColour=function(t,e,n,s,i,r,o,a,l){return o.oimage?(this.pulse<1?(o.alpha=1-On(this.pulse,2),o.Draw(t,a,l,o.fimage),o.alpha=this.pulse):o.alpha=1,o.Draw(t,a,l,o.oimage),1):this[o.image?"DrawColourImage":"DrawColourText"](t,e,n,s,i,r,o,a,l)};Qe.DrawColourText=function(t,e,n,s,i,r,o,a,l){var u=o.colour;return o.colour=r,o.alpha=1,o.Draw(t,a,l),o.colour=u,1};Qe.DrawColourImage=function(t,e,n,s,i,r,o,a,l){var u=t.canvas,d=~~$e(e,0),h=~~$e(n,0),p=We(u.width-d,s)+.5|0,f=We(u.height-h,i)+.5|0,m;return Sn?(Sn.width=p,Sn.height=f):Sn=vt(p,f),Sn?(m=Sn.getContext("2d"),m.drawImage(u,d,h,p,f,0,0,p,f),t.clearRect(d,h,p,f),this.pulsate?o.alpha=1-On(this.pulse,2):o.alpha=1,o.Draw(t,a,l),t.setTransform(1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(d,h,p,f),t.clip(),t.globalCompositeOperation="source-in",t.fillStyle=r,t.fillRect(d,h,p,f),t.restore(),t.globalAlpha=1,t.globalCompositeOperation="destination-over",t.drawImage(Sn,0,0,p,f,d,h,p,f),t.globalCompositeOperation="source-over",1):this.SetMethod("outline")};Qe.DrawBlock=function(t,e,n,s,i,r){var o=We(this.radius,i/2,s/2);t.fillStyle=r,Bn(t,e,n,s,i,o)};Qe.DrawSimple=function(t,e,n,s,i,r){var o=this.tc;return t.setTransform(1,0,0,1,0,0),t.strokeStyle=this.colour,t.lineWidth=o.outlineThickness,t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0,t.globalAlpha=r?i:1,this.drawFunc(t,this.x,this.y,this.w,this.h,this.colour,e,n,s)};Qe.DrawPulsate=function(t,e,n,s){var i=Xt()-this.ts,r=this.tc,o=r.pulsateTo+(1-r.pulsateTo)*(.5+yt(2*Math.PI*i/(1e3*r.pulsateTime))/2);return this.pulse=o=V.Smooth(1,o),this.DrawSimple(t,e,n,s,o,1)};Qe.Active=function(t,e,n){var s=e>=this.x&&n>=this.y&&e<=this.x+this.w&&n<=this.y+this.h;return s?this.ts=this.ts||Xt():this.ts=null,s};Qe.PreDraw=Qe.PostDraw=Qe.LastDraw=Un;function zr(t,e,n,s,i,r,o,a,l,u,d,h,p,f){this.tc=t,this.image=null,this.text=e,this.text_original=f,this.line_widths=[],this.title=n.title||null,this.a=n,this.position=new wn(s[0],s[1],s[2]),this.x=this.y=this.z=0,this.w=i,this.h=r,this.colour=o||t.textColour,this.bgColour=a||t.bgColour,this.bgRadius=l|0,this.bgOutline=u||this.colour,this.bgOutlineThickness=d|0,this.textFont=h||t.textFont,this.padding=p|0,this.sc=this.alpha=1,this.weighted=!t.weight,this.outline=new _f(t,this),this.audio=null}ve=zr.prototype;ve.Init=function(t){var e=this.tc;this.textHeight=e.textHeight,this.HasText()?this.Measure(e.ctxt,e):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=e.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(e)};ve.Draw=Un;ve.HasText=function(){return this.text&&this.text[0].length>0};ve.EqualTo=function(t){var e=t.getElementsByTagName("img");return this.a.href!=t.href?0:e.length?this.image.src==e[0].src:(t.innerText||t.textContent)==this.text_original};ve.SetImage=function(t){this.image=this.fimage=t};ve.SetAudio=function(t){this.audio=t,this.audio.load()};ve.SetDraw=function(t){this.Draw=this.fimage?t.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,t.noSelect&&(this.CheckActive=Un)};ve.MeasureText=function(t){var e,n=this.text.length,s=0,i;for(e=0;e<n;++e)this.line_widths[e]=i=t.measureText(this.text[e]).width,s=$e(s,i);return s};ve.Measure=function(t,e){var n=qu(this.text,this.textFont,this.textHeight),s,i,r,o,a,l,u,d,h;u=n?n.max.y+n.min.y:this.textHeight,t.font=this.font=this.textHeight+"px "+this.textFont,l=this.MeasureText(t),e.txtOpt&&(s=e.txtScale,i=s*this.textHeight,r=i+"px "+this.textFont,o=[s*e.shadowOffset[0],s*e.shadowOffset[1]],t.font=r,a=this.MeasureText(t),h=new tl(this.text,r,a+s,s*u+s,a,this.line_widths,e.textAlign,e.textVAlign,s),this.image&&h.SetImage(this.image,this.iw,this.ih,e.imagePosition,e.imagePadding,e.imageAlign,e.imageVAlign,e.imageScale),d=h.Create(this.colour,this.bgColour,this.bgOutline,s*this.bgOutlineThickness,e.shadow,s*e.shadowBlur,o,s*this.padding,s*this.bgRadius),e.outlineMethod=="colour"?this.oimage=h.Create(this.outline.colour,this.bgColour,this.outline.colour,s*this.bgOutlineThickness,e.shadow,s*e.shadowBlur,o,s*this.padding,s*this.bgRadius):e.outlineMethod=="size"&&(n=qu(this.text,this.textFont,this.textHeight+e.outlineIncrease),i=n.max.y+n.min.y,r=s*(this.textHeight+e.outlineIncrease)+"px "+this.textFont,t.font=r,a=this.MeasureText(t),h=new tl(this.text,r,a+s,s*i+s,a,this.line_widths,e.textAlign,e.textVAlign,s),this.image&&h.SetImage(this.image,this.iw+e.outlineIncrease,this.ih+e.outlineIncrease,e.imagePosition,e.imagePadding,e.imageAlign,e.imageVAlign,e.imageScale),this.oimage=h.Create(this.colour,this.bgColour,this.bgOutline,s*this.bgOutlineThickness,e.shadow,s*e.shadowBlur,o,s*this.padding,s*this.bgRadius),this.oscale=this.oimage.width/d.width,e.outlineIncrease>0?d=Br(d,this.oimage.width,this.oimage.height):this.oimage=Br(this.oimage,d.width,d.height)),d&&(this.fimage=d,l=this.fimage.width/s,u=this.fimage.height/s),this.SetDraw(e),e.txtOpt=!!this.fimage),this.h=u,this.w=l};ve.SetFont=function(t,e,n,s){this.textFont=t,this.colour=e,this.bgColour=n,this.bgOutline=s,this.Measure(this.tc.ctxt,this.tc)};ve.SetWeight=function(t){var e=this.tc,n=e.weightMode.split(/[, ]/),s,i,r=t.length;if(this.HasText()){for(this.weighted=!0,i=0;i<r;++i)s=n[i]||"size",s=="both"?(this.Weight(t[i],e.ctxt,e,"size",e.min_weight[i],e.max_weight[i],i),this.Weight(t[i],e.ctxt,e,"colour",e.min_weight[i],e.max_weight[i],i)):this.Weight(t[i],e.ctxt,e,s,e.min_weight[i],e.max_weight[i],i);this.Measure(e.ctxt,e)}};ve.Weight=function(t,e,n,s,i,r,o){t=isNaN(t)?1:t;var a=(t-i)/(r-i);s=="colour"?this.colour=sr(n,a,o):s=="bgcolour"?this.bgColour=sr(n,a,o):s=="bgoutline"?this.bgOutline=sr(n,a,o):s=="outline"?this.outline.colour=sr(n,a,o):s=="size"&&(n.weightSizeMin>0&&n.weightSizeMax>n.weightSizeMin?this.textHeight=n.weightSize*(n.weightSizeMin+(n.weightSizeMax-n.weightSizeMin)*a):this.textHeight=$e(1,t*n.weightSize))};ve.SetShadowColourFixed=function(t,e,n){t.shadowColor=e};ve.SetShadowColourAlpha=function(t,e,n){t.shadowColor=K_(e,n)};ve.DrawText=function(t,e,n){var s=this.tc,i=this.x,r=this.y,o=this.sc,a,l;for(t.globalAlpha=this.alpha,t.fillStyle=this.colour,s.shadow&&this.SetShadowColour(t,s.shadow,this.alpha),t.font=this.font,i+=e/o,r+=n/o-this.h/2,a=0;a<this.text.length;++a)l=i,s.textAlign=="right"?l+=this.w/2-this.line_widths[a]:s.textAlign=="centre"?l-=this.line_widths[a]/2:l-=this.w/2,t.setTransform(o,0,0,o,o*l,o*r),t.fillText(this.text[a],0,0),r+=this.textHeight};ve.DrawImage=function(t,e,n,s){var i=this.x,r=this.y,o=this.sc,a=s||this.fimage,l=this.w,u=this.h,d=this.alpha,h=this.shadow;t.globalAlpha=d,h&&this.SetShadowColour(t,h,d),i+=e/o-l/2,r+=n/o-u/2,t.setTransform(o,0,0,o,o*i,o*r),t.drawImage(a,0,0,l,u)};ve.DrawImageIE=function(t,e,n){var s=this.fimage,i=this.sc,r=s.width=this.w*i,o=s.height=this.h*i,a=this.x*i+e-r/2,l=this.y*i+n-o/2;t.setTransform(1,0,0,1,0,0),t.globalAlpha=this.alpha,t.drawImage(s,a,l)};ve.Calc=function(t,e){var n,s=this.tc,i=s.minBrightness,r=s.maxBrightness,o=s.max_radius;return n=t.xform(this.position),this.xformed=n,n=cw(s,n,s.stretchX,s.stretchY),this.x=n.x,this.y=n.y,this.z=n.z,this.sc=n.w,this.alpha=e*Sr(i+(r-i)*(o-this.z)/(2*o),0,1),this.xformed};ve.UpdateActive=function(t,e,n){var s=this.outline,i=this.w,r=this.h,o=this.x-i/2,a=this.y-r/2;return s.Update(o,a,i,r,this.sc,this.z,e,n),s};ve.CheckActive=function(t,e,n){var s=this.tc,i=this.UpdateActive(t,e,n);return i.Active(t,s.mx,s.my)?i:null};ve.Clicked=function(t){var e=this.a,n=e.target,s=e.href,i;if(n!=""&&n!="_self"){if(self.frames[n])self.frames[n].document.location=s;else{try{if(top.frames[n]){top.frames[n].document.location=s;return}}catch{}window.open(s,n)}return}if(ye.createEvent){if(i=ye.createEvent("MouseEvents"),i.initMouseEvent("click",1,1,window,0,0,0,0,0,0,0,0,0,0,null),!e.dispatchEvent(i))return}else if(e.fireEvent&&!e.fireEvent("onclick"))return;ye.location=s};ve.StopAudio=function(){this.audio&&this.playing&&this.audio.pause(),this.stopped=1,this.playing=0};ve.PlayAudio=function(){if(!(_e==="off"||this.tc.audioOff)&&!(!_e&&!df())){var t=this.tc.audio,e=this.tc.gain,n="suspended",s;if(this.audio&&(this.track||(this.track=_e.createMediaElementSource(this.audio),this.gain=_e.createGain(),this.track.connect(this.gain),this.gain.connect(_e.destination)),t=this.audio,e=this.gain,!t.paused))return 1;if(t)return _e.state==n&&_e.resume(),_e.state==n?void 0:(e.gain.value=We(2,$e(0,this.tc.audioVolume*1)),t.currentTime=0,this.stopped=0,s=t.play(),s!==void 0&&s.then(i=>{this.stopped?this.audio.pause():this.playing=1}),1)}};function V(t,e,n){var s,i,r=ye.getElementById(t),o=["id","class","innerHTML"],a;if(!r)throw 0;if(At(window.G_vmlCanvasManager)&&(r=window.G_vmlCanvasManager.initElement(r),this.ie=parseFloat(navigator.appVersion.split("MSIE")[1])),r&&(!r.getContext||!r.getContext("2d").fillText)){for(i=ye.createElement("DIV"),s=0;s<o.length;++s)i[o[s]]=r[o[s]];throw r.parentNode.insertBefore(i,r),r.parentNode.removeChild(r),0}for(s in V.options)this[s]=n&&At(n[s])?n[s]:At(V[s])?V[s]:V.options[s];if(this.canvas=r,this.ctxt=r.getContext("2d"),this.z1=250/$e(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=We(r.height,r.width)*.0075,this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&Jl(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=Sr(this.pulsateTo,0,1),this.minBrightness=Sr(this.minBrightness,0,1),this.maxBrightness=Sr(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline="top",this.lx=(this.lock+"").indexOf("x")+1,this.ly=(this.lock+"").indexOf("y")+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=e||t,this.repeatTags=We(64,~~this.repeatTags),this.minTags=We(200,~~this.minTags),~~this.scrollPause>0?V.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(s=this.GetTags().length)&&(this.repeatTags=cf(this.minTags/s)-1),this.transform=Ot.Identity(),this.startTime=this.time=Xt(),this.mx=this.my=-1,this.centreImage&&Q_(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming=typeof V[this.animTiming]=="function"?V[this.animTiming]:V.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=X_()):delete this.shadow,this.activeAudio===!1?_e="off":this.activeAudio&&this.LoadAudio(),this.Load(),e&&this.hideTags&&function(l){V.loaded?l.HideTags():Ys("load",function(){l.HideTags()},window)}(this),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=r.title,r.title="",this.tooltip=="native"?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=ye.createElement("div"),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position="absolute",this.ttdiv.style.zIndex=r.style.zIndex+1,Ys("mouseover",function(l){l.target.style.display="none"},this.ttdiv),ye.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!st[t])for(st[t]=[["mousemove",mf],["mouseout",nw],["mouseup",iw],["touchstart",rw],["touchend",Hu],["touchcancel",Hu],["touchmove",ow]],this.dragControl&&(st[t].push(["mousedown",sw]),st[t].push(["selectstart",Un])),this.wheelZoom&&(st[t].push(["mousewheel",$u]),st[t].push(["DOMMouseScroll",$u])),this.scrollPause&&st[t].push(["scroll",aw,window]),s=0;s<st[t].length;++s)i=st[t][s],Ys(i[0],i[1],i[2]?i[2]:r);V.started||(a=window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,V.NextFrame=a?V.NextFrameRAF:V.NextFrameTimeout,V.interval=this.interval,V.NextFrame(this.interval),V.started=1)}K=V.prototype;K.SourceElements=function(){return ye.querySelectorAll?ye.querySelectorAll("#"+this.source):[ye.getElementById(this.source)]};K.HideTags=function(){var t=this.SourceElements(),e;for(e=0;e<t.length;++e)t[e].style.display="none"};K.GetTags=function(){var t=this.SourceElements(),e,n=[],s,i,r;for(r=0;r<=this.repeatTags;++r)for(s=0;s<t.length;++s)for(e=t[s].getElementsByTagName("a"),i=0;i<e.length;++i)n.push(e[i]);return n};K.Message=function(t){var e=[],n,s,i=t.split(""),r,o,a,l;for(n=0;n<i.length;++n)i[n]!=" "&&(s=n-i.length/2,r=ye.createElement("A"),r.href="#",r.innerText=i[n],a=100*Kt(s/9),l=-100*yt(s/9),o=new zr(this,i[n],r,[a,0,l],2,18,"#000","#fff",0,0,0,"monospace",2,i[n]),o.Init(),e.push(o));return e};K.AddAudio=function(t,e){if(_e!=="off"){var n=t.getElementsByTagName("audio");n.length&&(e.SetAudio(n[0]),this.hasAudio=1)}};K.CreateTag=function(t){var e,n,s,i,r,o,a,l,u=[0,0,0];if(this.imageMode!="text"&&(e=t.getElementsByTagName("img"),e.length&&(n=new Image,n.src=e[0].src,!this.imageMode)))return s=new zr(this,"",t,u,0,0),s.SetImage(n),Gr(n,e[0],s,this),this.AddAudio(t,s),s;if(this.imageMode!="image"&&(r=new vf(t),i=r.Lines(),r.Empty()?r=null:(o=this.textFont||Jl(tt(t,"font-family")),this.splitWidth&&(i=r.SplitWidth(this.splitWidth,this.ctxt,o,this.textHeight)),a=this.bgColour=="tag"?tt(t,"background-color"):this.bgColour,l=this.bgOutline=="tag"?tt(t,"color"):this.bgOutline)),r||n)return s=new zr(this,i,t,u,2,this.textHeight+2,this.textColour||tt(t,"color"),a,this.bgRadius,l,this.bgOutlineThickness,o,this.padding,r&&r.original),n?(s.SetImage(n),Gr(n,e[0],s,this)):s.Init(),this.AddAudio(t,s),s};K.UpdateTag=function(t,e){var n=this.textColour||tt(e,"color"),s=this.textFont||Jl(tt(e,"font-family")),i=this.bgColour=="tag"?tt(e,"background-color"):this.bgColour,r=this.bgOutline=="tag"?tt(e,"color"):this.bgOutline;t.a=e,t.title=e.title,(t.colour!=n||t.textFont!=s||t.bgColour!=i||t.bgOutline!=r)&&t.SetFont(s,n,i,r)};K.Weight=function(t){var e=t.length,n,s,i,r=[],o,a=this.weightFrom?this.weightFrom.split(/[, ]/):[null],l=a.length;for(s=0;s<e;++s)for(r[s]=[],i=0;i<l;++i)n=tw(t[s].a,a[i],this.textHeight),(!this.max_weight[i]||n>this.max_weight[i])&&(this.max_weight[i]=n),(!this.min_weight[i]||n<this.min_weight[i])&&(this.min_weight[i]=n),r[s][i]=n;for(i=0;i<l;++i)this.max_weight[i]>this.min_weight[i]&&(o=1);if(o)for(s=0;s<e;++s)t[s].SetWeight(r[s])};K.Load=function(){var t=this.GetTags(),e=[],n,s,i,r,o,a,l,u,d=[],h={sphere:z_,vcylinder:q_,hcylinder:H_,vring:$_,hring:W_};if(t.length){for(d.length=t.length,u=0;u<t.length;++u)d[u]=u;for(this.shuffleTags&&uf(d),r=100*this.radiusX,o=100*this.radiusY,a=100*this.radiusZ,this.max_radius=$e(r,$e(o,a)),u=0;u<t.length;++u)s=this.CreateTag(t[d[u]]),s&&e.push(s);for(this.weight&&this.Weight(e,!0),this.shapeArgs?this.shapeArgs[0]=e.length:(i=this.shape.toString().split(/[(),]/),n=i.shift(),typeof window[n]=="function"?this.shape=window[n]:this.shape=h[n]||h.sphere,this.shapeArgs=[e.length,r,o,a].concat(i)),l=this.shape.apply(this,this.shapeArgs),this.listLength=e.length,u=0;u<e.length;++u)e[u].position=new wn(l[u][0],l[u][1],l[u][2])}this.noTagsMessage&&!e.length&&(u=this.imageMode&&this.imageMode!="both"?this.imageMode+" ":"",e=this.Message("No "+u+"tags")),this.taglist=e};K.Update=function(){var t=this.GetTags(),e=[],n=this.taglist,s,i=[],r=[],o,a,l,u,d;if(!this.shapeArgs)return this.Load();if(t.length){for(l=this.listLength=t.length,a=n.length,u=0;u<a;++u)e.push(n[u]),r.push(u);for(u=0;u<l;++u){for(d=0,s=0;d<a;++d)n[d].EqualTo(t[u])&&(this.UpdateTag(e[d],t[u]),s=r[d]=-1);s||i.push(u)}for(u=0,d=0;u<a;++u)r[d]==-1?r.splice(d,1):++d;if(r.length){for(uf(r);r.length&&i.length;)u=r.shift(),d=i.shift(),e[u]=this.CreateTag(t[d]);for(r.sort(function(h,p){return h-p});r.length;)e.splice(r.pop(),1)}for(d=e.length/(i.length+1),u=0;i.length;)e.splice(cf(++u*d),0,this.CreateTag(t[i.shift()]));for(this.shapeArgs[0]=l=e.length,o=this.shape.apply(this,this.shapeArgs),u=0;u<l;++u)e[u].position=new wn(o[u][0],o[u][1],o[u][2]);this.weight&&this.Weight(e)}this.taglist=e};K.SetShadow=function(t){t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffset[0],t.shadowOffsetY=this.shadowOffset[1]};K.LoadAudio=function(){!_e&&!df()||(this.audio=ye.createElement("audio"),this.audio.src=this.activeAudio,this.track=_e.createMediaElementSource(this.audio),this.gain=_e.createGain(),this.track.connect(this.gain),this.gain.connect(_e.destination),this.hasAudio=1,ya=function(t){_e.resume(),ye.removeEventListener("click",ya)},ye.addEventListener("click",ya))};K.ShowAudioIcon=function(){var t=this.audioIconSize,e=this.canvas,n=this.ctxt,s=e.width-t-3,i=e.height-t-3,r=this.audioIconThickness,o="#000",a="#fff",l=this.audioIconDark,u=this.audioOff,d="suspended";_e&&(u||(u=_e.state===d),this.audioIcon&&this.hasAudio&&(Gu(u,n,t,s,i,r+1,l?a:o),Gu(u,n,t,s,i,r,l?o:a)))};K.CheckAudioIcon=function(){var t=this.audioIconSize,e=this.canvas,n=this.audioIconThickness/2,s=e.width-t-3-n,i=e.height-t-3-n;if(this.audioIcon&&this.mx>=s&&this.my>=i)return!0};K.ToggleAudio=function(){var t=this.audioOff||_e&&_e.state==="suspended";t||this.currentAudio&&this.currentAudio.StopAudio(),this.audioOff=!t};K.Draw=function(t){if(!this.paused){var e=this.canvas,n=e.width,s=e.height,i=0,r=(t-this.time)*V.interval/1e3,o=n/2+this.offsetX,a=s/2+this.offsetY,l=this.ctxt,u,d,h,p=-1,f=this.taglist,m=f.length,g=this.active&&this.active.tag,y="",v=this.frontSelect,E=this.centreFunc==Un,w;if(this.time=t,this.frozen&&this.drawn)return this.Animate(n,s,r);for(w=this.AnimateFixed(),l.setTransform(1,0,0,1,0,0),h=0;h<m;++h)f[h].Calc(this.transform,this.fixedAlpha);if(f=B_(f,function(T,A){return A.z-T.z}),w&&this.fixedAnim.active)u=this.fixedAnim.tag.UpdateActive(l,o,a);else if(this.active=null,this.CheckAudioIcon())y="pointer";else{for(h=0;h<m;++h)d=this.mx>=0&&this.my>=0&&this.taglist[h].CheckActive(l,o,a),d&&d.sc>i&&(!v||d.z<=0)&&(u=d,p=h,u.tag=this.taglist[h],i=d.sc);this.active=u}for(this.txtOpt||this.shadow&&this.SetShadow(l),l.clearRect(0,0,n,s),h=0;h<m;++h){if(!E&&f[h].z<=0){try{this.centreFunc(l,n,s,o,a)}catch(T){alert(T),this.centreFunc=Un}E=!0}u&&u.tag==f[h]&&u.PreDraw(l,f[h],o,a)||f[h].Draw(l,o,a),u&&u.tag==f[h]&&u.PostDraw(l)}this.freezeActive&&u?this.Freeze():(this.UnFreeze(),this.drawn=m==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),w||this.Animate(n,s,r),u&&(u.LastDraw(l),u.tag!=g&&(this.currentAudio&&this.currentAudio!=u.tag&&this.currentAudio.StopAudio(),u.tag.PlayAudio()&&(this.currentAudio=u.tag)),y=this.activeCursor),e.style.cursor=y,this.Tooltip(u,this.taglist[p]),this.audioIcon&&this.ShowAudioIcon()}};K.TooltipNone=function(){};K.TooltipNative=function(t,e){t?this.canvas.title=e&&e.title?e.title:"":this.canvas.title=this.ctitle};K.SetTTDiv=function(t,e){var n=this,s=n.ttdiv.style;t!=n.ttdiv.innerHTML&&(s.display="none"),n.ttdiv.innerHTML=t,e&&(e.title=n.ttdiv.innerHTML),s.display=="none"&&!n.tttimer&&(n.tttimer=setTimeout(function(){var i=yf(n.canvas.id);s.display="block",s.left=i.x+n.mx+"px",s.top=i.y+n.my+24+"px",n.tttimer=null},n.tooltipDelay))};K.TooltipDiv=function(t,e){t&&e&&e.title?this.SetTTDiv(e.title,e):!t&&this.mx!=-1&&this.my!=-1&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display="none"};K.Transform=function(t,e,n){if(e||n){var s=Kt(e),i=yt(e),r=Kt(n),o=yt(n),a=new Ot([o,0,r,0,1,0,-r,0,o]),l=new Ot([1,0,0,0,i,-s,0,s,i]);t.transform=t.transform.mul(a.mul(l))}};K.AnimateFixed=function(){var t,e,n,s,i;return this.fadeIn&&(e=Xt()-this.startTime,e>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=e/this.fadeIn),this.fixedAnim?(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),t=this.fixedAnim,e=Xt()-t.t0,n=t.angle,i=this.animTiming(t.t,e),this.transform=t.transform,e>=t.t?(this.fixedCallbackTag=t.tag,this.fixedCallback=t.cb,this.fixedAnim=this.yaw=this.pitch=0):n*=i,s=Ot.Rotation(n,t.axis),this.transform=this.transform.mul(s),this.fixedAnim!=0):!1};K.AnimatePosition=function(t,e,n){var s=this,i=s.mx,r=s.my,o,a;!s.frozen&&i>=0&&r>=0&&i<t&&r<e?(o=s.maxSpeed,a=s.reverse?-1:1,s.lx||(s.yaw=(i*2*o/t-o)*a*n),s.ly||(s.pitch=(r*2*o/e-o)*-a*n),s.initial=null):s.initial||(s.frozen&&!s.freezeDecel?s.yaw=s.pitch=0:s.Decel(s)),this.Transform(s,s.pitch,s.yaw)};K.AnimateDrag=function(t,e,n){var s=this,i=100*n*s.maxSpeed/s.max_radius/s.zoom;s.dx||s.dy?(s.lx||(s.yaw=s.dx*i/s.stretchX),s.ly||(s.pitch=s.dy*-i/s.stretchY),s.dx=s.dy=0,s.initial=null):s.initial||s.Decel(s),this.Transform(s,s.pitch,s.yaw)};K.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)};K.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)};K.Decel=function(t){var e=t.minSpeed,n=Qt(t.yaw),s=Qt(t.pitch);!t.lx&&n>e&&(t.yaw=n>t.z0?t.yaw*t.decel:0),!t.ly&&s>e&&(t.pitch=s>t.z0?t.pitch*t.decel:0)};K.Zoom=function(t){this.z2=this.z1*(1/t),this.drawn=0};K.Clicked=function(t){if(this.CheckAudioIcon()){this.ToggleAudio();return}var e=this.active;try{e&&e.tag&&(this.clickToFront===!1||this.clickToFront===null?e.tag.Clicked(t):this.TagToFront(e.tag,this.clickToFront,function(){e.tag.Clicked(t)},!0))}catch{}};K.Wheel=function(t){var e=this.zoom+this.zoomStep*(t?1:-1);this.zoom=We(this.zoomMax,$e(this.zoomMin,e)),this.Zoom(this.zoom)};K.BeginDrag=function(t){this.down=xo(t,this.canvas),t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault()};K.Drag=function(t,e){if(this.dragControl&&this.down){var n=this.dragThreshold*this.dragThreshold,s=e.x-this.down.x,i=e.y-this.down.y;(this.dragging||s*s+i*i>n)&&(this.dx=s,this.dy=i,this.dragging=1,this.down=e)}return this.dragging};K.EndDrag=function(){var t=this.dragging;return this.dragging=this.down=null,t};function wf(t){var e=t.targetTouches[0],n=t.targetTouches[1];return hi(On(n.pageX-e.pageX,2)+On(n.pageY-e.pageY,2))}K.BeginPinch=function(t){this.pinched=[wf(t),this.zoom],t.preventDefault&&t.preventDefault()};K.Pinch=function(t){var e,n,s=this.pinched;s&&(n=wf(t),e=s[1]*n/s[0],this.zoom=We(this.zoomMax,$e(this.zoomMin,e)),this.Zoom(this.zoom))};K.EndPinch=function(t){this.pinched=null};K.Pause=function(){this.paused=!0};K.Resume=function(){this.paused=!1};K.SetSpeed=function(t){this.initial=t,this.yaw=t[0]*this.maxSpeed,this.pitch=t[1]*this.maxSpeed};K.FindTag=function(t){if(!At(t))return null;if(At(t.index)&&(t=t.index),!Mi(t))return this.taglist[t];var e,n,s;for(At(t.id)?(e="id",n=t.id):At(t.text)&&(e="innerText",n=t.text),s=0;s<this.taglist.length;++s)if(this.taglist[s].a[e]==n)return this.taglist[s]};K.RotateTag=function(t,e,n,s,i,r){var o=t.Calc(this.transform,1),a=new wn(o.x,o.y,o.z),l=G_(n,e),u=a.angle(l),d=a.cross(l).unit();u==0?(this.fixedCallbackTag=t,this.fixedCallback=i):this.fixedAnim={angle:-u,axis:d,t:s,t0:Xt(),cb:i,tag:t,active:r}};K.TagToFront=function(t,e,n,s){this.RotateTag(t,0,0,e,n,s)};K.Volume=function(t){this.audioVolume=t*1};V.Start=function(t,e,n){V.Delete(t),V.tc[t]=new V(t,e,n)};function Ao(t,e){V.tc[e]&&V.tc[e][t]()}V.Linear=function(t,e){return e/t};V.Smooth=function(t,e){return .5-yt(e*Math.PI/t)/2};V.Pause=function(t){Ao("Pause",t)};V.Resume=function(t){Ao("Resume",t)};V.Reload=function(t){Ao("Load",t)};V.Update=function(t){Ao("Update",t)};V.SetSpeed=function(t,e){return Mi(e)&&V.tc[t]&&!isNaN(e[0])&&!isNaN(e[1])?(V.tc[t].SetSpeed(e),!0):!1};V.TagToFront=function(t,e){return Mi(e)?(e.lat=e.lng=0,V.RotateTag(t,e)):!1};V.RotateTag=function(t,e){if(Mi(e)&&V.tc[t]){isNaN(e.time)&&(e.time=500);var n=V.tc[t].FindTag(e);if(n)return V.tc[t].RotateTag(n,e.lat,e.lng,e.time,e.callback,e.active),!0}return!1};V.Delete=function(t){var e,n;if(st[t]&&(n=ye.getElementById(t),n))for(e=0;e<st[t].length;++e)ew(st[t][e][0],st[t][e][1],n);delete st[t],delete V.tc[t]};V.NextFrameRAF=function(){requestAnimationFrame(gf)};V.NextFrameTimeout=function(t){setTimeout(lw,t)};V.tc={};V.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:"pointer",pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:"#ffff99",outlineThickness:2,outlineOffset:5,outlineMethod:"outline",outlineRadius:0,textColour:"#ff99ff",textHeight:15,textFont:"Helvetica, Arial, sans-serif",shadow:"#000",shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:"size",weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:"#f00",.33:"#ff0",.66:"#0f0",1:"#00f"},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:"sphere",lock:null,tooltip:null,tooltipDelay:300,tooltipClass:"tctooltip",radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:Un,splitWidth:0,animTiming:"Smooth",clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:"centre",textVAlign:"middle",imageMode:null,imagePosition:null,imagePadding:2,imageAlign:"centre",imageVAlign:"middle",noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1,activeAudio:"",audioVolume:1,audioIcon:1,audioIconSize:20,audioIconThickness:2,audioIconDark:0};for(Vt in V.options)V[Vt]=V.options[Vt];const uw="/ReOpenSG/assets/home_universeCircle-VvoueRzp.png";function dw(){const[t,e]=S.useState({width:550,height:550}),[n,s]=S.useState(21);return S.useEffect(()=>{const i=()=>{window.innerWidth<=1023?(e({width:330,height:330}),s(15)):(e({width:550,height:550}),s(21))};return window.addEventListener("resize",i),i(),()=>{window.removeEventListener("resize",i)}},[]),S.useEffect(()=>{try{V.Start("myCanvas","tags",{textColour:"white",reverse:!0,depth:.8,maxSpeed:.07,outlineMethod:"none",textHeight:n,wheelZoom:!1})}catch{document.getElementById("myCanvasContainer").style.display="none"}},[t]),c.jsxs("div",{style:{backgroundImage:`url('${uw}')`},className:"border-none bg-cover",children:[c.jsx("div",{id:"myCanvasContainer",className:"",children:c.jsx("canvas",{id:"myCanvas",width:t.width,height:t.height,children:c.jsx("p",{children:"Anything in here will be replaced on browsers that do not support the canvas element"})})}),c.jsx("div",{id:"tags",style:{display:"none"},children:c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(ce,{to:"/industries/semiconductor",children:"semiconductor"})}),c.jsx("li",{children:c.jsx(ce,{to:"/industries/display",children:"display"})}),c.jsx("li",{children:c.jsx(ce,{to:"/industries/battery",children:"battery"})}),c.jsx("li",{children:c.jsx(ce,{to:"/industries/port",children:"port"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/ACS",children:"ACS"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/ACS",children:"AGV"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/OCS",children:"OCS"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/SCS",children:"SCS"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/CCS",children:"CCS"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/IDX Controller",children:"IDX Controller"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/Map Designer",children:"Map Designer"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/AIMS",children:"AIMS"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/HSMS",children:"HSMS"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/ACS Simulator",children:"ACS Simulator"})}),c.jsx("li",{children:c.jsx(ce,{to:"/solutions/SCS Simulator",children:"SCS Simulator"})}),c.jsx("li",{children:c.jsx(ce,{to:"/machines/Lift Type",children:"AGV Lift Type"})}),c.jsx("li",{children:c.jsx(ce,{to:"/machines/Lift Type2",children:"AGV Lift Type2"})}),c.jsx("li",{children:c.jsx(ce,{to:"/machines/Fork-Lift Type",children:"AGV Fork-Lift Type"})}),c.jsx("li",{children:c.jsx(ce,{to:"/machines/Foup Type",children:"AGV Foup Type"})}),c.jsx("li",{children:c.jsx(ce,{to:"/devices/Microsoft",children:"HoloLens"})})]})})]})}const hw="/ReOpenSG/assets/home_universe-GTmfwSql.png";function fw(){return c.jsxs("section",{className:B.universe,style:{backgroundImage:`url('${hw}')`},children:[c.jsxs("div",{className:B.titleWrapper,children:[c.jsx("p",{className:B.subtitle,children:"Explore OpenSG"}),c.jsx("h3",{className:B.title,children:"OPENSG  "})]}),c.jsx(dw,{})]})}const pw="/ReOpenSG/assets/home_solutions0-_v2oOmCZ.png",mw="/ReOpenSG/assets/home_solutions1-lPLdf8fR.png",gw="/ReOpenSG/assets/home_solutions2-KndxSuz-.png",yw="/ReOpenSG/assets/home_solutions3-CnxbxdzW.png",vw="/ReOpenSG/assets/home_solutions4-Ts1LJ63l.png",_w="/ReOpenSG/assets/home_solutions5-Sikpcie0.png",ww="/ReOpenSG/assets/home_solutions6-m1AYszJi.png";function Tw(){const[t,e]=S.useState(null),n=xs(),s=[{id:1,name:"AIMS",desc:"          ",img:mw,route:"/solutions/AIMS"},{id:2,name:"ACS",desc:"AGV      AGV Traffic   ",img:gw,route:"/solutions/ACS"},{id:3,name:"CCS",desc:"Conveyor            ",img:yw,route:"/solutions/CCS"},{id:4,name:"SCS",desc:"Stocker         ",img:vw,route:"/solutions/"},{id:5,name:"IDX",desc:"Indexer   , EQ   Product , Stocker    ",img:_w,route:"/solutions/IDX Controller"},{id:6,name:"OCS",desc:"  OHT   Traffic   OHT   ",img:ww,route:"/solutions/OCS"}],i=o=>{e(o)},r=()=>{t!=null&&n(`${s[t-1].route}`)};return c.jsxs("section",{className:B.solutions,children:[c.jsxs("div",{className:"w-full flex justify-between",children:[c.jsx("h3",{className:B.title,children:"Open Solutions"}),c.jsx("ul",{className:B.ul,children:s.map(o=>c.jsx("li",{children:c.jsx("button",{type:"button",onClick:()=>i(o.id),className:`${B.button} ${t===o.id?"-bg--open-accent-accent-2":""}`,children:o.name})},o.id))})]}),c.jsxs("div",{className:B.listWrapper,children:[c.jsx("div",{className:B.description,children:t?c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:B.title,children:s[t-1].name}),c.jsx("p",{className:B.summary,children:s[t-1].desc}),c.jsx("button",{type:"button",className:B.more,onClick:r,children:"Learn More >"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:B.title,children:"Solution "}),c.jsx("p",{className:B.summary,children:"   ."})]})}),c.jsx("img",{alt:t&&t.name,src:t?`${s[t-1].img}`:`${pw}`,className:B.image})]})]})}function Tf({name:t,desc:e,imgUrl:n}){return c.jsxs("div",{className:B.cardWrapper,children:[c.jsxs("div",{className:B.summaryWrapper,children:[c.jsx("h4",{className:B.mainKeyword,children:c.jsx("span",{children:t})}),c.jsxs("div",{className:B.subWrapper,children:[c.jsx("p",{className:B.subKeyword,children:e}),c.jsx("button",{type:"button",className:B.button,children:"Learn More >"})]})]}),c.jsx("img",{src:n,alt:"product",className:B.image})]})}Tf.propTypes={name:x.PropTypes.string.isRequired,desc:x.PropTypes.string.isRequired,imgUrl:x.PropTypes.string.isRequired};const Ew="/ReOpenSG/assets/home_products1-PPf-R26-.png",xw="/ReOpenSG/assets/home_products2-MO8RTQUs.png",Aw="/ReOpenSG/assets/home_products3-smvt4IxO.png";function Sw(){const t=[{id:1,name:"Solutions",desc:"OpenSG solution .",route:"/solutions/ACS",imgUrl:Ew},{id:2,name:"Smart Machine",desc:"OpenSG machine .",route:"/machines/Lift Type",imgUrl:xw},{id:3,name:"Smart Device",desc:"OpenSG device .",route:"/devices/Microsoft",imgUrl:Aw}];return c.jsxs("section",{className:B.products,children:[c.jsx("h3",{className:B.title,children:"Our Products"}),c.jsxs("div",{className:B.summaryWrapper,children:[c.jsxs("div",{className:B.main,children:[c.jsx("p",{children:" "}),c.jsx("p",{children:" ."})]}),c.jsxs("p",{className:B.sub,children:[c.jsxs("span",{className:"flex flex-col -text--open-gray-400",children:[c.jsx("span",{children:"  "}),c.jsx("span",{children:" "})]}),c.jsxs("span",{className:"flex flex-col",children:[c.jsx("span",{children:"    ,"}),c.jsx("span",{children:"OpenSG  ."})," "]})]})]}),c.jsx("div",{className:B.cardContainer,children:t.map(e=>c.jsx(ce,{to:`${e.route}`,children:c.jsx(Tf,{name:e.name,desc:e.desc,imgUrl:e.imgUrl},e.id)},e.id))})]})}let ir;const Iw=new Uint8Array(16);function Cw(){if(!ir&&(ir=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ir))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ir(Iw)}const Me=[];for(let t=0;t<256;++t)Me.push((t+256).toString(16).slice(1));function bw(t,e=0){return Me[t[e+0]]+Me[t[e+1]]+Me[t[e+2]]+Me[t[e+3]]+"-"+Me[t[e+4]]+Me[t[e+5]]+"-"+Me[t[e+6]]+Me[t[e+7]]+"-"+Me[t[e+8]]+Me[t[e+9]]+"-"+Me[t[e+10]]+Me[t[e+11]]+Me[t[e+12]]+Me[t[e+13]]+Me[t[e+14]]+Me[t[e+15]]}const Rw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wu={randomUUID:Rw};function me(t,e,n){if(Wu.randomUUID&&!e&&!t)return Wu.randomUUID();t=t||{};const s=t.random||(t.rng||Cw)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=s[i];return e}return bw(s)}const Pw="/ReOpenSG/assets/home_industry1-deEi4NfR.png",kw="/ReOpenSG/assets/home_industry2-1mvM32Zg.png",Nw="/ReOpenSG/assets/home_industry3-XQlrh_JY.png",Ow="/ReOpenSG/assets/home_industry4-Qx_4kA93.png";function Dw(){const t=[{id:me(),img:Ow,enTitle:"Secondary Battery",krTitle:"2 ",route:"battery"},{id:me(),img:Pw,enTitle:"Display",krTitle:"",route:"display"},{id:me(),img:kw,enTitle:"Port",krTitle:"",route:"port"},{id:me(),img:Nw,enTitle:"Semi-conductor",krTitle:"",route:"semiconductor"}];return c.jsxs("section",{className:B.industry,children:[c.jsxs("div",{className:B.titleWrapper,children:[c.jsx("h3",{className:B.title,children:"Industries"}),c.jsxs("div",{className:"flex flex-col  gap-open-lg",children:[c.jsxs("p",{className:B.mainKeyword,children:["  ",c.jsx("span",{className:B.gradient,children:"OpenSG"})]}),c.jsx("small",{className:B.subKeyword,children:"OpenSG    ."})]})]}),c.jsx("div",{className:B.industriesContainer,children:c.jsx("div",{className:B.cardWrapper,children:t.map(e=>c.jsx("div",{className:B.card,style:{backgroundImage:`url('${e.img}')`},children:c.jsxs(ce,{to:`/industries/${e.route}`,className:"block p-open-2xl h-full",children:[c.jsx("p",{className:B.krTitle,children:e.krTitle}),c.jsx("p",{className:B.enTitle,children:e.enTitle})]})},e.id))})})]})}function Qu(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Yl(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Qu(e[n])&&Qu(t[n])&&Object.keys(e[n]).length>0&&Yl(t[n],e[n])})}const Ef={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function qt(){const t=typeof document<"u"?document:{};return Yl(t,Ef),t}const Lw={document:Ef,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ot(){const t=typeof window<"u"?window:{};return Yl(t,Lw),t}function Mw(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function jw(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function ps(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Ft(){return Date.now()}function Vw(t){const e=ot();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Fw(t,e){e===void 0&&(e="x");const n=ot();let s,i,r;const o=Vw(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function rr(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Uw(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function lt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!Uw(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(rr(t[a])&&rr(s[a])?s[a].__swiper__?t[a]=s[a]:lt(t[a],s[a]):!rr(t[a])&&rr(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:lt(t[a],s[a])):t[a]=s[a])}}}return t}function or(t,e,n){t.style.setProperty(e,n)}function xf(t){let{swiper:e,targetPosition:n,side:s}=t;const i=ot(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>r?"next":"prev",d=(p,f)=>u==="next"&&p>=f||u==="prev"&&p<=f,h=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),f=.5-Math.cos(p*Math.PI)/2;let m=r+f*(n-r);if(d(m,n)&&(m=n),e.wrapperEl.scrollTo({[s]:m}),d(m,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:m})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function Zl(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function Gt(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function qr(t){try{console.warn(t);return}catch{}}function Hr(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Mw(e)),n}function Bw(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Gw(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function un(t,e){return ot().getComputedStyle(t,null).getPropertyValue(e)}function Ku(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function zw(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function qw(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function Xu(t,e,n){const s=ot();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let _a;function Hw(){const t=ot(),e=qt();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Af(){return _a||(_a=Hw()),_a}let wa;function $w(t){let{userAgent:e}=t===void 0?{}:t;const n=Af(),s=ot(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,u=r.match(/(Android);?[\s\/]+([\d.]+)?/);let d=r.match(/(iPad).*OS\s([\d_]+)/);const h=r.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let m=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&m&&n.touch&&g.indexOf(`${a}x${l}`)>=0&&(d=r.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),u&&!f&&(o.os="android",o.android=!0),(d||p||h)&&(o.os="ios",o.ios=!0),o}function Ww(t){return t===void 0&&(t={}),wa||(wa=$w(t)),wa}let Ta;function Qw(){const t=ot();let e=!1;function n(){const s=t.navigator.userAgent.toLowerCase();return s.indexOf("safari")>=0&&s.indexOf("chrome")<0&&s.indexOf("android")<0}if(n()){const s=String(t.navigator.userAgent);if(s.includes("Version/")){const[i,r]=s.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=i<16||i===16&&r<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Kw(){return Ta||(Ta=Qw()),Ta}function Xw(t){let{swiper:e,on:n,emit:s}=t;const i=ot();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:p,height:f}=e;let m=p,g=f;h.forEach(y=>{let{contentBoxSize:v,contentRect:E,target:w}=y;w&&w!==e.el||(m=E?E.width:(v[0]||v).inlineSize,g=E?E.height:(v[0]||v).blockSize)}),(m!==p||g!==f)&&a()})}),r.observe(e.el))},u=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},d=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function Jw(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=ot(),a=function(d,h){h===void 0&&(h={});const p=o.MutationObserver||o.WebkitMutationObserver,f=new p(m=>{if(e.__preventObserver__)return;if(m.length===1){i("observerUpdate",m[0]);return}const g=function(){i("observerUpdate",m[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});f.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),r.push(f)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=zw(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{r.forEach(d=>{d.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",u)}var Yw={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(s,n)})}),t}};function Zw(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(un(s,"padding-left")||0,10)-parseInt(un(s,"padding-right")||0,10),n=n-parseInt(un(s,"padding-top")||0,10)-parseInt(un(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function eT(){const t=this;function e(I,O){return parseFloat(I.getPropertyValue(t.getDirectionLabel(O))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=Gt(i,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let p=[];const f=[],m=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,E=t.slidesGrid.length;let w=n.spaceBetween,T=-g,A=0,C=0;if(typeof r>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*r:typeof w=="string"&&(w=parseFloat(w)),t.virtualSize=-w,d.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(or(s,"--swiper-centered-offset-before",""),or(s,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&t.grid;j?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let k;const b=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(I=>typeof n.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<h;I+=1){k=0;let O;if(d[I]&&(O=d[I]),j&&t.grid.updateSlide(I,O,d),!(d[I]&&un(O,"display")==="none")){if(n.slidesPerView==="auto"){b&&(d[I].style[t.getDirectionLabel("width")]="");const M=getComputedStyle(O),N=O.style.transform,z=O.style.webkitTransform;if(N&&(O.style.transform="none"),z&&(O.style.webkitTransform="none"),n.roundLengths)k=t.isHorizontal()?Xu(O,"width",!0):Xu(O,"height",!0);else{const Z=e(M,"width"),oe=e(M,"padding-left"),Ee=e(M,"padding-right"),X=e(M,"margin-left"),se=e(M,"margin-right"),de=M.getPropertyValue("box-sizing");if(de&&de==="border-box")k=Z+X+se;else{const{clientWidth:An,offsetWidth:Yi}=O;k=Z+oe+Ee+X+se+(Yi-An)}}N&&(O.style.transform=N),z&&(O.style.webkitTransform=z),n.roundLengths&&(k=Math.floor(k))}else k=(r-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),d[I]&&(d[I].style[t.getDirectionLabel("width")]=`${k}px`);d[I]&&(d[I].swiperSlideSize=k),m.push(k),n.centeredSlides?(T=T+k/2+A/2+w,A===0&&I!==0&&(T=T-r/2-w),I===0&&(T=T-r/2-w),Math.abs(T)<1/1e3&&(T=0),n.roundLengths&&(T=Math.floor(T)),C%n.slidesPerGroup===0&&p.push(T),f.push(T)):(n.roundLengths&&(T=Math.floor(T)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup===0&&p.push(T),f.push(T),T=T+k+w),t.virtualSize+=k+w,A=k,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+w}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+w}px`),j&&t.grid.updateWrapperSize(k,p),!n.centeredSlides){const I=[];for(let O=0;O<p.length;O+=1){let M=p[O];n.roundLengths&&(M=Math.floor(M)),p[O]<=t.virtualSize-r&&I.push(M)}p=I,Math.floor(t.virtualSize-r)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-r)}if(l&&n.loop){const I=m[0]+w;if(n.slidesPerGroup>1){const O=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),M=I*n.slidesPerGroup;for(let N=0;N<O;N+=1)p.push(p[p.length-1]+M)}for(let O=0;O<t.virtual.slidesBefore+t.virtual.slidesAfter;O+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+I),f.push(f[f.length-1]+I),t.virtualSize+=I}if(p.length===0&&(p=[0]),w!==0){const I=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((O,M)=>!n.cssMode||n.loop?!0:M!==d.length-1).forEach(O=>{O.style[I]=`${w}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let I=0;m.forEach(M=>{I+=M+(w||0)}),I-=w;const O=I-r;p=p.map(M=>M<=0?-g:M>O?O+y:M)}if(n.centerInsufficientSlides){let I=0;if(m.forEach(O=>{I+=O+(w||0)}),I-=w,I<r){const O=(r-I)/2;p.forEach((M,N)=>{p[N]=M-O}),f.forEach((M,N)=>{f[N]=M+O})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:f,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){or(s,"--swiper-centered-offset-before",`${-p[0]}px`),or(s,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const I=-t.snapGrid[0],O=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+I),t.slidesGrid=t.slidesGrid.map(M=>M+O)}if(h!==u&&t.emit("slidesLengthChange"),p.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==E&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const I=`${n.containerModifierClass}backface-hidden`,O=t.el.classList.contains(I);h<=n.maxBackfaceHiddenSlides?O||t.el.classList.add(I):O&&t.el.classList.remove(I)}}function tT(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function nT(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}function sT(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),s.forEach(l=>{l.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const u=s[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=s[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),p=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),f=-(o-d),m=f+e.slidesSizesGrid[l],g=f>=0&&f<=e.size-e.slidesSizesGrid[l];(f>=0&&f<e.size-1||m>1&&m<=e.size||f<=0&&m>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l),s[l].classList.add(n.slideVisibleClass)),g&&s[l].classList.add(n.slideFullyVisibleClass),u.progress=i?-h:h,u.originalProgress=i?-p:p}}function iT(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,u=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;r=d||i<=0,o=h||i>=1,d&&(i=0),h&&(i=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],f=e.slidesGrid[h],m=e.slidesGrid[e.slidesGrid.length-1],g=Math.abs(t);g>=p?a=(g-p)/m:a=(g+m-f)/m,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!r||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}function rT(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>Gt(s,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let l,u,d;if(r)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.filter(h=>h.column===i)[0],d=e.filter(h=>h.column===i+1)[0],u=e.filter(h=>h.column===i-1)[0]):l=e[i];l&&(l.classList.add(n.slideActiveClass),o?(d&&d.classList.add(n.slideNextClass),u&&u.classList.add(n.slidePrevClass)):(d=Gw(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),d&&d.classList.add(n.slideNextClass),u=Bw(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Ir=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Ea=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},nl=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+s+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&Ea(t,u)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&Ea(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&Ea(t,o)};function oT(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function aT(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,u;const d=f=>{let m=f-e.virtual.slidesBefore;return m<0&&(m=e.virtual.slides.length+m),m>=e.virtual.slides.length&&(m-=e.virtual.slides.length),m};if(typeof l>"u"&&(l=oT(e)),s.indexOf(n)>=0)u=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,l);u=f+Math.floor((l-f)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),l===r&&!e.params.loop){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=d(l);else if(h){const f=e.slides.filter(g=>g.column===l)[0];let m=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(e.slides.indexOf(f),0)),p=Math.floor(m/i.grid.rows)}else if(e.slides[l]){const f=e.slides[l].getAttribute("data-swiper-slide-index");f?p=parseInt(f,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:p,previousIndex:r,activeIndex:l}),e.initialized&&nl(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function lT(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var cT={updateSize:Zw,updateSlides:eT,updateAutoHeight:tT,updateSlidesOffset:nT,updateSlidesProgress:sT,updateProgress:iT,updateSlidesClasses:rT,updateActiveIndex:aT,updateClickedSlide:lT};function uT(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=Fw(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function dT(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function hT(){return-this.snapGrid[0]}function fT(){return-this.snapGrid[this.snapGrid.length-1]}function pT(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),u=r.maxTranslate();let d;if(s&&t>l?d=l:s&&t<u?d=u:d=t,r.updateProgress(d),o.cssMode){const h=r.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!r.support.smoothScroll)return xf({swiper:r,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(d),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(d),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(p){!r||r.destroyed||p.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var mT={getTranslate:uT,setTranslate:dT,minTranslate:hT,maxTranslate:fT,translateTo:pT};function gT(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Sf(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function yT(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Sf({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function vT(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Sf({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var _T={setTransition:gT,transitionStart:yT,transitionEnd:vT};function wT(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:p,wrapperEl:f,enabled:m}=r;if(r.animating&&a.preventInteractionOnTransition||!m&&!s&&!i)return!1;const g=Math.min(r.params.slidesPerGroupSkip,o);let y=g+Math.floor((o-g)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const v=-l[y];if(a.normalizeSlideIndex)for(let w=0;w<u.length;w+=1){const T=-Math.floor(v*100),A=Math.floor(u[w]*100),C=Math.floor(u[w+1]*100);typeof u[w+1]<"u"?T>=A&&T<C-(C-A)/2?o=w:T>=A&&T<C&&(o=w+1):T>=A&&(o=w)}if(r.initialized&&o!==h&&(!r.allowSlideNext&&(p?v>r.translate&&v>r.minTranslate():v<r.translate&&v<r.minTranslate())||!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(v);let E;if(o>h?E="next":o<h?E="prev":E="reset",p&&-v===r.translate||!p&&v===r.translate)return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(v),E!=="reset"&&(r.transitionStart(n,E),r.transitionEnd(n,E)),!1;if(a.cssMode){const w=r.isHorizontal(),T=p?v:-v;if(e===0){const A=r.virtual&&r.params.virtual.enabled;A&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),A&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[w?"scrollLeft":"scrollTop"]=T})):f[w?"scrollLeft":"scrollTop"]=T,A&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return xf({swiper:r,targetPosition:T,side:w?"left":"top"}),!0;f.scrollTo({[w?"left":"top"]:T,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(v),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,E),e===0?r.transitionEnd(n,E):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(T){!r||r.destroyed||T.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,E))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function TT(t,e,n,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this,r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const p=o*i.params.grid.rows;a=i.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===p)[0].column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=l-a<d;if(u&&(h=h||a<Math.ceil(d/2)),h){const p=u?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(r){const p=o*i.params.grid.rows;o=i.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===p)[0].column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function ET(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i)return s;let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,u=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!u&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function xT(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=s;if(!l)return s;const d=s.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const h=a?s.translate:-s.translate;function p(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const f=p(h),m=r.map(v=>p(v));let g=r[m.indexOf(f)-1];if(typeof g>"u"&&i.cssMode){let v;r.forEach((E,w)=>{f>=E&&(v=w)}),typeof v<"u"&&(g=r[v>0?v-1:v])}let y=0;if(typeof g<"u"&&(y=o.indexOf(g),y<0&&(y=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-s.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&s.isBeginning){const v=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(v,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(y,t,e,n)}),!0;return s.slideTo(y,t,e,n)}function AT(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this;return s.slideTo(s.activeIndex,t,e,n)}function ST(t,e,n,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const u=i.snapGrid[a],d=i.snapGrid[a+1];l-u>(d-u)*s&&(r+=i.params.slidesPerGroup)}else{const u=i.snapGrid[a-1],d=i.snapGrid[a];l-u<=(d-u)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function IT(){const t=this,{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(Gt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),ps(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(Gt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),ps(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var CT={slideTo:wT,slideToLoop:TT,slideNext:ET,slidePrev:xT,slideReset:AT,slideToClosest:ST,slideToClickedSlide:IT};function bT(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{Gt(s,`.${n.slideClass}, swiper-slide`).forEach((h,p)=>{h.setAttribute("data-swiper-slide-index",p)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,u=d=>{for(let h=0;h<d;h+=1){const p=e.isElement?Hr("swiper-slide",[n.slideBlankClass]):Hr("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(n.loopAddBlankSlides){const d=o-e.slides.length%o;u(d),e.recalcSlides(),e.updateSlides()}else qr("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else qr("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function RT(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:p,params:f}=l,{centeredSlides:m}=f;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled){n&&(!f.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):f.centeredSlides&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,l.emit("loopFix");return}let g=f.slidesPerView;g==="auto"?g=l.slidesPerViewDynamic():(g=Math.ceil(parseFloat(f.slidesPerView,10)),m&&g%2===0&&(g=g+1));const y=f.slidesPerGroupAuto?g:f.slidesPerGroup;let v=y;v%y!==0&&(v+=y-v%y),v+=f.loopAdditionalSlides,l.loopedSlides=v;const E=l.grid&&f.grid&&f.grid.rows>1;u.length<g+v?qr("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):E&&f.grid.fill==="row"&&qr("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],T=[];let A=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(u.filter(N=>N.classList.contains(f.slideActiveClass))[0]):A=r;const C=s==="next"||!s,j=s==="prev"||!s;let k=0,b=0;const I=E?Math.ceil(u.length/f.grid.rows):u.length,M=(E?u[r].column:r)+(m&&typeof i>"u"?-g/2+.5:0);if(M<v){k=Math.max(v-M,y);for(let N=0;N<v-M;N+=1){const z=N-Math.floor(N/I)*I;if(E){const Z=I-z-1;for(let oe=u.length-1;oe>=0;oe-=1)u[oe].column===Z&&w.push(oe)}else w.push(I-z-1)}}else if(M+g>I-v){b=Math.max(M-(I-v*2),y);for(let N=0;N<b;N+=1){const z=N-Math.floor(N/I)*I;E?u.forEach((Z,oe)=>{Z.column===z&&T.push(oe)}):T.push(z)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),j&&w.forEach(N=>{u[N].swiperLoopMoveDOM=!0,p.prepend(u[N]),u[N].swiperLoopMoveDOM=!1}),C&&T.forEach(N=>{u[N].swiperLoopMoveDOM=!0,p.append(u[N]),u[N].swiperLoopMoveDOM=!1}),l.recalcSlides(),f.slidesPerView==="auto"?l.updateSlides():E&&(w.length>0&&j||T.length>0&&C)&&l.slides.forEach((N,z)=>{l.grid.updateSlide(z,N,l.slides)}),f.watchSlidesProgress&&l.updateSlidesOffset(),n){if(w.length>0&&j){if(typeof e>"u"){const N=l.slidesGrid[A],Z=l.slidesGrid[A+k]-N;a?l.setTranslate(l.translate-Z):(l.slideTo(A+k,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Z,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Z))}else if(i){const N=E?w.length/f.grid.rows:w.length;l.slideTo(l.activeIndex+N,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(T.length>0&&C)if(typeof e>"u"){const N=l.slidesGrid[A],Z=l.slidesGrid[A-b]-N;a?l.setTranslate(l.translate-Z):(l.slideTo(A-b,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Z,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Z))}else{const N=E?T.length/f.grid.rows:T.length;l.slideTo(l.activeIndex-N,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!o){const N={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(z=>{!z.destroyed&&z.params.loop&&z.loopFix({...N,slideTo:z.params.slidesPerView===f.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...N,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView?n:!1})}l.emit("loopFix")}function PT(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var kT={loopCreate:bT,loopFix:RT,loopDestroy:PT};function NT(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function OT(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var DT={setGrabCursor:NT,unsetGrabCursor:OT};function LT(t,e){e===void 0&&(e=this);function n(s){if(!s||s===qt()||s===ot())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function Ju(t,e,n){const s=ot(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function MT(t){const e=this,n=qt();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){Ju(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(l)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const u=!!r.noSwipingClass&&r.noSwipingClass!=="",d=s.composedPath?s.composedPath():s.path;u&&s.target&&s.target.shadowRoot&&d&&(l=d[0]);const h=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,p=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(p?LT(h,l):l.closest(h))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const f=o.currentX,m=o.currentY;if(!Ju(e,s,f))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=m,i.touchStartTime=Ft(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let g=!0;l.matches(i.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();const y=g&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function jT(t){const e=qt(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].filter(C=>C.identifier===s.touchId)[0],!u||u.identifier!==s.touchId)return}else u=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){r.startX=d,r.startY=h;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:d,startY:h,currentX:d,currentY:h}),s.touchStartTime=Ft());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(h<r.startY&&n.translate<=n.maxTranslate()||h>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(d<r.startX&&n.translate<=n.maxTranslate()||d>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=d,r.currentY=h;const p=r.currentX-r.startX,f=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(p**2+f**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let C;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:p*p+f*f>=25&&(C=Math.atan2(Math.abs(f),Math.abs(p))*180/Math.PI,s.isScrolling=n.isHorizontal()?C>i.touchAngle:90-C>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let m=n.isHorizontal()?p:f,g=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),r.diff=m,m*=i.touchRatio,o&&(m=-m,g=-g);const y=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const v=n.params.loop&&!i.cssMode,E=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(v&&E&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(C)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let w;if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&y!==n.touchesDirection&&v&&E&&Math.abs(m)>=1){Object.assign(r,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=m+s.startTranslate;let T=!0,A=i.resistanceRatio;if(i.touchReleaseOnEdges&&(A=0),m>0?(v&&E&&!w&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(T=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+m)**A))):m<0&&(v&&E&&!w&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(T=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-m)**A))),T&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function VT(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].filter(A=>A.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=Ft(),p=h-n.touchStartTime;if(e.allowClick){const A=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(A&&A[0]||s.target,A),e.emit("tap click",s),p<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Ft(),ps(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(o.followFinger?f=l?e.translate:-e.translate:f=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}const m=f>=-e.maxTranslate()&&!e.params.loop;let g=0,y=e.slidesSizesGrid[0];for(let A=0;A<u.length;A+=A<o.slidesPerGroupSkip?1:o.slidesPerGroup){const C=A<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[A+C]<"u"?(m||f>=u[A]&&f<u[A+C])&&(g=A,y=u[A+C]-u[A]):(m||f>=u[A])&&(g=A,y=u[u.length-1]-u[u.length-2])}let v=null,E=null;o.rewind&&(e.isBeginning?E=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const w=(f-u[g])/y,T=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?v:g+T):e.slideTo(g)),e.swipeDirection==="prev"&&(w>1-o.longSwipesRatio?e.slideTo(g+T):E!==null&&w<0&&Math.abs(w)>o.longSwipesRatio?e.slideTo(E):e.slideTo(g))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(g+T):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:g+T),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:g))}}function Yu(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function FT(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function UT(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function BT(t){const e=this;Ir(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function GT(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const If=(t,e)=>{const n=qt(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Yu,!0):t[u]("observerUpdate",Yu,!0),i[l]("load",t.onLoad,{capture:!0})};function zT(){const t=this,{params:e}=t;t.onTouchStart=MT.bind(t),t.onTouchMove=jT.bind(t),t.onTouchEnd=VT.bind(t),t.onDocumentTouchStart=GT.bind(t),e.cssMode&&(t.onScroll=UT.bind(t)),t.onClick=FT.bind(t),t.onLoad=BT.bind(t),If(t,"on")}function qT(){If(this,"off")}var HT={attachEvents:zT,detachEvents:qT};const Zu=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function $T(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=t.getBreakpoint(r,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const l=(o in r?r[o]:void 0)||t.originalParams,u=Zu(t,s),d=Zu(t,l),h=s.enabled;u&&!d?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(i.classList.add(`${s.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{if(typeof l[v]>"u")return;const E=s[v]&&s[v].enabled,w=l[v]&&l[v].enabled;E&&!w&&t[v].disable(),!E&&w&&t[v].enable()});const p=l.direction&&l.direction!==s.direction,f=s.loop&&(l.slidesPerView!==s.slidesPerView||p),m=s.loop;p&&n&&t.changeDirection(),lt(t.params,l);const g=t.params.enabled,y=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!g?t.disable():!h&&g&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),n&&(f?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!m&&y?(t.loopCreate(e),t.updateSlides()):m&&!y&&t.loopDestroy()),t.emit("breakpoint",l)}function WT(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=ot(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(s=l):u<=n.clientWidth&&(s=l)}return s||"max"}var QT={setBreakpoint:$T,getBreakpoint:WT};function KT(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function XT(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=KT(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function JT(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var YT={addClasses:XT,removeClasses:JT};function ZT(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var eE={checkOverflow:ZT},sl={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function tE(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){lt(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){lt(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),lt(e,s)}}const xa={eventsEmitter:Yw,update:cT,translate:mT,transition:_T,slide:CT,loop:kT,grabCursor:DT,events:HT,breakpoints:QT,checkOverflow:eE,classes:YT},Aa={};let ec=class jt{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=lt({},n),e&&!n.el&&(n.el=e);const o=qt();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const p=lt({},n,{el:h});d.push(new jt(p))}),d}const a=this;a.__swiper__=!0,a.support=Af(),a.device=Ww({userAgent:n.userAgent}),a.browser=Kw(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:tE(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=lt({},sl,l);return a.params=lt({},u,Aa,n),a.originalParams=lt({},a.params),a.passedParams=lt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=Gt(n,`.${s.slideClass}, swiper-slide`),r=Ku(i[0]);return Ku(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=Gt(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=s;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=r[u]?r[u].swiperSlideSize:0,p;for(let f=u+1;f<r.length;f+=1)r[f]&&!p&&(h+=r[f].swiperSlideSize,d+=1,h>l&&(p=!0));for(let f=u-1;f>=0;f-=1)r[f]&&!p&&(h+=r[f].swiperSlideSize,d+=1,h>l&&(p=!0))}else if(e==="current")for(let h=u+1;h<r.length;h+=1)(n?o[h]+a[h]-o[u]<l:o[h]-o[u]<l)&&(d+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ir(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):Gt(s,i())[0];return!o&&n.params.createElements&&(o=Hr("div",n.params.wrapperClass),s.append(o),Gt(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||un(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||un(s,"direction")==="rtl"),wrongRTL:un(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?Ir(n,r):r.addEventListener("load",o=>{Ir(n,o.target)})}),nl(n),n.initialized=!0,nl(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el.swiper=null,jw(s)),s.destroyed=!0),null}static extendDefaults(e){lt(Aa,e)}static get extendedDefaults(){return Aa}static get defaults(){return sl}static installModule(e){jt.prototype.__modules__||(jt.prototype.__modules__=[]);const n=jt.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>jt.installModule(n)),jt):(jt.installModule(e),jt)}};Object.keys(xa).forEach(t=>{Object.keys(xa[t]).forEach(e=>{ec.prototype[e]=xa[t][e]})});ec.use([Xw,Jw]);const Cf=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Gn(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ls(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:Gn(e[s])&&Gn(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:ls(t[s],e[s]):t[s]=e[s]})}function bf(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Rf(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Pf(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function kf(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function nE(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function sE(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=i.filter(b=>b!=="children"&&b!=="direction"&&b!=="wrapperClass"),{params:d,pagination:h,navigation:p,scrollbar:f,virtual:m,thumbs:g}=e;let y,v,E,w,T,A,C,j;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(y=!0),i.includes("controller")&&s.controller&&s.controller.control&&d.controller&&!d.controller.control&&(v=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(E=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&f&&!f.el&&(w=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(T=!0);const k=b=>{e[b]&&(e[b].destroy(),b==="navigation"?(e.isElement&&(e[b].prevEl.remove(),e[b].nextEl.remove()),d[b].prevEl=void 0,d[b].nextEl=void 0,e[b].prevEl=void 0,e[b].nextEl=void 0):(e.isElement&&e[b].el.remove(),d[b].el=void 0,e[b].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!s.loop?A=!0:!d.loop&&s.loop?C=!0:j=!0),u.forEach(b=>{if(Gn(d[b])&&Gn(s[b]))Object.assign(d[b],s[b]),(b==="navigation"||b==="pagination"||b==="scrollbar")&&"enabled"in s[b]&&!s[b].enabled&&k(b);else{const I=s[b];(I===!0||I===!1)&&(b==="navigation"||b==="pagination"||b==="scrollbar")?I===!1&&k(b):d[b]=s[b]}}),u.includes("controller")&&!v&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&n&&m&&d.virtual.enabled?(m.slides=n,m.update(!0)):i.includes("virtual")&&m&&d.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),i.includes("children")&&n&&d.loop&&(j=!0),y&&g.init()&&g.update(!0),v&&(e.controller.control=d.controller.control),E&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),w&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),f.init(),f.updateSize(),f.setTranslate()),T&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(d.navigation.nextEl=r),o&&(d.navigation.prevEl=o),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(A||j)&&e.loopDestroy(),(C||j)&&e.loopCreate(),e.update()}function iE(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},s={},i={};ls(n,sl),n._emitClasses=!0,n.init=!1;const r={},o=Cf.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Gn(t[l])?(n[l]={},i[l]={},ls(n[l],t[l]),ls(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?s[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function rE(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;bf(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),Rf(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Pf(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function oE(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),u=n.map(i);l.join("")!==u.join("")&&o("children"),s.length!==n.length&&o("children")}return Cf.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Gn(t[l])&&Gn(e[l])){const u=Object.keys(t[l]),d=Object.keys(e[l]);u.length!==d.length?o(l):(u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const aE=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function $r(){return $r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$r.apply(this,arguments)}function Nf(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Of(t){const e=[];return $.Children.toArray(t).forEach(n=>{Nf(n)?e.push(n):n.props&&n.props.children&&Of(n.props.children).forEach(s=>e.push(s))}),e}function lE(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return $.Children.toArray(t).forEach(s=>{if(Nf(s))e.push(s);else if(s.props&&s.props.slot&&n[s.props.slot])n[s.props.slot].push(s);else if(s.props&&s.props.children){const i=Of(s.props.children);i.length>0?i.forEach(r=>e.push(r)):n["container-end"].push(s)}else n["container-end"].push(s)}),{slides:e,slots:n}}function cE(t,e,n){if(!n)return null;const s=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let d=a;d<l;d+=1)d>=r&&d<=o&&u.push(e[s(d)]);return u.map((d,h)=>$.cloneElement(d,{swiper:t,style:i,key:`slide-${h}`}))}function Zs(t,e){return typeof window>"u"?S.useEffect(t,e):S.useLayoutEffect(t,e)}const ed=S.createContext(null),uE=S.createContext(null),Wr=S.forwardRef(function(t,e){let{className:n,tag:s="div",wrapperTag:i="div",children:r,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[u,d]=S.useState("swiper"),[h,p]=S.useState(null),[f,m]=S.useState(!1),g=S.useRef(!1),y=S.useRef(null),v=S.useRef(null),E=S.useRef(null),w=S.useRef(null),T=S.useRef(null),A=S.useRef(null),C=S.useRef(null),j=S.useRef(null),{params:k,passedParams:b,rest:I,events:O}=iE(a),{slides:M,slots:N}=lE(r),z=()=>{m(!f)};Object.assign(k.on,{_containerClasses(se,de){d(de)}});const Z=()=>{Object.assign(k.on,O),l=!0;const se={...k};if(delete se.wrapperClass,v.current=new ec(se),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=M;const de={cache:!1,slides:M,renderExternal:p,renderExternalUpdate:!1};ls(v.current.params.virtual,de),ls(v.current.originalParams.virtual,de)}};y.current||Z(),v.current&&v.current.on("_beforeBreakpoint",z);const oe=()=>{l||!O||!v.current||Object.keys(O).forEach(se=>{v.current.on(se,O[se])})},Ee=()=>{!O||!v.current||Object.keys(O).forEach(se=>{v.current.off(se,O[se])})};S.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",z)}),S.useEffect(()=>{!g.current&&v.current&&(v.current.emitSlidesClasses(),g.current=!0)}),Zs(()=>{if(e&&(e.current=y.current),!!y.current)return v.current.destroyed&&Z(),rE({el:y.current,nextEl:T.current,prevEl:A.current,paginationEl:C.current,scrollbarEl:j.current,swiper:v.current},k),o&&o(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Zs(()=>{oe();const se=oE(b,E.current,M,w.current,de=>de.key);return E.current=b,w.current=M,se.length&&v.current&&!v.current.destroyed&&sE({swiper:v.current,slides:M,passedParams:b,changedParams:se,nextEl:T.current,prevEl:A.current,scrollbarEl:j.current,paginationEl:C.current}),()=>{Ee()}}),Zs(()=>{aE(v.current)},[h]);function X(){return k.virtual?cE(v.current,M,h):M.map((se,de)=>$.cloneElement(se,{swiper:v.current,swiperSlideIndex:de}))}return $.createElement(s,$r({ref:y,className:kf(`${u}${n?` ${n}`:""}`)},I),$.createElement(uE.Provider,{value:v.current},N["container-start"],$.createElement(i,{className:nE(k.wrapperClass)},N["wrapper-start"],X(),N["wrapper-end"]),bf(k)&&$.createElement($.Fragment,null,$.createElement("div",{ref:A,className:"swiper-button-prev"}),$.createElement("div",{ref:T,className:"swiper-button-next"})),Pf(k)&&$.createElement("div",{ref:j,className:"swiper-scrollbar"}),Rf(k)&&$.createElement("div",{ref:C,className:"swiper-pagination"}),N["container-end"]))});Wr.displayName="Swiper";const Qr=S.forwardRef(function(t,e){let{tag:n="div",children:s,className:i="",swiper:r,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=S.useRef(null),[p,f]=S.useState("swiper-slide"),[m,g]=S.useState(!1);function y(T,A,C){A===h.current&&f(C)}Zs(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!r)){if(r.destroyed){p!=="swiper-slide"&&f("swiper-slide");return}return r.on("_slideClass",y),()=>{r&&r.off("_slideClass",y)}}}),Zs(()=>{r&&h.current&&!r.destroyed&&f(r.getSlideClasses(h.current))},[r]);const v={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},E=()=>typeof s=="function"?s(v):s,w=()=>{g(!0)};return $.createElement(n,$r({ref:h,className:kf(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:w},d),o&&$.createElement(ed.Provider,{value:v},$.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},E(),a&&!m&&$.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&$.createElement(ed.Provider,{value:v},E(),a&&!m&&$.createElement("div",{className:"swiper-lazy-preloader"})))});Qr.displayName="SwiperSlide";function td(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=ot();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Ft(),l;const u=[];function d(w){let j=0,k=0,b=0,I=0;return"detail"in w&&(k=w.detail),"wheelDelta"in w&&(k=-w.wheelDelta/120),"wheelDeltaY"in w&&(k=-w.wheelDeltaY/120),"wheelDeltaX"in w&&(j=-w.wheelDeltaX/120),"axis"in w&&w.axis===w.HORIZONTAL_AXIS&&(j=k,k=0),b=j*10,I=k*10,"deltaY"in w&&(I=w.deltaY),"deltaX"in w&&(b=w.deltaX),w.shiftKey&&!b&&(b=I,I=0),(b||I)&&w.deltaMode&&(w.deltaMode===1?(b*=40,I*=40):(b*=800,I*=800)),b&&!j&&(j=b<1?-1:1),I&&!k&&(k=I<1?-1:1),{spinX:j,spinY:k,pixelX:b,pixelY:I}}function h(){e.enabled&&(e.mouseEntered=!0)}function p(){e.enabled&&(e.mouseEntered=!1)}function f(w){return e.params.mousewheel.thresholdDelta&&w.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Ft()-a<e.params.mousewheel.thresholdTime?!1:w.delta>=6&&Ft()-a<60?!0:(w.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),i("scroll",w.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),i("scroll",w.raw)),a=new r.Date().getTime(),!1)}function m(w){const T=e.params.mousewheel;if(w.direction<0){if(e.isEnd&&!e.params.loop&&T.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&T.releaseOnEdges)return!0;return!1}function g(w){let T=w,A=!0;if(!e.enabled||w.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const C=e.params.mousewheel;e.params.cssMode&&T.preventDefault();let j=e.el;e.params.mousewheel.eventsTarget!=="container"&&(j=document.querySelector(e.params.mousewheel.eventsTarget));const k=j&&j.contains(T.target);if(!e.mouseEntered&&!k&&!C.releaseOnEdges)return!0;T.originalEvent&&(T=T.originalEvent);let b=0;const I=e.rtlTranslate?-1:1,O=d(T);if(C.forceToAxis)if(e.isHorizontal())if(Math.abs(O.pixelX)>Math.abs(O.pixelY))b=-O.pixelX*I;else return!0;else if(Math.abs(O.pixelY)>Math.abs(O.pixelX))b=-O.pixelY;else return!0;else b=Math.abs(O.pixelX)>Math.abs(O.pixelY)?-O.pixelX*I:-O.pixelY;if(b===0)return!0;C.invert&&(b=-b);let M=e.getTranslate()+b*C.sensitivity;if(M>=e.minTranslate()&&(M=e.minTranslate()),M<=e.maxTranslate()&&(M=e.maxTranslate()),A=e.params.loop?!0:!(M===e.minTranslate()||M===e.maxTranslate()),A&&e.params.nested&&T.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const N={time:Ft(),delta:Math.abs(b),direction:Math.sign(b),raw:w};u.length>=2&&u.shift();const z=u.length?u[u.length-1]:void 0;if(u.push(N),z?(N.direction!==z.direction||N.delta>z.delta||N.time>z.time+150)&&f(N):f(N),m(N))return!0}else{const N={time:Ft(),delta:Math.abs(b),direction:Math.sign(b)},z=l&&N.time<l.time+500&&N.delta<=l.delta&&N.direction===l.direction;if(!z){l=void 0;let Z=e.getTranslate()+b*C.sensitivity;const oe=e.isBeginning,Ee=e.isEnd;if(Z>=e.minTranslate()&&(Z=e.minTranslate()),Z<=e.maxTranslate()&&(Z=e.maxTranslate()),e.setTransition(0),e.setTranslate(Z),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!oe&&e.isBeginning||!Ee&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:N.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,u.length>=15&&u.shift();const X=u.length?u[u.length-1]:void 0,se=u[0];if(u.push(N),X&&(N.delta>X.delta||N.direction!==X.direction))u.splice(0);else if(u.length>=15&&N.time-se.time<500&&se.delta-N.delta>=1&&N.delta<=6){const de=b>0?.8:.2;l=N,u.splice(0),o=ps(()=>{e.slideToClosest(e.params.speed,!0,void 0,de)},0)}o||(o=ps(()=>{l=N,u.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(z||i("scroll",T),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),C.releaseOnEdges&&(Z===e.minTranslate()||Z===e.maxTranslate()))return!0}}return T.preventDefault?T.preventDefault():T.returnValue=!1,!1}function y(w){let T=e.el;e.params.mousewheel.eventsTarget!=="container"&&(T=document.querySelector(e.params.mousewheel.eventsTarget)),T[w]("mouseenter",h),T[w]("mouseleave",p),T[w]("wheel",g)}function v(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",g),!0):e.mousewheel.enabled?!1:(y("addEventListener"),e.mousewheel.enabled=!0,!0)}function E(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,g),!0):e.mousewheel.enabled?(y("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}s("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&E(),e.params.mousewheel.enabled&&v()}),s("destroy",()=>{e.params.cssMode&&v(),e.mousewheel.enabled&&E()}),Object.assign(e.mousewheel,{enable:v,disable:E})}function nd(t){let{swiper:e,extendParams:n,on:s}=t;n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function i(u,d){const h=function(){let g,y,v;return(E,w)=>{for(y=-1,g=E.length;g-y>1;)v=g+y>>1,E[v]<=w?y=v:g=v;return g}}();this.x=u,this.y=d,this.lastIndex=u.length-1;let p,f;return this.interpolate=function(g){return g?(f=h(this.x,g),p=f-1,(g-this.x[p])*(this.y[f]-this.y[p])/(this.x[f]-this.x[p])+this.y[p]):0},this}function r(u){e.controller.spline=e.params.loop?new i(e.slidesGrid,u.slidesGrid):new i(e.snapGrid,u.snapGrid)}function o(u,d){const h=e.controller.control;let p,f;const m=e.constructor;function g(y){if(y.destroyed)return;const v=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(r(y),f=-e.controller.spline.interpolate(-v)),(!f||e.params.controller.by==="container")&&(p=(y.maxTranslate()-y.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),f=(v-e.minTranslate())*p+y.minTranslate()),e.params.controller.inverse&&(f=y.maxTranslate()-f),y.updateProgress(f),y.setTranslate(f,e),y.updateActiveIndex(),y.updateSlidesClasses()}if(Array.isArray(h))for(let y=0;y<h.length;y+=1)h[y]!==d&&h[y]instanceof m&&g(h[y]);else h instanceof m&&d!==h&&g(h)}function a(u,d){const h=e.constructor,p=e.controller.control;let f;function m(g){g.destroyed||(g.setTransition(u,e),u!==0&&(g.transitionStart(),g.params.autoHeight&&ps(()=>{g.updateAutoHeight()}),qw(g.wrapperEl,()=>{p&&g.transitionEnd()})))}if(Array.isArray(p))for(f=0;f<p.length;f+=1)p[f]!==d&&p[f]instanceof h&&m(p[f]);else p instanceof h&&d!==p&&m(p)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}s("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){const u=document.querySelector(e.params.controller.control);if(u&&u.swiper)e.controller.control=u.swiper;else if(u){const d=h=>{e.controller.control=h.detail[0],e.update(),u.removeEventListener("init",d)};u.addEventListener("init",d)}return}e.controller.control=e.params.controller.control}),s("update",()=>{l()}),s("resize",()=>{l()}),s("observerUpdate",()=>{l()}),s("setTranslate",(u,d,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,h)}),s("setTransition",(u,d,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,h)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function dE(t){let{swiper:e,extendParams:n,on:s,emit:i,params:r}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=r&&r.autoplay?r.autoplay.delay:3e3,u=r&&r.autoplay?r.autoplay.delay:3e3,d,h=new Date().getTime(),p,f,m,g,y,v,E;function w(X){!e||e.destroyed||!e.wrapperEl||X.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",w),!E&&I())}const T=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(u=d,p=!1);const X=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=X,i("autoplayTimeLeft",X,X/l),a=requestAnimationFrame(()=>{T()})},A=()=>{let X;return e.virtual&&e.params.virtual.enabled?X=e.slides.filter(de=>de.classList.contains("swiper-slide-active"))[0]:X=e.slides[e.activeIndex],X?parseInt(X.getAttribute("data-swiper-autoplay"),10):void 0},C=X=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),T();let se=typeof X>"u"?e.params.autoplay.delay:X;l=e.params.autoplay.delay,u=e.params.autoplay.delay;const de=A();!Number.isNaN(de)&&de>0&&typeof X>"u"&&(se=de,l=de,u=de),d=se;const An=e.params.speed,Yi=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(An,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,An,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(An,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,An,!0,!0),i("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return se>0?(clearTimeout(o),o=setTimeout(()=>{Yi()},se)):requestAnimationFrame(()=>{Yi()}),se},j=()=>{h=new Date().getTime(),e.autoplay.running=!0,C(),i("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},b=(X,se)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),X||(v=!0);const de=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",w):I()};if(e.autoplay.paused=!0,se){y&&(d=e.params.autoplay.delay),y=!1,de();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),de())},I=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),v?(v=!1,C(d)):C(),e.autoplay.paused=!1,i("autoplayResume"))},O=()=>{if(e.destroyed||!e.autoplay.running)return;const X=qt();X.visibilityState==="hidden"&&(v=!0,b(!0)),X.visibilityState==="visible"&&I()},M=X=>{X.pointerType==="mouse"&&(v=!0,E=!0,!(e.animating||e.autoplay.paused)&&b(!0))},N=X=>{X.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&I())},z=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",M),e.el.addEventListener("pointerleave",N))},Z=()=>{e.el.removeEventListener("pointerenter",M),e.el.removeEventListener("pointerleave",N)},oe=()=>{qt().addEventListener("visibilitychange",O)},Ee=()=>{qt().removeEventListener("visibilitychange",O)};s("init",()=>{e.params.autoplay.enabled&&(z(),oe(),j())}),s("destroy",()=>{Z(),Ee(),e.autoplay.running&&k()}),s("_freeModeStaticRelease",()=>{(m||v)&&I()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():b(!0,!0)}),s("beforeTransitionStart",(X,se,de)=>{e.destroyed||!e.autoplay.running||(de||!e.params.autoplay.disableOnInteraction?b(!0,!0):k())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){k();return}f=!0,m=!1,v=!1,g=setTimeout(()=>{v=!0,m=!0,b(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!f)){if(clearTimeout(g),clearTimeout(o),e.params.autoplay.disableOnInteraction){m=!1,f=!1;return}m&&e.params.cssMode&&I(),m=!1,f=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:j,stop:k,pause:b,resume:I})}function hE(t){const{effect:e,swiper:n,on:s,setTranslate:i,setTransition:r,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:u}=t;s("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),s("setTranslate",()=>{n.params.effect===e&&i()}),s("setTransition",(h,p)=>{n.params.effect===e&&r(p)}),s("transitionEnd",()=>{if(n.params.effect===e&&l){if(!u||!u().slideShadows)return;n.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),l()}});let d;s("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(d=!0),requestAnimationFrame(()=>{d&&n.slides&&n.slides.length&&(i(),d=!1)}))})}function fE(t,e){const n=Zl(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function sd(t,e,n){const s=`swiper-slide-shadow${n?`-${n}`:""}${t?` swiper-slide-shadow-${t}`:""}`,i=Zl(e);let r=i.querySelector(`.${s.split(" ").join(".")}`);return r||(r=Hr("div",s.split(" ")),i.append(r)),r}function id(t){let{swiper:e,extendParams:n,on:s}=t;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),hE({effect:"coverflow",swiper:e,on:s,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:u}=e,d=e.params.coverflowEffect,h=e.isHorizontal(),p=e.translate,f=h?-p+o/2:-p+a/2,m=h?d.rotate:-d.rotate,g=d.depth;for(let y=0,v=l.length;y<v;y+=1){const E=l[y],w=u[y],T=E.swiperSlideOffset,A=(f-T-w/2)/w,C=typeof d.modifier=="function"?d.modifier(A):A*d.modifier;let j=h?m*C:0,k=h?0:m*C,b=-g*Math.abs(C),I=d.stretch;typeof I=="string"&&I.indexOf("%")!==-1&&(I=parseFloat(d.stretch)/100*w);let O=h?0:I*C,M=h?I*C:0,N=1-(1-d.scale)*Math.abs(C);Math.abs(M)<.001&&(M=0),Math.abs(O)<.001&&(O=0),Math.abs(b)<.001&&(b=0),Math.abs(j)<.001&&(j=0),Math.abs(k)<.001&&(k=0),Math.abs(N)<.001&&(N=0),e.browser&&e.browser.isSafari&&(Math.abs(j)/90%2===1&&(j+=.001),Math.abs(k)/90%2===1&&(k+=.001));const z=`translate3d(${M}px,${O}px,${b}px)  rotateX(${k}deg) rotateY(${j}deg) scale(${N})`,Z=fE(d,E);if(Z.style.transform=z,E.style.zIndex=-Math.abs(Math.round(C))+1,d.slideShadows){let oe=h?E.querySelector(".swiper-slide-shadow-left"):E.querySelector(".swiper-slide-shadow-top"),Ee=h?E.querySelector(".swiper-slide-shadow-right"):E.querySelector(".swiper-slide-shadow-bottom");oe||(oe=sd("coverflow",E,h?"left":"top")),Ee||(Ee=sd("coverflow",E,h?"right":"bottom")),oe&&(oe.style.opacity=C>0?C:0),Ee&&(Ee.style.opacity=-C>0?-C:0)}}},setTransition:o=>{e.slides.map(l=>Zl(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>{u.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const Sa="/ReOpenSG/assets/home_partner1-02PF_Ky3.png",Ia="/ReOpenSG/assets/home_partner2-iN5o6-By.png",Ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAACZCAMAAAB+KoMCAAAAzFBMVEX////hACrvgArueADvfQDvfgDueQDhACjgACXeAADudgD0rHbxkDn51Lb0sHvfAA3znFH51r7638zwhhv98uffABf62cb3yM/gAB7xoarvk5798urgACHujpr//vvfAAf4yKTqb3363+P+9ff85tX3w5v86u3yrLT519z++fPtbwDmTF774ub1vcT40NX0qm7wiSXsgY3yn1n1uInzsbnthZHoX27jLEX1wcf4zKzoZnX2vZHlQVXylUPmTV/wjC7iFDXkNEviHTvreIX6hXK7AAAOn0lEQVR4nO1d6ULiOhTuXhpHCmK1KAIKsjgKqNcFl4HR93+n2yZdTpZWQMaK5PsltDDpN8nZz0FRJCQkJCQkJCQkJCQkJCS+BNN29bjoNfwM7F1YOtLK1WbRC9l8HOiappmGboyrRS9l09FFGoGhW7f7Ra9mozGMqQzZRBW5NT8BS9MgmZPdohe0uZiYkEvN1GuSzBVRoakMyESzvaIXtZkYGxoLE1WkAloBtxZHZajOb4te1wZiKqJS06yaPOXLYlcXUqkZFztFL23T0EVCJvVae1j00jYN+6JdaVrn4bXOqOjVbRSaAllp1EINPnjynKeil7dRMFnDUjNem4rSu3d8W/UeOkWvb4Pwi7PRawGTh56vhmjYZ0UvcHPA2egoON1Xjq0SlJzDole4MWBtdCOwzgcJk6pqO1dFL3FTcM5QqQdG0FtJVQGX/xW9xg1BlabSuFGUvquqFJf9ohe5GdijbXRrqih/SyrDpTzji+CYphJ1lY5rqyyXj0UvcxPA2OiB/h60VBa2Oyh6nZuAmslQOXI5KlXb6xW9zg3Aq8kccMGuDGz1h6LXuQG4oWx0var0OFkZwr8veqHfH2WKytBCfysJqFTdo6JX+u1B2+jmL0W580RU2o6MuX2AXU6FXzoiKlXblmGifLA2enDC/zSEXEpx+QH2mZSE0VQOM7alc13vX416cnNmoMlQabUV5UGseE58z3Pdlj//fd2XNrsATGjI1BTlSmClq97plRcJzYbvtdyXu0e5P2kwZUMa2lUUlTctG3+V31CG2iXfdV/ql0Uv/zvhhomjm6+BPeRzgtLv9DgRajc85+FI+pQxyoKUxIBlzW4NlLrQ3ix5zosMDhOwcXQtzIL7zAkPw79iZRSefbd0IremwtnoJJJ+T5uW7ruinInCHPGm9ZxTmZtU9rgCDUNRrilh6f9WRPKTgu/cb70KYm30QFgqtFwszUOrR6DVWTJPt/yYD7laFzRU+oBK2w2322HO+Y5v9J2Top+mUDQ1tkADNSkqSZbsNP98R2R6861Oqc1YKi1KMJJAZafx0fnGKDlv26x+KoxhaVSgBvdIPEjoS3JEtt62elNyNnoY0PDiPRgnde7FgTd4uH3nLyZyat5sa8/kM0vlUDmM92CcauyI426AR9c/xdGi6gSZltYt9IkKA1Pab5XTPZhkIfpCpxHfEsaJnMYpqTrYnaFQ8pqoXdzzFAg6jm5qTWUU78GkXOgldRqDDdhyHKflhmg53vzluk9Uzf6zqccqDI2Le6DiQJX2m3o3zTl679EtICjkle4ezzqd3mB0GGCQxNSPpxVkAVvAqmyhwKTab62AyafIEvJf4luOkvPdEhnhx9XbGbJYkTvZwiaLVFbqs2NFeY90TklNouRJatytB6+ae9Pz8/buQYDd9vPOq6brBlfSHrYHbB+XURzdtMLwWue30wrgup6TGNtJ7Usj3KfPFrJC6AEsyzD4zoDt5TK00U0Lac/hk18djgaDwWj0WE8rAZM4kRsYjmNx15SQy1lxD1UMzi8QqpVzuhqToJDTYfPm+UDnX/cU3wPdbu5JTIJCpTdh23P2rkSy65RGEhRq3PMJymxYaCwby2l0kkSPH9iZGa26LAIdVpbDoFikBZf+NVfMkUWk+bx12nsRXMW+jndC2fOZRKLadAtdnYVwGjk73hHbUSGAgX7JeUXZKJEj7tUFSTWWyFeptfMQHXH3v6yxBgmR4y2NVC4OUnkVODt5VFqoLK2fD0GKqlsjQQFCBNMybqXSXgTvoZnu9PiymIhIXTv/qUq7cza6unocna2rXqLn4cJAvlgLE4km0zX9O98Nj+9zFycMWi3Xf7m7ovk8TMFW+RxC0D2i175aelCUHd4FD5T2D7V+Oncl17djByXMYrmtF1hPGqVlAjh1+qN9x03BXOw5auNJMGvDQJWfqrTrjsfVUdglz0mbwUrJdY9m6wwMelDda+aLnxpeXxmy5Qf6zw1Z/BF2KAYaI+0Fy6RyDmpRcR0ghVEr0DpUtPJHhyw6bxlFUmGkMUYWlffgs6QOkMbbCzW15IeHLB6yys0gaRlU1kHVH6kDZHB0BSY8mfrPDlmcZtVQ2D64S0zloAUkg3DCQ7BPd1Gsa2Y/e5BtRkNdWK8CBy+JqVSBoMxsWCYh9EBp//SQBTWKpeHhHKznN4K/qFI9IZVQUHpZY+2eLUzkzU+1fhKM4KZs/flvcHl59lg//fNUp1WIiEooKDOHO4QRdEvfybZ+yuMQ7cWXPDz+nooLdDXYbk7JqIBK2PJkNzKdzfJFfshiYgTQmcKrg2oI3mhqTm9qhmXU6N9c2Md3J/IDv8r6iYtj+l4WXXw5Z7nZAC1KXt50Bp7KDhCUudMIuvlKG5diG8xo2wnSdf2Ce+C2QapjTANNwMXdi+Bu9Bq/DD+rX2QYr1X6Xhr7M/LZlTLxYGe5eVEMnkooKFcYG1Y9INjDWsm42Ytf46vY1WQT4s0KsPVNlE68xpGnsISbAJuxKItKnbqXwtCM/DK0gmAHcxpsN6+9mKMSCsqkDnBxNMPNgWFGziQBImUuIiqbv/CDGpZO6t9QOb6yLiqTJliztvQDUfOB3Lw2BZZKqK54f/FjZOVzw5EmiphK/KCmPt7dm1ZwLDmpEl4Tle10TdbyRbOQSv8050aGSigoQR3g4mgi0+Sq2YJ3jEwqp/hBDXL0yFOjyC5YD5VRMo+UzqKlVQ/Vrt2qZ9/IUPkHKv5V2hTxWLfahGISvyIKgaeyaVBv3UL21kPlJOKQTEmzlo65UMG11mnm/qKpPAINOStOVwzV+pAKZBrgUPFU4kh82N8bfdwA6mEtVJbxx/TbKKkXHY8lQM+08UtZqpiicgRilO7qHYrNCdEjCOkGI6B4KjXmHbItiQ21DiqrKYHPekTqcmAaQmx3Lj7lFJUlYIx+Yo7QK9Yj1m23uzcmeuQ5vsRRSbaKmZqoOItpmvjvNVB5TKq5jeNkYZwt9hE6bPjcdm0RmYDKPrAoPzMMEKsO0ySqg4SPEnuOUAmsO3y+TWBZk95fcssaqIzYI6GroU6U4JIBwSOuD9H2BH5PSqU9T2WC7a+enIRcKLEsjLnCVJqT2WymEacTW0IGPHNYO1g4afl5KsmZTiRMdNpv2A9/gAe+EdH2OJmZUgm65T81vY5EjFLxaMKNSPRRaC8hQiVWrxZ06HDDqoHN9E9TGYmPSfLGDvmO9nKP1PMEk0Js9y9tsJdE2R/3M2OmWT2CuyZjalPVTqhsEgMFho5xRphsnM9SGXW3Q4ESWUZLpvPOfFGDbIPOw4qoLL1kfeUCiEwO9g2LvCBUht0pF4RKfFGHdjPu/SXS87NUjvk9yO3TxdCbi3IStgO9H/Gu/MSsoHOLeaShCdQmptK4nU6nbSz7h0tTaXX3BWiKqIz8KJpe4k9ZZWVJnDqicUAuCIwLqbRbq08X4PUIjraFfeUKbwwttSsjd0XncdEVULlvEbnMBFVJbGN5B/JwLkqFA/NbSKVami/7DyWoZegRYnRzVBpLyErhz9BpkTTkqZyJrUjiqYaN7suibvMFGqCmAFDZyC0iWBQWxw1u7okekjPRl9HgzUkWlyIqicNo8b4NqYQwMqLEuag3ODIbf+OLKZX+Hcysreo3Rif2ALxFTmwGlfi4Wbxd2Q7/ZKhUmmMdCY638IDvZXvct2SNz4JLH6LOHfMkgQu8naMeLBNaNZrBU3kLHBqOSl5LZXs7IUQ6R6R2hqSLVWz17OCLfF5kIfRVemcmMUxA5Qldk9FazeHJ0iMZu5L3wYnbif8WUJmJ6kXIXHJqq22MDLb2p+fBxVXLQE8oZW6r0dsUlXSl0Fvu92WBSCi4ynGqRwSRIXPxyFAumschvib9ewZr05LcGU0lVZax2pDpmViPRIbcx/FK6J8sQ+WXogcNn1Y06pihEkYsc6PvmRinCjjCJI1PCKPolMmSF0UP0TVreVg2ULEq4NAqN9I7DJVKHQaUVvlZtzZWMkBxUpEiQW4ncj8WyO2E6OLcURa+bgcDPZ5FJczurBRri3zwVGjtQadclHGsYPL1cTXJOMbiQUhllpmufakwAFPpYteQo7IDxUBqfy4OLCyBCi/DEy/Mg8/wvjX0OA+eVHSIqLwQGpbBZ/8hlXyYl6ozEKsdhakm9PISv2JMdQ3GxZs6PLLi6oxX0EplphUFIiqHB2LsPf87FVV35mzUEUyls+fRezyVyh0lLpcPXZKAZew6jikNLaQyVONWXDNUA9b9UnZlTnXGJ1GybdeGbSWdJxBy89+T2zgqlRcQ57SdpX/VgET9dcIlcdKSIGMGlUqzXdEsxFayfQ8q8Ygq23P+njxedgJD6PC6AUvTk3gGdBzjz/agZ7RCjUYUca20p+dEDKLEYs+iMkCTr69cmcq9nfIi2Gkv8MXJjwaWPNcJ4VLDzRtJnBxQmcZ7H6G49JePqVeIDohOLcjd5lEpwMpUTpGxCBYau3edOReR3pSAyhZIjb3Dj3ts/9PHGKO0PMOACYGvojIzsknbTjv53xlC/OtsCUBzWEIl1TdBpytX+KHbag2FM8UCoxm9wprG77Ur2ZpkEfInRHt/0jsTKn2qlpL6v7BzywqzHm1nFqjyX7d0cegXUXkw3lkI7Q+/lvsBDXpPwgh5TKXt0I7Nf/ArVs1P8FUQXHVGLnbpUEcu/pEGP3txMgcblxxK9MVUsn23dAeV/0dZDwiVixaaYCqtxQrI/5kxNPrtiCoK1JI7p0MUhMqSw/tGdExuTZP3QyrRwpmAkEqDzRhmgFC5dE52EVyePDhe2gqu4p9qch5YDRJY8sHbb4IQ0JnjAazpt6xnuoUWf9xdZKHagoUUmMplqy4WxmX/ae61XMKF2/IeTnjPxXG9+an4Z6qvTo4A1rMt28/TJZ62+3x+8PFdBFUUWAv/dNJE5+yxXz86qvevBkKv5fKn/Hzgwa/XnR/fIyghISEhISEhISEhISEhISEhISEhISEhISEhISGxDfgfTiU3HzxOs5MAAAAASUVORK5CYII=";function pE(){const t=[{id:me(),img:Sa},{id:me(),img:Ia},{id:me(),img:Ca},{id:me(),img:Sa},{id:me(),img:Ia},{id:me(),img:Ca},{id:me(),img:Sa},{id:me(),img:Ia},{id:me(),img:Ca}];return c.jsxs("section",{className:B.partner,children:[c.jsx("h3",{className:"sr-only",children:"Partner"}),c.jsxs("div",{className:B.titleWrapper,children:[c.jsxs("p",{className:B.mainKeyword,children:[c.jsx("span",{children:" "}),c.jsx("span",{className:B.gradient,children:"OpenSG"})]}),c.jsxs("small",{className:B.subKeyword,children:[c.jsx("span",{children:"   ,"}),c.jsx("span",{children:"    "})]})]}),c.jsx("div",{className:"w-full",children:c.jsx(Wr,{className:`mySwiper ${B.partnerSwiper}`,spaceBetween:60,slidesPerView:"auto",breakpoints:{375:{slidesPerView:2},1024:{slidesPerView:3},1440:{slidesPerView:4}},loop:!0,modules:[dE],speed:5500,freeMode:!0,preventInteractionOnTransition:!0,autoplay:{delay:0,stopOnLastSlide:!1,disableOnInteraction:!1},children:t.map(e=>c.jsx(Qr,{children:c.jsx("img",{src:e.img,alt:"partner",className:"w-300px object-cover"})},e.id))})})]})}function mE(){return c.jsxs("section",{className:B.home,children:[c.jsx("h2",{className:"sr-only",children:" "}),c.jsx("div",{className:B.black,children:c.jsx(U_,{})}),c.jsx(fw,{}),c.jsxs("div",{className:B.black,children:[c.jsx(Tw,{}),c.jsx(Sw,{})]}),c.jsxs("div",{className:B.white,children:[c.jsx(Dw,{}),c.jsx(pE,{})]})]})}const gE="qv7u",yE="Cmkm",vE="x5bj",_E="Y5tL",wE="ucOI",TE="fYcF",EE="QmFB",xE="zRO9",AE="TMTE",SE="pyCI",IE="dWsM",CE="_--s-",bE="-yZd",et={section:gE,hidden:yE,swiperWrapper:vE,yearSwiper:_E,yearSwiperSlide:wE,yearSlide:TE,isActive:EE,isInActive:xE,historySwiper:AE,historySwiperSlide:SE,historySlide:IE,historySlideTitle:CE,historySlideDescription:bE},RE="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20id='Ellipse%2067'%20cx='8'%20cy='8'%20r='7.5'%20fill='white'%20stroke='white'/%3e%3c/svg%3e",PE="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20id='Ellipse%2066'%20cx='6'%20cy='6'%20r='5.5'%20stroke='%23AEAFB2'/%3e%3c/svg%3e";function Df({isActive:t,year:e}){return c.jsxs("div",{className:`${et.yearSlide} ${t?et.isActive:et.isInActive}`,children:[c.jsx("span",{children:e}),c.jsx("img",{src:`${t?RE:PE}`,alt:"","aria-hidden":!0})]})}Df.propTypes={isActive:_.bool.isRequired,year:_.string.isRequired};function Lf({isActive:t,year:e,history:n}){return c.jsxs("div",{className:`${et.historySlide} ${t?et.isActive:et.isInActive}`,children:[c.jsx("span",{className:et.historySlideTitle,children:e}),c.jsx("ul",{className:et.historySlideDescription,children:n.map(s=>c.jsx("li",{children:s},s))})]})}Lf.propTypes={isActive:_.bool.isRequired,year:_.string.isRequired,history:_.arrayOf(_.string).isRequired};const kE={2007:["   ","Microsoft Gold Partner ","  "],2009:["  "],2010:["   "],2017:["   ","R&D  _ "],2020:["        "],2021:["Microsoft  MRPP  HoloLens2  "],2022:["  Main-biz  ","      "],2023:["ISO 9001, 14001 ","  Inno-biz  ","  "]};function NE(){const[t,e]=S.useState(null),[n,s]=S.useState(null),i=Object.entries(kE).toSorted((r,o)=>o[0]-r[0]);return c.jsxs("section",{className:et.section,children:[c.jsx("h2",{className:et.hidden,children:" "}),c.jsxs("div",{className:et.swiperWrapper,children:[c.jsx(Wr,{mousewheel:!0,centeredSlides:!0,modules:[nd,id,td],effect:"coverflow",breakpoints:{375:{slidesPerView:5,spaceBetween:10},1024:{slidesPerView:7,spaceBetween:20},1440:{slidesPerView:7,spaceBetween:30}},coverflowEffect:{rotate:0,stretch:0,depth:0,slideShadows:!0},onSwiper:e,controller:{by:"container",control:n},className:et.yearSwiper,children:i.map(([r])=>c.jsx(Qr,{className:et.yearSwiperSlide,children:({isActive:o})=>c.jsx(Df,{isActive:o,year:r},r)},r))}),c.jsx(Wr,{mousewheel:!0,centeredSlides:!0,modules:[nd,id,td],effect:"coverflow",breakpoints:{375:{slidesPerView:1,spaceBetween:10},1024:{slidesPerView:3,spaceBetween:20},1440:{slidesPerView:3,spaceBetween:30}},coverflowEffect:{rotate:20,scale:.7},onSwiper:s,controller:{by:"container",control:t},className:et.historySwiper,children:i.map(([r,o])=>c.jsx(Qr,{className:et.historySwiperSlide,children:({isActive:a})=>c.jsx(Lf,{isActive:a,year:r,history:o})},r))})]})]})}function OE(){return c.jsx(NE,{})}const DE="QWdc",LE="LwqO",ME="_3F1y",jE="MTCx",VE="_9HIG",FE="hQ-T",UE="Yje4",BE="Leny",Ht={teamWrapper:DE,teamContainer:LE,sectionWrapper:ME,lnbUl:jE,isClicked:VE,iconStyle:FE,cardWrapper:UE,roleSectionWrapper:BE};function Mf({data:t,state:e,setState:n}){const s=As();return c.jsxs("ul",{className:Ht.lnbUl,children:[c.jsx("li",{children:c.jsx("button",{type:"button",id:s,value:"",onClick:i=>n(i.target.value),className:e===""?Ht.isClicked:"",children:""})}),t.map(i=>c.jsx("li",{children:c.jsx("button",{type:"button",id:s,value:i[0],onClick:r=>n(r.target.value),className:i[0]===e?Ht.isClicked:"",children:i[0]})},i[0]))]})}Mf.propTypes={data:_.arrayOf(x.array).isRequired,state:_.string.isRequired,setState:_.func.isRequired};const GE="data:image/svg+xml,%3csvg%20width='128'%20height='114'%20viewBox='0%200%20128%20114'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M94.2494%204C94.2494%201.79086%2096.0403%200%2098.2494%200H105.606C107.815%200%20109.606%201.79086%20109.606%204V9.7974C109.606%2010.0529%20109.582%2010.3029%20109.536%2010.5451C110.565%2011.0326%20111.54%2011.612%20112.451%2012.2725C112.645%2012.1053%20112.859%2011.9543%20113.091%2011.8229L118.319%208.86443C120.242%207.77648%20122.71%208.43756%20123.831%2010.341L127.449%2016.4829C128.57%2018.3864%20127.921%2020.8114%20125.998%2021.8993L120.77%2024.8578C120.456%2025.0354%20120.127%2025.1664%20119.793%2025.2529C119.829%2025.7131%20119.847%2026.1781%20119.847%2026.6473C119.847%2027.2838%20119.813%2027.9125%20119.747%2028.5318C120.098%2028.6181%20120.442%2028.7529%20120.771%2028.9388L125.999%2031.8973C127.922%2032.9852%20128.572%2035.4102%20127.45%2037.3136L123.832%2043.4556C122.711%2045.359%20120.243%2046.0201%20118.321%2044.9322L113.092%2041.9737C112.733%2041.7703%20112.418%2041.5201%20112.151%2041.2353C111.282%2041.8395%20110.356%2042.3709%20109.384%2042.8206C109.528%2043.2328%20109.606%2043.6756%20109.606%2044.1367V49.9341C109.606%2052.0317%20107.991%2053.7522%20105.937%2053.9206V81.9331C105.937%2089.6651%2099.669%2095.9331%2091.937%2095.9331H56.6419V106.641H73.775C75.8059%20106.641%2077.4523%20108.288%2077.4523%20110.319C77.4523%20112.35%2075.8059%20113.996%2073.775%20113.996H32.1611C30.1302%20113.996%2028.4838%20112.35%2028.4838%20110.319C28.4838%20108.288%2030.1302%20106.641%2032.1611%20106.641H49.2973V95.9331H14C6.26801%2095.9331%200%2089.6651%200%2081.9331V28.3867C0%2020.6547%206.26801%2014.3867%2014%2014.3867H77.6861L80.0624%2010.3529C81.1837%208.44947%2083.6513%207.78839%2085.574%208.87634L90.8023%2011.8348C90.9098%2011.8956%2091.0133%2011.9606%2091.1128%2012.0295C92.1001%2011.3472%2093.1596%2010.7586%2094.2778%2010.2768C94.2591%2010.1196%2094.2494%209.95962%2094.2494%209.7974V4ZM78.7357%2022.3867H14C10.6863%2022.3867%208%2025.073%208%2028.3867V81.9331C8%2085.2468%2010.6863%2087.9331%2014%2087.9331H91.937C95.2507%2087.9331%2097.937%2085.2468%2097.937%2081.9331V53.9221C95.8739%2053.7627%2094.2494%2052.0381%2094.2494%2049.9341V44.1367C94.2494%2043.7664%2094.2998%2043.4078%2094.3939%2043.0675C93.3667%2042.6333%2092.3883%2042.1091%2091.469%2041.5053C91.2677%2041.6817%2091.0451%2041.8404%2090.8022%2041.9779L85.5739%2044.9364C83.6512%2046.0243%2081.1836%2045.3632%2080.0623%2043.4598L76.4442%2037.3178C75.3229%2035.4144%2075.9726%2032.9894%2077.8953%2031.9015L83.1236%2028.943C83.2465%2028.8735%2083.3716%2028.8111%2083.4985%2028.7557C83.4156%2028.0642%2083.3729%2027.3607%2083.3729%2026.6473C83.3729%2026.1034%2083.3977%2025.5652%2083.4462%2025.0337C83.3373%2024.9843%2083.2296%2024.9296%2083.1237%2024.8697L78.7357%2022.3867ZM111.445%2026.9698C111.445%2032.1653%20107.193%2036.3771%20101.947%2036.3771C96.7012%2036.3771%2092.4486%2032.1653%2092.4486%2026.9698C92.4486%2021.7743%2096.7012%2017.5625%20101.947%2017.5625C107.193%2017.5625%20111.445%2021.7743%20111.445%2026.9698Z'%20fill='white'/%3e%3c/svg%3e",zE="data:image/svg+xml,%3csvg%20width='128'%20height='114'%20viewBox='0%200%20128%20114'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M116.316%2040.1765H87.7295V11.6472L91.5085%2015.4186L88.8525%2018.0693C88.2661%2018.6545%2088.2652%2019.6043%2088.8504%2020.1907C89.4356%2020.777%2090.3853%2020.778%2090.9717%2020.1928L93.632%2017.5378L97.3889%2021.2872L94.9883%2023.6831C94.4019%2024.2683%2094.4009%2025.218%2094.9861%2025.8044C95.5713%2026.3908%2096.5211%2026.3917%2097.1074%2025.8065L99.5123%2023.4064L103.526%2027.4121L101.126%2029.8075C100.54%2030.3927%20100.539%2031.3424%20101.124%2031.9288C101.709%2032.5152%20102.659%2032.5161%20103.245%2031.9309L105.65%2029.5313L109.66%2033.5341L107.262%2035.928C106.675%2036.5132%20106.674%2037.463%20107.26%2038.0493C107.845%2038.6357%20108.795%2038.6367%20109.381%2038.0515L111.784%2035.6533L116.316%2040.1765ZM81.7295%2011.552V5.65921V5.47649V4.00802V2.00401C81.7295%200.223167%2083.8818%20-0.669605%2085.1423%200.588377L86.5608%202.00401L87.6002%203.04133L87.7295%203.1704L124.81%2040.1765L124.941%2040.3078L125.987%2041.3509L127.399%2042.7608C128.661%2044.0202%20127.769%2046.1765%20125.987%2046.1765H123.991H122.514H122.328H108.161V81.28C108.161%2089.012%20101.893%2095.28%2094.1611%2095.28H57.838V106.426H75.3342C77.4254%20106.426%2079.1206%20108.121%2079.1206%20110.213C79.1206%20112.304%2077.4254%20113.999%2075.3342%20113.999H32.8264C30.7353%20113.999%2029.04%20112.304%2029.04%20110.213C29.04%20108.121%2030.7353%20106.426%2032.8264%20106.426H50.3262V95.28H14C6.26801%2095.28%200%2089.012%200%2081.28V25.552C0%2017.82%206.26802%2011.552%2014%2011.552H81.7295ZM81.7295%2019.552H14C10.6863%2019.552%208%2022.2383%208%2025.552V81.28C8%2084.5937%2010.6863%2087.28%2014%2087.28H94.1611C97.4748%2087.28%20100.161%2084.5937%20100.161%2081.28V46.1765H83.7295C82.6249%2046.1765%2081.7295%2045.281%2081.7295%2044.1765V19.552Z'%20fill='white'/%3e%3c/svg%3e",qE="data:image/svg+xml,%3csvg%20width='122'%20height='128'%20viewBox='0%200%20122%20128'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M61.6289%2064.4147C77.7662%2064.4147%2090.8454%2051.3367%2090.8454%2035.2074C90.8454%2019.078%2077.7662%206%2061.6289%206C45.4916%206%2032.4124%2019.078%2032.4124%2035.2074C32.4124%2051.3367%2045.4916%2064.4147%2061.6289%2064.4147ZM61.6289%2070.4147C81.0784%2070.4147%2096.8454%2054.6518%2096.8454%2035.2074C96.8454%2015.7629%2081.0784%200%2061.6289%200C42.1793%200%2026.4124%2015.7629%2026.4124%2035.2074C26.4124%2054.6518%2042.1793%2070.4147%2061.6289%2070.4147ZM115.673%20121.997C115.107%20116.817%20113.81%20111.733%20111.812%20106.9C109.047%20100.211%20104.994%2094.1348%2099.8867%2089.0169C94.7895%2083.9096%2088.7408%2079.8568%2082.085%2077.0881C81.9881%2077.0978%2081.7065%2077.1483%2081.19%2077.3838C80.0251%2077.915%2078.6104%2078.9243%2076.621%2080.4967C76.3364%2080.7216%2076.0372%2080.9606%2075.7257%2081.2093C74.1036%2082.5046%2072.1483%2084.0659%2070.1912%2085.3025C67.8578%2086.7769%2064.6912%2088.3535%2061%2088.3535C57.3088%2088.3535%2054.1422%2086.7769%2051.8088%2085.3025C49.8518%2084.0659%2047.8966%2082.5047%2046.2745%2081.2095L46.2743%2081.2093C45.9628%2080.9605%2045.6636%2080.7216%2045.379%2080.4967C43.3896%2078.9243%2041.9748%2077.915%2040.81%2077.3838C40.2934%2077.1483%2040.0118%2077.0978%2039.915%2077.0881C33.2592%2079.8568%2027.2105%2083.9097%2022.1133%2089.0169C17.0055%2094.1348%2012.9532%20100.211%2010.1882%20106.9C8.19025%20111.733%206.89285%20116.817%206.32681%20121.997L61%20121.997H115.673ZM121.705%20121.997C121.118%20116.029%20119.656%20110.168%20117.357%20104.607C114.291%2097.1919%20109.798%2090.4541%20104.134%2084.7785C98.4691%2079.1029%2091.7445%2074.6008%2084.3437%2071.5292C80.3296%2069.8632%2076.1592%2073.1887%2071.9048%2076.5811C68.3152%2079.4435%2064.6658%2082.3535%2061%2082.3535C57.3342%2082.3535%2053.6848%2079.4435%2050.0952%2076.5811C45.8408%2073.1887%2041.6704%2069.8632%2037.6563%2071.5292C30.2554%2074.6008%2023.5309%2079.1029%2017.8665%2084.7785C12.2021%2090.4541%207.70888%2097.1919%204.64335%20104.607C2.34445%20110.168%200.88221%20116.029%200.294626%20121.997C0.0986783%20123.988%200%20125.99%200%20127.997H6L61%20127.997H116H122C122%20125.99%20121.901%20123.988%20121.705%20121.997ZM50.0786%2097.9204H46.9544V113H50.0786V106.752H56.6187V113H59.7637V97.9204H56.6187V104.169H50.0786V97.9204ZM68.2199%2097.9204H62.3047V113H65.429V107.647H67.8138L70.6985%20113H74.1559L70.9484%20107.137C71.8093%20106.769%2072.4689%20106.217%2072.9271%20105.481C73.3853%20104.745%2073.6144%20103.863%2073.6144%20102.836C73.6144%20101.843%2073.4027%20100.979%2072.9792%20100.243C72.5557%2099.4999%2071.9378%2098.9271%2071.1255%2098.5245C70.3201%2098.1218%2069.3516%2097.9204%2068.2199%2097.9204ZM69.6987%20101.086C70.157%20101.482%2070.3861%20102.065%2070.3861%20102.836C70.3861%20104.349%2069.4696%20105.106%2067.6367%20105.106H65.429V100.482H67.6367C68.5532%20100.482%2069.2405%20100.684%2069.6987%20101.086Z'%20fill='white'/%3e%3c/svg%3e",HE="data:image/svg+xml,%3csvg%20width='122'%20height='128'%20viewBox='0%200%20122%20128'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M61.6286%2064.4147C77.7659%2064.4147%2090.8451%2051.3367%2090.8451%2035.2074C90.8451%2019.078%2077.7659%206%2061.6286%206C45.4913%206%2032.4121%2019.078%2032.4121%2035.2074C32.4121%2051.3367%2045.4913%2064.4147%2061.6286%2064.4147ZM61.6286%2070.4147C81.0781%2070.4147%2096.8451%2054.6518%2096.8451%2035.2074C96.8451%2015.7629%2081.0781%200%2061.6286%200C42.1791%200%2026.4121%2015.7629%2026.4121%2035.2074C26.4121%2054.6518%2042.1791%2070.4147%2061.6286%2070.4147ZM115.673%20121.997C115.107%20116.817%20113.81%20111.733%20111.812%20106.9C109.047%20100.211%20104.994%2094.1348%2099.8867%2089.0169C94.7895%2083.9096%2088.7408%2079.8568%2082.085%2077.0881C81.9881%2077.0978%2081.7065%2077.1483%2081.19%2077.3838C80.0251%2077.915%2078.6104%2078.9243%2076.621%2080.4967C76.3364%2080.7216%2076.0372%2080.9606%2075.7257%2081.2093C74.1036%2082.5046%2072.1483%2084.0659%2070.1912%2085.3025C67.8578%2086.7769%2064.6912%2088.3535%2061%2088.3535C57.3088%2088.3535%2054.1422%2086.7769%2051.8088%2085.3025C49.8518%2084.0659%2047.8966%2082.5047%2046.2745%2081.2095L46.2743%2081.2093C45.9628%2080.9605%2045.6636%2080.7216%2045.379%2080.4967C43.3896%2078.9243%2041.9748%2077.915%2040.81%2077.3838C40.2934%2077.1483%2040.0118%2077.0978%2039.915%2077.0881C33.2592%2079.8568%2027.2105%2083.9097%2022.1133%2089.0169C17.0055%2094.1348%2012.9532%20100.211%2010.1882%20106.9C8.19025%20111.733%206.89285%20116.817%206.32681%20121.997L61%20121.997H115.673ZM121.705%20121.997C121.118%20116.029%20119.656%20110.168%20117.357%20104.607C114.291%2097.1919%20109.798%2090.4541%20104.134%2084.7785C98.4691%2079.1029%2091.7445%2074.6008%2084.3437%2071.5292C80.3296%2069.8632%2076.1592%2073.1887%2071.9048%2076.5811C68.3152%2079.4435%2064.6658%2082.3535%2061%2082.3535C57.3342%2082.3535%2053.6848%2079.4435%2050.0952%2076.5811C45.8408%2073.1887%2041.6704%2069.8632%2037.6563%2071.5292C30.2554%2074.6008%2023.5309%2079.1029%2017.8665%2084.7785C12.2021%2090.4541%207.70888%2097.1919%204.64335%20104.607C2.34445%20110.168%200.88221%20116.029%200.294626%20121.997C0.0986783%20123.988%200%20125.99%200%20127.997H6L61%20127.997H116H122C122%20125.99%20121.901%20123.988%20121.705%20121.997ZM57.5032%2092C57.5032%2090.8954%2058.3986%2090%2059.5032%2090H64.1935C65.2981%2090%2066.1935%2090.8954%2066.1935%2092V95.8746C66.1935%2095.9275%2066.1914%2095.9799%2066.1874%2096.0318C66.7459%2096.3011%2067.2761%2096.6189%2067.7724%2096.9794C67.823%2096.944%2067.8756%2096.9107%2067.9303%2096.8795L71.3551%2094.9249C72.3145%2094.3774%2073.5438%2094.7068%2074.1009%2095.6606L76.4287%2099.6461C76.9858%20100.6%2076.6598%20101.817%2075.7004%20102.364L72.2756%20104.319C72.1733%20104.377%2072.068%20104.426%2071.9608%20104.464C71.9786%20104.709%2071.9876%20104.956%2071.9876%20105.205C71.9876%20105.55%2071.9703%20105.891%2071.9364%20106.228C72.0526%20106.268%2072.1666%20106.319%2072.2771%20106.382L75.702%20108.337C76.6613%20108.884%2076.9874%20110.101%2076.4303%20111.055L74.1024%20115.041C73.5453%20115.994%2072.316%20116.324%2071.3567%20115.776L67.9318%20113.822C67.8029%20113.748%2067.6855%20113.663%2067.5801%20113.567C67.1224%20113.884%2066.6374%20114.165%2066.1295%20114.406C66.1713%20114.567%2066.1935%20114.736%2066.1935%20114.91V118.785C66.1935%20119.889%2065.2981%20120.785%2064.1935%20120.785H59.5032C58.3986%20120.785%2057.5032%20119.889%2057.5032%20118.785V114.91C57.5032%20114.789%2057.5139%20114.671%2057.5345%20114.555C56.9854%20114.318%2056.4611%20114.034%2055.9668%20113.71C55.9088%20113.752%2055.848%20113.791%2055.7844%20113.828L52.3595%20115.782C51.4002%20116.33%2050.1709%20116%2049.6138%20115.046L47.2859%20111.061C46.7288%20110.107%2047.0549%20108.89%2048.0142%20108.343L51.4174%20106.4C51.3711%20106.008%2051.3473%20105.609%2051.3473%20105.205C51.3473%20104.899%2051.3609%20104.597%2051.3875%20104.298L48.0135%20102.373C47.0542%20101.825%2046.7281%20100.608%2047.2852%2099.6542L49.6131%2095.6687C50.1702%2094.7149%2051.3995%2094.3855%2052.3588%2094.933L55.7326%2096.8584C56.2853%2096.4737%2056.878%2096.1413%2057.5032%2095.8685V92ZM67.2325%20105.392C67.2325%20108.358%2064.8259%20110.762%2061.8572%20110.762C58.8885%20110.762%2056.4819%20108.358%2056.4819%20105.392C56.4819%20102.427%2058.8885%20100.023%2061.8572%20100.023C64.8259%20100.023%2067.2325%20102.427%2067.2325%20105.392Z'%20fill='white'/%3e%3c/svg%3e",$E="data:image/svg+xml,%3csvg%20width='128'%20height='114'%20viewBox='0%200%20128%20114'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14%2021.5508C10.6863%2021.5508%208%2024.2371%208%2027.5508V81.7423C8%2085.056%2010.6863%2087.7423%2014%2087.7423H91.9323C95.246%2087.7423%2097.9323%2085.056%2097.9323%2081.7423V45.9909H105.932V81.7423C105.932%2089.4743%2099.6642%2095.7423%2091.9323%2095.7423H56.6396V106.581H73.739C75.7877%20106.581%2077.4486%20108.242%2077.4486%20110.29C77.4486%20112.339%2075.7877%20114%2073.739%20114H32.192C30.1432%20114%2028.4824%20112.339%2028.4824%20110.29C28.4824%20108.242%2030.1433%20106.581%2032.192%20106.581H49.2949V95.7423H14C6.26799%2095.7423%200%2089.4742%200%2081.7423V27.5508C0%2019.8188%206.26801%2013.5508%2014%2013.5508H84.7941V21.5508H14Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M124.857%207.39187L127.365%207.98562C127.82%209.4153%20128.033%2010.9153%20127.996%2012.4192C128.001%2014.6106%20127.431%2016.7473%20126.366%2018.6223C125.837%2019.5559%20125.186%2020.4231%20124.423%2021.2005C123.304%2022.3528%20121.966%2023.2669%20120.487%2023.8958C119.009%2024.5208%20117.419%2024.845%20115.813%2024.845C114.219%2024.8489%20112.64%2024.5247%20111.17%2023.9036C105.75%2029.5442%2096.2119%2039.1731%2091.2334%2043.8606C90.4775%2044.5403%2089.5029%2044.927%2088.4863%2044.9466C88.0869%2044.927%2087.6904%2044.8606%2087.3076%2044.7434C87.1201%2044.6848%2086.9365%2044.6145%2086.7568%2044.5364C86.2256%2044.2747%2085.75%2043.9153%2085.3506%2043.4817C84.4609%2042.6848%2083.9248%2041.5637%2083.8584%2040.3723C83.7754%2039.2591%2084.0967%2038.1575%2084.7725%2037.2708C88.9141%2032.9778%2093.0918%2028.7161%2097.3037%2024.4895C99.7324%2022.0559%20102.173%2019.6301%20104.625%2017.2161C103.382%2014.1575%20103.382%2010.7356%20104.625%207.67702C104.955%206.88796%20105.367%206.14187%20105.854%205.44655C106.317%204.78249%20106.848%204.1653%20107.438%203.60671C108.525%202.46999%20109.82%201.55202%20111.253%200.903586C112.736%200.286398%20114.332%20-0.0221957%20115.938%200.00124184C117.412%200.0207731%20118.874%200.266867%20120.271%200.735617L120.85%203.28249L114.237%2010.2239L118.077%2014.1341L124.857%207.39187ZM122.368%2019.0051C124.092%2017.2434%20125.05%2014.8801%20125.044%2012.4192V11.5872L119.104%2017.4309H116.98L110.887%2011.3606V9.12234L116.73%203.0989H115.913C114.729%203.09499%20113.558%203.32937%20112.466%203.7864C111.315%204.23952%20110.274%204.93484%20109.408%205.81765C108.542%206.70046%20107.871%207.75515%20107.438%208.9153C106.789%2010.6184%20106.636%2012.47%20106.997%2014.2551C107.359%2016.0442%20108.221%2017.6887%20109.481%2019.0051C111.201%2020.6926%20113.515%2021.638%20115.925%2021.638C118.334%2021.638%20120.647%2020.6926%20122.368%2019.0051ZM95.1982%2018.2903H90.2744L88.9111%2017.5989L83%208.21218L83.2119%206.2864L85.8848%203.55593L87.7852%203.34109L96.9834%209.39577L97.6914%2010.802L97.5078%2016.1067V16.2473L99.6465%2018.427L97.4658%2020.595L95.1982%2018.2903ZM94.6777%2011.5051L87.2354%206.6028L86.293%207.52077L91.0918%2015.1184H94.5518L94.6777%2011.5051ZM122.242%2037.0755L112.253%2026.8294L110.086%2028.9934L120.148%2039.2591C120.289%2039.3958%20120.399%2039.5637%20120.471%2039.7512C120.52%2039.8801%20120.553%2040.013%20120.57%2040.1536L120.583%2040.3411C120.58%2040.5442%20120.541%2040.7434%20120.467%2040.9348C120.396%2041.1184%20120.286%2041.2864%20120.146%2041.427C120.01%2041.5755%20119.842%2041.6926%20119.653%2041.763C119.283%2041.9153%20118.869%2041.9153%20118.499%2041.763C118.374%2041.7161%20118.258%2041.6497%20118.155%2041.5676C118.103%2041.5247%20118.053%2041.4778%20118.007%2041.427L107.935%2031.1497L105.75%2033.3333L115.855%2043.638C116.152%2043.9622%20116.5%2044.2395%20116.882%2044.4583C117.005%2044.5286%20117.131%2044.5911%20117.261%2044.6497C117.803%2044.8762%20118.382%2044.9934%20118.964%2045.0012C119.279%2045.0051%20119.596%2044.9739%20119.907%2044.9114C120.796%2044.7317%20121.609%2044.2864%20122.242%2043.638C123.084%2042.7512%20123.553%2041.5755%20123.553%2040.3567C123.553%2039.1341%20123.084%2037.9622%20122.242%2037.0755Z'%20fill='white'/%3e%3c/svg%3e",WE="/ReOpenSG/assets/team_RDTeam-ar3_aq1D.svg",QE="data:image/svg+xml,%3csvg%20width='120'%20height='110'%20viewBox='0%200%20120%20110'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M90.5742%2035.397L84.5258%2029.3486L106.703%207.17157C108.265%205.60948%20110.798%205.60948%20112.36%207.17157L112.751%207.56313C114.313%209.12523%20114.313%2011.6579%20112.751%2013.22L90.5742%2035.397ZM78.8371%2032.1451L77.7868%2033.2189C76.8207%2034.2066%2075.2653%2034.7297%2073.421%2034.8591C71.6106%2034.9861%2069.8324%2034.709%2068.8002%2034.4276L67.0153%2033.9409L66.4188%2035.7284L59.3978%2056.7676L59%2057.9597L59.8711%2058.8503L61.808%2060.8304L62.693%2061.7352L63.8716%2061.3049L84.2084%2053.8793L85.9541%2053.2418L85.4448%2051.4196C85.181%2050.4756%2084.9237%2048.7946%2085.0773%2047.0308C85.2314%2045.2622%2085.7748%2043.6423%2086.8785%2042.5139L88.0293%2041.3374L90.5742%2043.8823L94.8169%2039.6396L100.161%2034.2954V77.1366C100.161%2080.4503%2097.4748%2083.1366%2094.1611%2083.1366H14C10.6863%2083.1366%208%2080.4503%208%2077.1366V21.4086C8%2018.0949%2010.6863%2015.4086%2014%2015.4086H89.9805L80.2832%2025.1059L76.0405%2029.3486L78.8371%2032.1451ZM97.9805%207.40865H14C6.26802%207.40865%200%2013.6766%200%2021.4086V77.1366C0%2084.8686%206.26801%2091.1366%2014%2091.1366H50.3262V102.283H32.8264C30.7353%20102.283%2029.04%20103.978%2029.04%20106.069C29.04%20108.16%2030.7353%20109.856%2032.8264%20109.856H75.3342C77.4254%20109.856%2079.1206%20108.16%2079.1206%20106.069C79.1206%20103.978%2077.4254%20102.283%2075.3342%20102.283H57.838V91.1366H94.1611C101.893%2091.1366%20108.161%2084.8686%20108.161%2077.1366V26.2954L116.994%2017.4626C120.899%2013.5574%20120.899%207.22574%20116.994%203.32049L116.602%202.92893C112.697%20-0.97631%20106.365%20-0.976312%20102.46%202.92893L97.9805%207.40865ZM70.1222%2048.9215L64.162%2055.0151L69.6022%2038.713C70.8041%2038.8963%2072.2301%2038.9961%2073.6918%2038.8936C75.3964%2038.774%2077.3319%2038.365%2079.0114%2037.3303L82.8365%2041.2411C81.7547%2042.9723%2081.2895%2044.9262%2081.1374%2046.672C81.0124%2048.1074%2081.0897%2049.4919%2081.2577%2050.6625L65.6378%2056.3658L71.4616%2050.4117C72.6318%2051.0673%2074.1302%2050.8885%2075.1214%2049.8751C76.3251%2048.6445%2076.3251%2046.6493%2075.1214%2045.4187C73.9177%2044.1881%2071.9662%2044.1881%2070.7625%2045.4187C69.8361%2046.3658%2069.6227%2047.7658%2070.1222%2048.9215ZM72.161%2046.8485C72.5923%2046.4075%2073.2916%2046.4075%2073.7229%2046.8485C74.1542%2047.2894%2074.1542%2048.0044%2073.7229%2048.4453C73.2916%2048.8863%2072.5923%2048.8863%2072.161%2048.4453C71.7297%2048.0044%2071.7297%2047.2894%2072.161%2046.8485Z'%20fill='white'/%3e%3c/svg%3e",jf={FA:[{img:GE,team:"PM&",desc:"   ,   "},{img:zE,team:"R&D",desc:" ,  ,    "}],:[{img:qE,team:"",desc:" ,  ,    "},{img:HE,team:"",desc:" ,    ,  "}],IT:[{img:$E,team:"BS",desc:"   ,   "},{img:WE,team:"R&D",desc:"     "},{img:QE,team:"UX",desc:"GUI  ,    "}]};function tc({src:t,alt:e,title:n,text:s}){return c.jsxs("div",{className:Ht.cardWrapper,children:[c.jsx("img",{src:t,alt:e,"aria-hidden":"true",className:Ht.iconStyle}),c.jsxs("div",{children:[c.jsx("h4",{children:n}),c.jsx("p",{children:s})]})]})}tc.propTypes={src:_.string.isRequired,alt:_.string.isRequired,title:_.string.isRequired,text:_.string.isRequired};function KE(){const t=Object.entries(jf);return c.jsx(c.Fragment,{children:t.map(e=>e[1].map(n=>c.jsx(tc,{src:n.img,alt:n.team,title:n.team,text:n.desc},n.team)))})}function Vf({data:t,state:e}){const[n,s]=S.useState();return S.useEffect(()=>{t.filter(i=>i[0]===e?s(i[1]):"")}),c.jsx("ul",{children:c.jsxs("li",{className:Ht.roleSectionWrapper,children:[e===""&&c.jsx(KE,{}),n==null?void 0:n.map(i=>c.jsx(tc,{src:i.img,alt:i.team,title:i.team,text:i.desc},i.team))]})})}Vf.propTypes={data:_.arrayOf(x.array).isRequired,state:_.string.isRequired};const XE="FmxC",JE="knac",YE="xvj3",ba={titleWrapper:XE,titleContainer:JE,titleInner:YE};function Ff({background:t,category:e,title:n,textAlign:s}){return c.jsx("div",{className:`${ba.titleWrapper} ${t}`,children:c.jsx("div",{className:`${ba.titleContainer} ${s}`,children:c.jsxs("div",{className:ba.titleInner,children:[c.jsx("h2",{children:e}),c.jsx("h3",{children:n})]})})})}Ff.propTypes={category:_.string.isRequired,title:_.string.isRequired,textAlign:_.string.isRequired,background:_.string.isRequired};function ZE(){const t=Object.entries(jf),[e,n]=S.useState("");return c.jsxs("div",{className:Ht.teamWrapper,children:[c.jsx(Ff,{category:"About Us",title:"",background:"bg-[url('@/assets/team_background.svg')]",textAlign:"text-center"}),c.jsx("div",{className:Ht.teamContainer,children:c.jsxs("div",{className:Ht.sectionWrapper,children:[c.jsx(Mf,{data:t,state:e,setState:n}),c.jsx(Vf,{data:t,state:e})]})})]})}const ex="/ReOpenSG/assets/location_map-bWB_IZqd.png",tx="sINY",nx="G5Pg",sx="_6yYE",ix="D7SE",rx="_1iLO",ox="_0-RG",ax="JNGG",lx="_5UJ8",cx="Pkol",ux="bwz-",dx="tLTd",hx="_4fPz",fx="zCol",px="Dbck",mx="qk4r",gx="Gt94",yx="_62iK",je={wrapper:tx,mapContainer:nx,mapImage:sx,pinIcon:ix,pinIconUSA:rx,locationSection:ox,locationWrapper:ax,locationContainer:lx,locationImage:cx,locationAddressWrapper:ux,locationAddress:dx,locationInfoContainer:hx,locationName:fx,locationContact:px,locationTel:mx,locationLink:gx,linkIcon:yx};function Kr({usa:t}){return c.jsx("div",{className:t?je.pinIconUSA:je.pinIcon,children:c.jsx("svg",{viewBox:"0 0 28 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M18.3836 27.3087C23.9685 25.4684 28 20.2074 28 14.0044C28 6.27 21.732 0 14 0C6.26801 0 0 6.27 0 14.0044C0 20.2074 4.03147 25.4684 9.61639 27.3087H4.8454C3.49117 27.3087 2.53196 28.6317 2.95264 29.9193L12.3314 58.6269C12.9296 60.4577 15.5188 60.4577 16.117 58.6268L25.4956 29.9193C25.9162 28.6317 24.957 27.3087 23.6028 27.3087H18.3836Z",fill:"#F2C00C"})})})}Kr.propTypes={usa:_.bool};Kr.defaultProps={usa:!1};const vx="/ReOpenSG/assets/location_mTower-ikCxd_I1.png",_x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeUAAAHaCAYAAAA+HFEaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1tSURBVHgB7d1NlmTTGoDhqLtulwkwACZAHwNAHwNAHwNAHwNA308ffSagqs8EGIC7vrx2rVOnIqsifyq9JZ9nrVyVkRURJ0503tj77HPizr179/46AAD/uP8cAIAEUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoAIUQaACFEGgAhRBoCI/x6AS/vhhx/OfpZPP/30cN0+/vjjwx9//HH2+8svv3x44403Dk/abO/dd9+9f/udd945vPbaa4fr9ssvvxy++eab+7c/+uijw7PPPnuA20qU4Qru3r17+Pbbb+/ffhJRnuj//vvvZ7/fuXPnRqL8559/ngVzefPNNw9PwuzX9v17//33RZlbTZS5tSYGH3zwweGiJrynhnGi88orrxxONVF67733Dk/KjLp//fXXs99ffPHFs5HpVbz11lv3PzBcxE8//XQAHibKcItMkNcIeEbdVzVBvkyUgeNEmVvrmWeeOTz//PMP/G2Opa7jt2P//+txF3HsOc7b3s8//3z47bffHrjPTCVXzb7t475//Y/af+BBosytNQuX9ouX5vjtdoHThx9+eKUFTs8999zhxx9/PPf/v/zyy7Mp5WV7HPdp8NVXXz30t5nSXvvxuP0HHiTKsLGfit3fnlHtduS6HeVexnbl9k24iVH3dhvlUT4UiTJsrEVQy6yu3vrkk08eOIXnqtvajoxnkdexBWSXXUx1zPZDxFU/UBwzr3P7Hs42Zh9feumlA/B4Lh4Cf5ug7KdaZyT7pOK1nSafad4J8vy7/7nu7R77/bocm36/rg8xcBsYKcPfJh77AM/tOa78xRdfnN2eSM4FPJZZ1HTRuM3996PfGSXPCHN7zu5yXVPA+1mA2bd5DdcV/nmuzz777KG/zz7Nec5Gy/B4ogyH/wf5888/v397wjsroceMlic2x84hnsccC9F5JlDbK3SNuVrWjJIn/k9yVHlsFDv7Ntt/nDmfe3tO95xnvI/57Nf2g8acB70+CMxjv/7662sf+cO/jelrbr1ZAT1BXCYcE9uJyjK3JyyXmfKdAE+MZ3Q8z7EP8lUv4HGqY6Pw61hoNvsz+7Z9rvkAs92ved9ef/31s/caOJ+RMrfWjBxnlLsfQa7rL8+U9YRkRXSiNj8zqj3lcpprOneOU++nxef5Z9S9HaXO8x6b4t2PrC9j9nE/fb3+ftmFWPOaJrJzWtT29c2HmjWjMHFeMwlzn9mXecy8x0/iWtrwtBNlbqW10Gofu4nIisXE5bvvvnvo+O+pF8OYi4wcC/JMjc8q7v1U7nlhnKhdNcrbc6HXArL1YWSef6aWH+XYpUVn9mA75b+ee/tcK87bKf55L50qBceZvuZWmnhsR6lrZLw/Zrwis76QYW6//fbbJ21jnnNtY/3+/fffn40sL3JsdT4ErJ+LXk1sTBC3o+TtB4+xZgwuat6H7X7Mc86HmP2+zXs6x6DX4YB5L2/iSzXgaWSkzK01sZjjoBOTCcx53040kZmR7dx/RqwX+Rajed4ZAR8bBc+IcbY/wdxeQ3q2N9uYiM3jjl0161T7BWzr1Ks19by2ue4zwT7VvMYZQc9j57151BT4mnWYDwAWe8H5RJlbbUJxqsucNzzh2sdqIjzTyeddUnOFci2cmm2ed2GRR9lfwnOs6K6gztT8MnGdbV8kzNsPDftFcMfeK6dFwaOJMvxtjjGvad79sdHrsr+29ikmdrNqe17bqSu1Zxv7ldXr1KtlArldiDVmIduM0C+zCGte4/aa176eES5OlOFv62IaF7G/mMijzHNvR67rOPOrr776wOlX677rWO96TTPynfudMmKeqG6jPMdxjwV9vxBrXs/83NTXMc77t47Xj8scM4d/E1GGK5hAnjqtvI4dLxPJ8x67jv1OsOdnrb6e0J6yvbnPbG+dfvSoC4RMmF944YWzaej9Qrcn7bzj7XBbiTLckP1pQKfEaEbTE8w1LXyRU4lWjE85Dn7sayyBm+eUKLgh+ziecnWrWT29XRB20YVmVjrD08VIGY6YEel2ZfKp5vjyeVPAa6p2RXaiPNPR87c5Vrw91Wqmnvdf7biuAvY0uOz7t84Xh9tKlOGI9T3AF/W4q33NaUjbVd5zjHldvvNRJlYXvejIP+my75+RPbed6Wu4QesiGhPnU1ZtT+TntKW5XOd+hTbw73Pn3r17fx2As9HdVa/JPKf0XOSKX7PNu3fvno2Y1wrrefw8z0T4nxo5zmvZXklsFoHNgrPHPeY6rmlttMxtJsoAEGH6GgAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAiRBkAIkQZACJEGQAi/gerk1ZFoZR1OQAAAABJRU5ErkJggg==",wx="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%20435'%3e%3ccircle%20id='Ellipse%2082'%20cx='32'%20cy='32'%20r='32'%20fill='%23151F2D'/%3e%3cpath%20id='Union'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M28.9937%2030.1332C25.164%2028.8573%2022.3996%2025.2097%2022.3996%2020.909C22.3996%2015.5464%2026.6977%2011.1992%2031.9996%2011.1992C37.3015%2011.1992%2041.5996%2015.5464%2041.5996%2020.909C41.5996%2025.2097%2038.8352%2028.8573%2035.0055%2030.1332H38.277C39.2057%2030.1332%2039.8634%2031.0505%2039.5749%2031.9433L33.1438%2051.8472C32.7336%2053.1166%2030.9581%2053.1166%2030.548%2051.8472L24.1169%2031.9433C23.8285%2031.0505%2024.4862%2030.1332%2025.4148%2030.1332H28.9937Z'%20fill='%233FA9F5'/%3e%3c/g%3e%3c/svg%3e";function ei({locationName:t,locationPostal:e,locationAddress:n,locationTel:s,locationFax:i,locationImage:r,locationLink:o}){return c.jsxs("div",{className:je.locationContainer,children:[c.jsx("img",{className:je.locationImage,src:r,alt:" "}),c.jsxs("address",{className:je.locationAddress,children:[c.jsxs("div",{className:je.locationInfoContainer,children:[c.jsx("p",{className:je.locationName,children:t}),c.jsxs("div",{className:je.addressWrapper,children:[c.jsx("p",{children:e}),c.jsx("p",{children:n})]}),c.jsxs("div",{className:je.locationContact,children:[c.jsxs(ce,{className:je.locationTel,to:s,children:["Tel. ",s]}),c.jsxs("p",{children:["Fax. ",i]})]})]}),c.jsx("a",{className:je.locationLink,href:o,target:"_blank",rel:"noreferrer",children:c.jsx("img",{className:je.linkIcon,src:wx,alt:" "})})]})]})}ei.propTypes={locationName:_.string.isRequired,locationPostal:_.string.isRequired,locationAddress:_.string.isRequired,locationTel:_.string.isRequired,locationFax:_.string.isRequired,locationImage:_.string,locationLink:_.string.isRequired};ei.defaultProps={locationImage:_x};function Tx(){return c.jsxs("div",{className:je.wrapper,children:[c.jsxs("div",{className:je.mapContainer,children:[c.jsx("img",{className:je.mapImage,src:ex,alt:""}),c.jsx(Kr,{}),c.jsx(Kr,{usa:!0})]}),c.jsx("section",{className:je.locationSection,children:c.jsxs("div",{className:je.locationWrapper,children:[c.jsx(ei,{locationName:"",locationPostal:" 18469)",locationAddress:"  1 51-9  1201",locationTel:"031-373-2612",locationFax:"031-377-2615",locationImage:vx,locationLink:"https://maps.app.goo.gl/Lda5XHqKMYWHyQpYA"}),c.jsx(ei,{locationName:" ",locationPostal:" 31094)",locationAddress:"    1206  406",locationTel:"041-566-2612",locationFax:"041-566-2613",locationLink:"https://maps.app.goo.gl/qMbgiatVSPKXaVGUA"}),c.jsx(ei,{locationName:" ",locationPostal:" ",locationAddress:"    .",locationTel:"  ",locationFax:"  ",locationLink:"https://maps.app.goo.gl/Kh6KERRkfst5Xt3f7"})]})})]})}var il=new Map,ar=new WeakMap,rd=0,Ex=void 0;function xx(t){return t?(ar.has(t)||(rd+=1,ar.set(t,rd.toString())),ar.get(t)):"0"}function Ax(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?xx(t.root):t[e]}`).toString()}function Sx(t){let e=Ax(t),n=il.get(e);if(!n){const s=new Map;let i;const r=new IntersectionObserver(o=>{o.forEach(a=>{var l;const u=a.isIntersecting&&i.some(d=>a.intersectionRatio>=d);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=s.get(a.target))==null||l.forEach(d=>{d(u,a)})})},t);i=r.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:r,elements:s},il.set(e,n)}return n}function Ix(t,e,n={},s=Ex){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const l=t.getBoundingClientRect();return e(s,{isIntersecting:s,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:r,elements:o}=Sx(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),r.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),r.unobserve(t)),o.size===0&&(r.disconnect(),il.delete(i))}}function ti({threshold:t,delay:e,trackVisibility:n,rootMargin:s,root:i,triggerOnce:r,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var d;const[h,p]=S.useState(null),f=S.useRef(),[m,g]=S.useState({inView:!!a,entry:void 0});f.current=u,S.useEffect(()=>{if(o||!h)return;let w;return w=Ix(h,(T,A)=>{g({inView:T,entry:A}),f.current&&f.current(T,A),A.isIntersecting&&r&&w&&(w(),w=void 0)},{root:i,rootMargin:s,threshold:t,trackVisibility:n,delay:e},l),()=>{w&&w()}},[Array.isArray(t)?t.toString():t,h,i,s,r,o,n,l,e]);const y=(d=m.entry)==null?void 0:d.target,v=S.useRef();!h&&y&&!r&&!o&&v.current!==y&&(v.current=y,g({inView:!!a,entry:void 0}));const E=[p,m.inView,m.entry];return E.ref=E[0],E.inView=E[1],E.entry=E[2],E}const Cx={:"Equipment Control System",:"AGV Control System",:"AGV      AGV Traffic  .",:[" 80  AGV   Simulation ","   AGV   ","Job       ","Job   AGV   ","  AGV   ","    ","MES, MCS   ","Flexible Line  (Layout  )","C/S  Web     ","PlayBack & Simulation  "],:["   :   ACS    Traffic     .","  : ACS Traffic   AGV          .","Simulation   Layout     "],:["   :   ACS    Traffic     .","  : ACS Traffic   AGV          .","Simulation   Layout     "],:["semiconductor","display","battery","port"]},bx={:"Equipment Control System",:"OHT Control System",:"OHT       OHT   Traffic  .",:[" 300  OHT   Simulation ","Traffic ,  Job , , HID   Cluster     ","    ","MES, MCS   ","3D  UI  ","OCS Core  Customizing Application    ","PlayBack & Simulation  "],:["OHT    ","OHT ","OHT  ,  ,   , ","  ,   ","Job ,  , , ","MCS & MES    Job  "],:["   :   OCS    Traffic     .","  : ACS Traffic   AGV          .","Simulation   Layout     "],:["semiconductor","display","battery"]},Rx={:"Equipment Control System",:"Stocker Control System",:"Stocker   , Stocker  Robot(RackMaster)      , Shelf (Rack)   ,  Triple Robot(RackMaster)       ,     ,     Simulation    .",:["      UI  ","Configuration  SCS  ","PLC Simulation  PLC    ","  Office       ","PlayBack & Simulation  "],:["Single, Dual, Triple Robot(R/M)  ","MES/MCS   (HSMS)","EQ Melsec ","Multi Index or Conveyor Loading Scheduleing"],:["Robot, EQ Maker      ","Play-Back   Alarm    "],:["semiconductor","display","battery"]},Px={:"Equipment Control System",:"Conveyor Control System",:"    Conveyor        RTV, Lifter, Diverter          .",:["Remote UI  ","2D, 2.5D Layout ","UX (MS WPF) UI","MES/MCS  (SEMI )","OCS Click-Once  Install   Patch","PlayBack & Simulation  "],:["  UI "," SCS  (Shuttle, STK, Mask) ","     ","SECS    HSMS Driver "," Robot  "],:["Remote UI      ","   Stocker Type  ","Line       "," HSMS Driver  HSMS Driver   ","TCP/IP  IO    Robot  "],:["semiconductor","display","battery"]},kx={:"Monitoring Solution",:"Advanced Integrated Monitoring Solution",:"           ,                      ",:[" Line Tour ","Layout   ","Layout    Layout ","Relay Server    "],:["Plug-in  ","  Visual Components","    ","    ","    ","  Multiple Protocol "],:["    Layout Design ","  Client Design ","     ","  Design, ,    "," "],:["semiconductor","display","battery"]},Nx={:"Comm Driver",:"High-Speed Message Service",:"SECS  HSMS (SEMI Equipment Communications Standard High-Speed Message Service) Driver     ,        .",:["SEMI   ","  ","   ","semiconductor   ","Binary, SECS-II Log"],:["Config     ","Microsoft .NET  SECS/GEM Driver"],:["  ","    "],:["display","battery"]},nn={ACS:Cx,OCS:bx,SCS:Rx,CCS:Px,"IDX Controller":{:"Equipment Control System",:"Index Control System",:"Indexer (Auto Loader)     EQ  Product  Stocker    .",:["  UI "," Indexer  I/O Module ","SECS    HSMS Driver","Indexer    "," Robot  "," Log Format "],:["Robot  ","HSMS ()  MCS ","R/M Stocker Melsec ","EQ Sequence ","Safety Interlock"],:["  EQ  WorkFlow Scheduler  ","semiconductor    "],:["display"]},"Map Designer":{:"Smart Tools",:"Map Designer",:"MapDesigner semiconductor   OHT(Overhead Hoist Transporter)  AGV(Automated Guided Vehicle)      .",:["   ","           ","     OHT  AGV     ","         ","           "],:["CAD   ","Layout   Import/Export l","2D, 3D "],:["        ","         ","      MapDesigner      "],:["semiconductor","display","battery"]},"ACS Simulator":{:"Smart Tools",:"ACS Simulator",:"ACS Simulator AGV(Control System)    ,   (AGV)       .",:[" AGV          ","  , ,      AGV  ","AGV ,  ,       ","       "],:["  ","    ","     ,           .","           "],:["ACS Simulator          ","        ","        ,         ","      "],:["semiconductor","display","battery","port"]},"SCS Simulator":{:"Smart Tools",:"SCS Simulator",:"SCS Simulator SCS(Control System)     ,  SCS         .",:[" SCS        ","    SCS        .","       ","          "],:["SCS            .","   SCS        .","SCS        ","           "],:["      SCS Simulator       ","SCS Simulator          ","        ","        ,         ","      "],:["semiconductor","display","battery"]},AIMS:kx,HSMS:Nx},Ox="cCXg",Dx="shWy",Lx="Ztfe",Mx="TSdy",jx="ojkS",Vx="_4E3M",Fx="wqUQ",Ux="_2n6y",Bx="WNyA",Gx="jnR-",zx="R1G5",qx="La7f",Hx="DYaD",$x="hIm4",Wx="Kptr",Qx="BPTv",Kx="s6mX",Xx="NVIE",Jx="zxfX",Yx="j93R",Zx="uGVd",eA="_6T30",tA="KOm7",nA="Z42t",sA="M18e",iA="_7fOK",J={Lnb:Ox,list:Dx,listItem:Lx,link:Mx,activeLink:jx,SolutionBanner:Vx,wrapper:Fx,title:Ux,nav:Bx,banner:Gx,solution:zx,desc:qx,Snb:Hx,item:$x,Char:Wx,subTitle:Qx,container:Kx,containerTitle:Xx,product:Jx,charList:Yx,charItem:Zx,charItemTitle:eA,Func:tA,imageWrapper:nA,image:sA,Effect:iA};function Uf({LnbArray:t}){return c.jsx("nav",{className:J.Lnb,children:c.jsx("ul",{className:J.list,children:t&&t.map(e=>c.jsx("li",{className:J.listItem,children:c.jsx(bn,{to:`/solutions/${e}`,className:({isActive:n})=>n?J.activeLink:J.link,children:e})},me()))})})}Uf.propTypes={LnbArray:_.arrayOf(_.string).isRequired};function Bf({currentLocation:t,prevLocation:e}){return c.jsx("section",{className:J.SolutionBanner,children:c.jsxs("div",{className:J.wrapper,children:[c.jsx("h3",{className:J.title,children:" "}),c.jsxs("p",{className:J.nav,children:[e," > ",t]}),c.jsxs("div",{className:J.banner,children:[c.jsx("p",{className:J.desc,children:"   "}),c.jsxs("p",{className:J.solution,children:["Open",t,""]})]})]})})}Bf.propTypes={currentLocation:_.string.isRequired,prevLocation:_.string.isRequired};function Gf({currentLocation:t,data:e,refs:n}){return c.jsxs("section",{id:"Char",ref:n,className:J.Char,children:[c.jsxs("span",{className:J.subTitle,children:["Open",t]}),c.jsx("h3",{className:J.title,children:"  "}),c.jsxs("div",{className:J.container,children:[c.jsx("p",{className:J.containerTitle,children:""}),c.jsx("p",{className:J.product,children:e&&e[t].})]}),c.jsxs("div",{className:J.container,children:[c.jsx("p",{className:J.containerTitle,children:""}),c.jsx("ul",{className:J.charList,children:e&&e[t]..map(s=>c.jsxs("li",{className:J.charItem,children:[c.jsx("p",{className:J.charItemTitle,children:" "}),c.jsx("p",{children:s})]},me()))})]})]})}Gf.propTypes={currentLocation:_.string.isRequired,data:_.objectOf(_.shape({:_.string,:_.string,:_.string,:_.arrayOf(_.string),:_.arrayOf(_.string),:_.arrayOf(_.string),:_.arrayOf(_.string)})).isRequired,refs:_.oneOfType([_.func,_.shape({current:_.instanceOf(Element)})]).isRequired};function zf({inViewChar:t,inViewFunc:e,inViewEffect:n}){return c.jsx("aside",{className:J.Snb,children:c.jsx("nav",{className:J.nav,children:c.jsxs("ul",{className:J.list,children:[c.jsx("li",{className:t&&t?J.item:"",children:c.jsx("a",{className:J.link,href:"#Char",children:"  "})}),c.jsx("li",{className:!t&&e?J.item:"",children:c.jsx("a",{className:J.link,href:"#Func",children:""})}),c.jsx("li",{className:!e&&n?J.item:"",children:c.jsx("a",{className:J.link,href:"#Effect",children:" "})})]})})})}zf.propTypes={inViewChar:_.bool.isRequired,inViewFunc:_.bool.isRequired,inViewEffect:_.bool.isRequired};const rA="/ReOpenSG/assets/solutions_ACS-E7Dx0H9G.png",oA="/ReOpenSG/assets/solutions_OCS-quXjBnO6.png",aA="/ReOpenSG/assets/solutions_SCS-ba8XLUMz.png",lA="/ReOpenSG/assets/solutions_CCS-st8aFh0R.png",cA="/ReOpenSG/assets/solutions_IDX Controller-C_TDzXDo.png",uA="/ReOpenSG/assets/solutions_Map Designer-zGfVbeoY.png",dA="/ReOpenSG/assets/solutions_ACS Simulator-8nNCuaCY.png",hA="/ReOpenSG/assets/solutions_SCS Simulator-YjX82ZhM.png",fA="/ReOpenSG/assets/solutions_AIMS-8BW0Ditw.png",pA="/ReOpenSG/assets/solutions_HSMS-kp3ArAkF.png",mA={ACS:rA,OCS:oA,SCS:aA,CCS:lA,"IDX Controller":cA,"Map Designer":uA,"ACS Simulator":dA,"SCS Simulator":hA,AIMS:fA,HSMS:pA};function qf({currentLocation:t,data:e,refs:n}){return c.jsxs("section",{id:"Func",ref:n,className:J.Func,children:[c.jsx("h3",{className:J.title,children:""}),c.jsx("div",{className:J.imageWrapper,children:c.jsx("img",{src:mA[t],className:J.image,alt:" "})}),c.jsx("ul",{className:J.list,children:e&&e[t]..map(s=>c.jsx("li",{className:J.item,children:s},me()))})]})}qf.propTypes={currentLocation:_.string.isRequired,data:_.objectOf(_.shape({:_.string,:_.string,:_.string,:_.arrayOf(_.string),:_.arrayOf(_.string),:_.arrayOf(_.string),:_.arrayOf(_.string)})).isRequired,refs:_.oneOfType([_.func,_.shape({current:_.instanceOf(Element)})]).isRequired};function Hf({currentLocation:t,data:e,refs:n}){return c.jsxs("section",{id:"Effect",ref:n,className:J.Effect,children:[c.jsx("h3",{className:J.title,children:""}),c.jsx("ul",{className:J.list,children:e&&e[t]..map(s=>c.jsx("li",{className:J.item,children:s},me()))})]})}Hf.propTypes={currentLocation:_.string.isRequired,data:_.objectOf(_.shape({:_.string,:_.string,:_.string,:_.arrayOf(_.string),:_.arrayOf(_.string),:_.arrayOf(_.string),:_.arrayOf(_.string)})).isRequired,refs:_.oneOfType([_.func,_.shape({current:_.instanceOf(Element)})]).isRequired};function gA(){const{id:t}=As(),[e,n]=S.useState([]),s={array:e.map(d=>d[0]),current:t,prev:nn[t].},[i,r]=ti({triggerOnce:!1,threshold:.3}),[o,a]=ti({triggerOnce:!1,threshold:.3}),[l,u]=ti({triggerOnce:!1,threshold:.3});return S.useEffect(()=>{const d=Object.entries(nn).filter(h=>h[1]..trim()===nn[t]..trim());n(d)},[t]),c.jsxs("section",{className:"mb-open-5xl w-full h-full desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-gutter-mobile",children:[c.jsx("h2",{className:"sr-only",children:" "}),c.jsx(Uf,{LnbArray:s.array}),c.jsx(Bf,{currentLocation:s.current,prevLocation:s.prev}),c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"w-full max-w-[1320px] flex desktop:gap-open-gutter-desktop tablet:gap-open-gutter-desktop",children:[c.jsx(zf,{inViewChar:r,inViewFunc:a,inViewEffect:u}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx(Gf,{refs:i,currentLocation:s.current,data:nn}),c.jsx(qf,{refs:o,currentLocation:s.current,data:nn}),c.jsx(Hf,{refs:l,currentLocation:s.current,data:nn})]})]})})]})}const yA="_0zOX",vA="Yhjp",_A="SPG5",wA="BVgc",TA="J2c-",EA="LNUa",xA="JS7h",AA="i3Z0",SA="_3ZOX",IA="_9rUT",CA="gFV0",bA="We58",RA="IBd6",PA="LQAV",kA="y-3m",NA="R0qT",OA="l84P",DA="Ih9K",Ce={Card:yA,linkTextWrapper:vA,title:_A,subtitle:wA,CardWrapper:TA,Desc:EA,descContentsWrapper:xA,imgWrapper:AA,img:SA,textWrapper:IA,description:CA,buttonList:bA,button:RA,isClicked:PA,FuncChar:kA,list:NA,item:OA,itemText:DA};function $f({title:t,subTitle:e,currentLocation:n}){return c.jsx(bn,{to:`/${n}/${e}`,className:Ce.Card,children:c.jsxs("div",{className:Ce.linkTextWrapper,children:[c.jsx("p",{className:Ce.title,children:t}),c.jsx("p",{className:Ce.subtitle,children:e})]})})}$f.propTypes={title:_.string.isRequired,subTitle:_.string.isRequired,currentLocation:_.string.isRequired};function Wf({data:t,currentLocation:e}){return c.jsx("nav",{className:Ce.CardWrapper,children:Object.entries(t).map(([n,s])=>Object.entries(s).map(([i])=>c.jsx($f,{title:n,subTitle:i,currentLocation:e},me())))})}Wf.propTypes={data:_.objectOf(_.objectOf(_.objectOf(_.shape({char:_.arrayOf(_.string),desc:_.arrayOf(_.string)})))).isRequired,currentLocation:_.string.isRequired};const LA={"Lift Type1":{"C060D CE":{desc:["C060D CE        ."," SLAM        ,        .","600 kg  ,     2.0m/s,    1.0m/s."],char:["   ","     Wi-Fi "]},"C100D CE":{desc:["C100D CE        ."," SLAM        ,        .","1000kg  ,     1.5m/s,    0.8m/s."],char:["   ","     Wi-Fi "]},C200:{desc:["C200        ."," SLAM        ,        .","2000kg  ,     1.2m/s,    1.0m/s."],char:["   ","     Wi-Fi "]},C300:{desc:["C300        ."," SLAM        ,        .","3000kg  ,     1.2m/s,    1.0m/s."],char:["   ","     Wi-Fi "]}},"Lift Type2":{P200:{desc:["P200          .","AMR                       ."],char:["    ","    ","    "]},L300:{desc:["L300        .","  300kg  AMR   60mm  360     ."],char:["    ","     "," ","8 ","LiDAR, QR    "]},L1000:{desc:["L1000  1000kg    AMR  .","     ,               ."],char:["    ","     "," ","8 ","LiDAR, QR    "]}},"Fork-Lift Type":{F150A:{desc:["AGV Fork-Lift Type 1500kg  ,   2.2m.","           / ,        ."],char:[" SLAM  ","        2m  "]}},"Foup Type":{OW12:{desc:["Foup Type  12               ,       .","   URL10    ,                .","          , Lidar         .","         ,        360  ."],char:["  ","      ","    "]}}},MA={AGV:LA},jA={"MR Device":{Microsoft:{"HoloLens 2":{desc:["HoloLens 2 Microsoft  2 HMD  ,         .","       , VR AR   Mixed Reality()  , ,       ."],char:[":            ."," :   (Dial-in-Fit)      ."," :       .",": Wi-Fi             ."]}}}},VA="/ReOpenSG/assets/machines_C060D-suEWKlrS.png",FA="/ReOpenSG/assets/machines_C100D-pSTCvd73.png",UA="/ReOpenSG/assets/machines_C200-0sh5P17q.png",BA="/ReOpenSG/assets/machines_C200-0sh5P17q.png",GA="/ReOpenSG/assets/machines_Fork-Lift Type-gVpernxo.png",zA="/ReOpenSG/assets/machines_Foup Type-gedKhQN0.png",qA="/ReOpenSG/assets/machines_L300-uXoLF8Pf.png",HA="/ReOpenSG/assets/machines_L1000-SXNG377a.png",$A="/ReOpenSG/assets/machines_P200-gi3qO1sv.png",WA="/ReOpenSG/assets/devices_HoloLens 2-ocPBsBHP.png";function nc({descProps:t,id:e,currentLocation:n,selectedProduct:s,setSelectedProduct:i}){var l;S.useEffect(()=>{t&&Object.values(t).length>0&&i(Object.keys(t.types)[0])},[t,i]);function r(u){i(u.target.value)}const a={"C060D CE":VA,"C100D CE":FA,C200:UA,C300:BA,F150A:GA,OW12:zA,L300:qA,L1000:HA,P200:$A,"HoloLens 2":WA}[s];return c.jsxs("div",{className:Ce.Desc,children:[c.jsxs("h3",{className:`${Ce.title} ${n==="devices"?"text-center":""}`,children:[t.product,c.jsx("span",{children:" - "}),e]}),c.jsx("ul",{className:Ce.buttonList,children:t.types&&Object.keys(t.types).map(u=>c.jsx("li",{children:c.jsx("button",{type:"button",value:u,onClick:r,className:`${s===u?Ce.isClicked:""} ${Ce.button}`,children:u})},me()))}),c.jsxs("div",{className:Ce.descContentsWrapper,children:[c.jsx("div",{className:Ce.imgWrapper,children:a&&c.jsx("img",{src:a,alt:"Machines",className:Ce.img})}),c.jsx("div",{className:Ce.textWrapper,children:c.jsx("ul",{children:t.types&&((l=t.types[s])==null?void 0:l.desc.map(u=>c.jsx("li",{className:Ce.description,children:u},me())))})})]})]})}nc.propTypes={descProps:_.shape({types:_.objectOf(_.shape({char:_.arrayOf(_.string),desc:_.arrayOf(_.string)})),product:_.string}).isRequired,id:_.string.isRequired,currentLocation:_.string.isRequired,selectedProduct:_.string,setSelectedProduct:_.func.isRequired};nc.defaultProps={selectedProduct:""};function Qf({descProps:t,selectedProduct:e}){var n;return c.jsxs("div",{className:Ce.FuncChar,children:[c.jsx("p",{className:Ce.title,children:"  "}),c.jsx("ul",{className:Ce.list,children:t.types&&((n=t.types[e])==null?void 0:n.char.map(s=>c.jsxs("li",{className:Ce.item,children:[c.jsxs("picture",{children:[c.jsx("source",{media:"(max-width: 1023px)",srcSet:"http://via.placeholder.com/60x60"}),c.jsx("img",{src:"http://via.placeholder.com/120x120",alt:"Machines"})]}),c.jsx("span",{className:Ce.itemText,children:s})]},me())))})]})}Qf.propTypes={descProps:_.shape({types:_.objectOf(_.shape({char:_.arrayOf(_.string),desc:_.arrayOf(_.string)})),product:_.string}).isRequired};function od(){const[t,e]=S.useState({}),[n,s]=S.useState({types:{},product:""}),[i,r]=S.useState(""),[o,a]=S.useState(""),l=Pi(),{id:u}=As();return S.useEffect(()=>{l.pathname.includes("machines")?(e(MA),r("machines")):l.pathname.includes("devices")&&(e(jA),r("devices"))},[l]),S.useEffect(()=>{if(t&&Object.values(t).length>0){const d=Object.entries(t).find(h=>h[1][u]);s(h=>({...h,types:d[1][u],product:d[0]}))}},[t,u]),c.jsxs("section",{className:"w-full flex flex-col items-center",children:[c.jsx("section",{className:"desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-margin-mobile flex flex-col items-center w-full",children:c.jsx(Wf,{data:t,currentLocation:i})}),c.jsx("section",{className:"w-full desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-margin-mobile",children:c.jsxs("div",{className:"w-full flex flex-col items-center",children:[c.jsx("h2",{className:"sr-only",children:" "}),c.jsx(nc,{descProps:n,id:u,currentLocation:i,selectedProduct:o,setSelectedProduct:a})]})}),c.jsx("section",{className:"-bg--open-gray-50 w-full desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-margin-mobile ",children:c.jsxs("div",{className:"w-full flex flex-col items-center",children:[c.jsx("h2",{className:"sr-only",children:"  "}),c.jsx(Qf,{descProps:n,id:u,selectedProduct:o})]})})]})}const QA="sH0g",KA="_4dww",XA="_--Gq",JA="_0Vow",YA="UuuJ",ZA="_1LCW",eS="l6zU",tS="QQMF",nS="-tud",sS="p2n7",iS="_1Kis",rS="R-mE",oS="HFFf",_t={titleWrapper:QA,titleCategory:KA,titleText:XA,sectionWrapper:JA,downloadWrapper:YA,downloadText:ZA,cardWrapper:eS,cardContainer:tS,cardInner:nS,cardTitle:sS,cardCategoryText:iS,cardLinkWrapper:rS,iconStyle:oS};function Kf({category:t,title:e}){return c.jsxs("div",{className:_t.titleWrapper,children:[c.jsx("h2",{className:_t.titleCategory,children:t}),c.jsx("h3",{className:_t.titleText,children:e})]})}Kf.propTypes={category:_.string.isRequired,title:_.string.isRequired};function aS(){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:_t.iconStyle,children:c.jsx("path",{d:"M12 18.132L5.93486 12.0651L7.14686 10.8326L11.1429 14.8286V0H12.8571V14.8286L16.8514 10.8343L18.0651 12.0651L12 18.132ZM2.76857 24C1.98 24 1.32171 23.736 0.793714 23.208C0.264571 22.6789 0 22.02 0 21.2314V17.0777H1.71429V21.2314C1.71429 21.4943 1.824 21.736 2.04343 21.9566C2.264 22.176 2.50571 22.2857 2.76857 22.2857H21.2314C21.4943 22.2857 21.736 22.176 21.9566 21.9566C22.176 21.736 22.2857 21.4943 22.2857 21.2314V17.0777H24V21.2314C24 22.02 23.736 22.6783 23.208 23.2063C22.6789 23.7354 22.02 24 21.2314 24H2.76857Z",fill:"black"})})}function rl({mainText:t,subText:e,category:n,href:s,download:i,ariaLabel:r}){return c.jsx("div",{className:_t.cardWrapper,children:c.jsxs("div",{className:_t.cardContainer,children:[c.jsxs("div",{className:_t.cardInner,children:[c.jsx("h4",{className:_t.cardTitle,children:c.jsxs("span",{children:[t,c.jsx("br",{}),e]})}),c.jsx("span",{className:_t.cardCategoryText,children:n})]}),c.jsx("div",{className:_t.cardLinkWrapper,children:c.jsx("a",{href:s,download:i,"aria-label":r,children:c.jsx(aS,{})})})]})})}rl.propTypes={mainText:_.string.isRequired,subText:_.string.isRequired,category:_.string.isRequired,href:_.string.isRequired,download:_.string.isRequired,ariaLabel:_.string.isRequired};const lS="/ReOpenSG/assets/library_companyProfile_ko-WepWOYT4.pdf",cS="/ReOpenSG/assets/library_compabyBrochure_ko-XbXxPsDC.pdf";function uS(){return c.jsxs("div",{className:_t.sectionWrapper,children:[c.jsx(rl,{mainText:"OPENSG",subText:" ",category:"",href:lS,download:"OPENSG___",ariaLabel:"   "}),c.jsx(rl,{mainText:"OPENSG",subText:" ",category:"",href:cS,download:"OPENSG___",ariaLabel:"   "})]})}function dS(){return c.jsx("div",{className:"w-full px-open-margin-mobile tablet:px-open-margin-desktop desktop:px-open-margin-desktop",children:c.jsxs("div",{className:"max-w-[1320px] m-auto w-full",children:[c.jsx(Kf,{category:"Support",title:""}),c.jsx(uS,{})]})})}const hS="jePh",fS="Z9i4",pS="N3Lw",mS="eDte",gS="DF7R",yS="Rnii",vS="LgpQ",_S="D2zZ",wS="_4eH-",TS="fLZD",ES="_0Rlx",xS="l2Cp",AS="gm8B",SS="hWqQ",IS="Mnm7",CS="_96pd",bS="_9BtF",be={Char:hS,CharTitle:fS,CharDesc:pS,Product:mS,ProductTitle:gS,ProductWrapper:yS,ProductLink:vS,linkWrapper:_S,image:wS,list:TS,itemName:ES,itemSubName:xS,itemDesc:AS,Snb:SS,nav:IS,item:CS,link:bS};function Xf({industryDesc:t,refs:e}){return c.jsxs("section",{id:"Char",ref:e,className:be.Char,children:[c.jsx("h3",{className:be.CharTitle,children:" "}),c.jsx("p",{className:be.CharDesc,children:t})]})}Xf.propTypes={industryDesc:_.string.isRequired,refs:_.oneOfType([_.func,_.shape({current:_.instanceOf(Element)})]).isRequired};const RS="/ReOpenSG/assets/products_ACS-Pwl5Bu49.png",PS="/ReOpenSG/assets/products_OCS-zn28ldej.png",kS="/ReOpenSG/assets/products_SCS-p-OfCmAB.png",NS="/ReOpenSG/assets/products_CCS-OMoZJh05.png",OS="/ReOpenSG/assets/products_IDX Controller-Xjeck_02.png",DS="/ReOpenSG/assets/products_Map Designer-5CZAdgvu.png",LS="/ReOpenSG/assets/products_ACS Simulator-EUeCj3ZL.png",MS="/ReOpenSG/assets/products_SCS Simulator-NtwXfv5h.png",jS="/ReOpenSG/assets/products_AIMS-bQJJTFji.png",VS="/ReOpenSG/assets/products_HSMS-ZJ_AXJJN.png",FS={ACS:RS,OCS:PS,SCS:kS,CCS:NS,"IDX Controller":OS,"Map Designer":DS,"ACS Simulator":LS,"SCS Simulator":MS,AIMS:jS,HSMS:VS};function Jf({industryProducts:t,refs:e}){return c.jsxs("section",{id:"Product",ref:e,className:be.Product,children:[c.jsx("h3",{className:be.ProductTitle,children:" "}),c.jsx("div",{className:be.ProductWrapper,children:Object.entries(t).map(n=>c.jsx(ce,{to:`/solutions/${n[0]}`,className:be.ProductLink,children:c.jsxs("div",{className:be.linkWrapper,children:[c.jsx("div",{className:be.image,children:c.jsx("img",{src:FS[n[0]],alt:" "})}),c.jsxs("dl",{className:be.list,children:[c.jsx("dt",{className:be.itemName,children:n[0]}),c.jsx("dt",{className:be.itemSubName,children:n[1].}),c.jsx("dd",{className:be.itemDesc,children:n[1].})]})]})},me()))})]})}Jf.propTypes={industryProducts:_.oneOfType([_.object]).isRequired,refs:_.oneOfType([_.func,_.shape({current:_.instanceOf(Element)})]).isRequired};function Yf({inViewChar:t,inViewProduct:e}){return c.jsx("aside",{className:be.Snb,children:c.jsx("nav",{className:be.nav,children:c.jsxs("ul",{className:be.list,children:[c.jsx("li",{className:t?be.item:"",children:c.jsx("a",{className:be.link,href:"#Char",children:" "})}),c.jsx("li",{className:!t&&e?be.item:"",children:c.jsx("a",{className:be.link,href:"#Product",children:" "})})]})})})}Yf.propTypes={inViewChar:_.bool.isRequired,inViewProduct:_.bool.isRequired};const Xr={semiconductor:{name:"",desc:"      /                 .  /,             , /         AI            .",solutions:[]},display:{name:"",desc:" LCD, OLED, QLED, LED, PDP    ,  OLED        .                     .",solutions:[]},battery:{name:"",desc:"                    .",solutions:[]},port:{name:"",desc:"      .           .",solutions:[]}};Object.entries(nn).forEach(([t,{:e}])=>{e.forEach(n=>{Xr[n]&&Xr[n].solutions.push(t)})});function US(){const{id:t}=As(),[e,n]=S.useState(""),[s,i]=S.useState({});S.useEffect(()=>{n(Xr[t].desc),Xr[t].solutions.map(u=>i(d=>({...d,[u]:nn[u]})))},[t]);const[r,o]=ti({triggerOnce:!1,threshold:.1}),[a,l]=ti({triggerOnce:!1,threshold:.1});return c.jsxs("section",{className:"max-w-[1320px] desktop:pb-open-5xl tablet:pb-open-5xl pb-open-2xl w-full h-full desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-margin-mobile",children:[c.jsx("h2",{className:"sr-only",children:" "}),c.jsxs("div",{className:"flex desktop:gap-open-4xl tablet:gap-open-4xl",children:[c.jsx(Yf,{inViewChar:o,inViewProduct:l}),c.jsxs("div",{className:"flex-1",children:[c.jsx(Xf,{refs:r,currentLocation:t,industryDesc:e}),c.jsx(Jf,{refs:a,currentLocation:t,industryProducts:s})]})]})]})}const fi={_origin:"https://api.emailjs.com"},BS=(t,e="https://api.emailjs.com")=>{fi._userID=t,fi._origin=e},Zf=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class ad{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const ep=(t,e,n={})=>new Promise((s,i)=>{const r=new XMLHttpRequest;r.addEventListener("load",({target:o})=>{const a=new ad(o);a.status===200||a.text==="OK"?s(a):i(a)}),r.addEventListener("error",({target:o})=>{i(new ad(o))}),r.open("POST",fi._origin+t,!0),Object.keys(n).forEach(o=>{r.setRequestHeader(o,n[o])}),r.send(e)}),GS=(t,e,n,s)=>{const i=s||fi._userID;return Zf(i,t,e),ep("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},zS=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},qS=(t,e,n,s)=>{const i=s||fi._userID,r=zS(n);Zf(i,t,e);const o=new FormData(r);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),ep("/api/v1.0/email/send-form",o)},HS={init:BS,send:GS,sendForm:qS},Ra={serviceId:"opensg",templateId:"opensg",apiKey:"aDu8XkJ0TqEoFFdIN"},$S="_04E1",WS="kQ87",QS="S-it",KS="fPrs",XS="gTH2",JS="XcIS",YS="_9gQX",ZS="slSk",eI="AQ3n",tI="HCCC",nI="AMX8",sI="OF26",iI="XF0V",rI="u95l",oI="L-E5",aI="Z2Cw",lI="dAyt",cI="u5JU",uI="_54W8",dI="gw3D",hI="ZDdr",pe={formWrapper:$S,titleWrapper:WS,titleCategory:QS,title:KS,titleDesc:XS,wrapper:JS,label:YS,input:ZS,textarea:eI,iconStyle:tI,agreementText:nI,agreementOl:sI,warning:iI,checkboxWrapper:rI,contentWrapper:oI,inquiryInput:aI,inquiryLabel:lI,inquiryWrapper:cI,personalInfoWrapper:uI,regWrapper:dI,message:hI};function pi({labelText:t,inputType:e,name:n,placeholderText:s,maxLength:i,...r}){const o=me();return c.jsxs("div",{className:pe.wrapper,children:[c.jsx("label",{htmlFor:o,children:c.jsx("h4",{className:pe.label,children:t})}),c.jsx("input",{type:e,id:o,name:n,placeholder:s,className:pe.input,maxLength:i,required:!0,...r})]})}pi.defaultProps={maxLength:""};pi.propTypes={labelText:_.string.isRequired,inputType:_.string.isRequired,name:_.string.isRequired,placeholderText:_.string.isRequired,maxLength:_.string};function fI(){const[t,e]=S.useState(""),[n,s]=S.useState(""),i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c.jsxs("fieldset",{className:pe.personalInfoWrapper,children:[c.jsxs("div",{className:pe.regWrapper,children:[c.jsx(pi,{labelText:" ",inputType:"email",name:"email",placeholderText:"abc@abcd.com",onChange:r=>{e(r.target.value)}}),i.test(t)||t===""?"":c.jsx("span",{className:pe.message,children:"   ."})]}),c.jsx("div",{className:pe.regWrapper,children:c.jsx(pi,{labelText:" ",inputType:"tel",name:"tel",placeholderText:"'-'   .",maxLength:"13",value:n,onChange:r=>{s(r.target.value.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(\-{1,2})$/g,""))}})})]})}function lr(){return c.jsx("svg",{viewBox:"0 0 148 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:pe.iconStyle,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M136.651 32.2364L129.436 30.5344L109.937 49.9224L98.8921 38.6744L117.91 18.7222L116.245 11.3962C112.226 10.0517 108.023 9.3402 103.785 9.28718C99.1628 9.2161 94.5751 10.0977 90.3081 11.8772C86.1882 13.7421 82.4641 16.3797 79.3376 19.6472C75.8573 22.944 73.101 26.9289 71.2439 31.3484C67.6683 40.1441 67.6683 49.9883 71.2439 58.7839C51.9598 77.7556 32.9248 96.9788 14.1436 116.448C12.2011 118.992 11.2761 122.165 11.5166 125.356C11.7062 128.789 13.2498 132.005 15.8086 134.301C16.9556 135.55 18.3246 136.586 19.8509 137.335C21.4234 138.029 23.1161 138.426 24.8274 138.51C27.7504 138.454 30.5531 137.344 32.7269 135.392C47.0459 121.915 74.4814 94.2299 90.0676 78.0054C94.2949 79.7999 98.8366 80.7249 103.425 80.7157C108.043 80.712 112.614 79.7827 116.867 77.9827C121.12 76.1826 124.969 73.5483 128.187 70.2354C134.796 63.4946 138.488 54.4235 138.464 44.9829C138.571 40.6629 137.958 36.3553 136.651 32.2364ZM27.1306 128.834C26.7746 129.15 26.3454 129.373 25.8819 129.482C25.4258 129.561 24.9597 129.561 24.5036 129.482C24.0255 129.409 23.5701 129.229 23.1716 128.954C22.7441 128.704 22.3825 128.355 22.1171 127.937C20.8221 126.614 19.6104 124.098 20.8221 122.683C33.4946 109.206 59.5889 82.8617 75.9059 66.7574C76.8309 67.9784 77.8484 69.1439 78.9399 70.2354C80.0314 71.3732 81.2061 72.4277 82.4549 73.3897C66.6744 89.5772 40.9316 115.607 27.1306 128.834ZM129.972 44.9829C129.991 52.0592 127.234 58.8579 122.276 63.9269C117.329 68.7803 110.674 71.4992 103.744 71.4992C96.8131 71.4992 90.159 68.7803 85.2114 63.9269C81.5852 60.1427 79.1082 55.4067 78.0683 50.2697C77.0285 45.1328 77.4687 39.8062 79.3376 34.9097C80.5817 31.5772 82.5113 28.543 85.0018 26.0031C87.4922 23.4633 90.488 21.4744 93.7954 20.1652C96.9357 18.8508 100.307 18.1778 103.711 18.1857H106.061L89.2536 35.5109V41.9489L106.782 59.3944H112.887L129.972 42.5964V44.9829ZM29.9704 61.8642H44.1321L50.6534 68.4964L56.9249 62.2619L50.7736 55.9904V55.5927L51.3009 40.3394L49.2659 36.2972L22.8109 18.8887L17.3441 19.4992L9.65738 27.3524L9.04688 32.8932L26.0484 59.8847L29.9704 61.8642ZM21.2291 28.2682L42.6336 42.3652L42.2729 52.7529H32.3199L18.5189 30.9044L21.2291 28.2682ZM86.9504 92.6482L93.1849 86.4229L121.915 115.884C124.335 118.428 125.685 121.804 125.685 125.315C125.685 128.825 124.335 132.202 121.915 134.745C120.096 136.613 117.756 137.89 115.2 138.41C112.645 138.929 109.992 138.668 107.587 137.659C106.052 136.978 104.676 135.986 103.545 134.745L74.4814 105.117L80.7621 98.8457L109.733 128.39C110.123 128.82 110.607 129.152 111.148 129.361C112.213 129.794 113.404 129.794 114.469 129.361C115.01 129.152 115.495 128.82 115.884 128.39C116.289 127.989 116.605 127.507 116.809 126.975C117.022 126.432 117.134 125.856 117.142 125.273C117.133 124.691 117.024 124.115 116.819 123.571C116.614 123.039 116.298 122.557 115.894 122.156L86.9504 92.6482Z",className:"fill-current"})})}function tp({type:t,id:e,name:n,defaultValue:s,labelText:i}){return c.jsxs("div",{className:"focus-within:ring-2 focus-within:ring-[#3B82F6] rounded-[20px]",children:[c.jsx("input",{type:t,id:e,name:n,defaultValue:s,className:pe.inquiryInput}),c.jsxs("label",{htmlFor:e,className:pe.inquiryLabel,children:[i===" "?c.jsx(lr,{}):i===" "?c.jsx(lr,{}):i==="AS "?c.jsx(lr,{}):c.jsx(lr,{}),c.jsx("span",{children:i})]})]})}tp.propTypes={type:_.string.isRequired,id:_.string.isRequired,name:_.string.isRequired,defaultValue:_.string.isRequired,labelText:_.string.isRequired};const pI=[{id:"productId",defaultValue:" "},{id:"purchaseId",defaultValue:" "},{id:"asId",defaultValue:"AS "},{id:"etcId",defaultValue:" "}];function mI(){const[t,e]=S.useState(!1),n=()=>{e(!0)};return c.jsxs("fieldset",{className:pe.inquiryWrapper,children:[c.jsx("h4",{className:pe.label,children:""}),c.jsx("div",{children:pI.map(({id:s,defaultValue:i})=>c.jsx(tp,{type:"radio",id:s,name:"type",defaultValue:i,labelText:i,onClick:n,checked:t},s))})]})}function gI(){const t=me();return c.jsxs("fieldset",{className:pe.contentWrapper,children:[c.jsx(pi,{labelText:"",inputType:"text",name:"title",placeholderText:"AGV  "}),c.jsxs("div",{className:pe.wrapper,children:[c.jsx("label",{htmlFor:t,children:c.jsx("h4",{className:pe.label,children:""})}),c.jsx("textarea",{name:"message",id:t,cols:"30",rows:"10",placeholder:"AGV 2  .",className:pe.textarea,required:!0})]})]})}function np({state:t,setState:e}){const n=()=>{e(!t)};return c.jsxs("fieldset",{className:pe.agreementText,children:[c.jsx("h4",{children:" "}),c.jsx("p",{children:"OPENSG                   ,  ."}),c.jsxs("ol",{className:pe.agreementOl,children:[c.jsx("li",{children:"   :         /"}),c.jsx("li",{children:"   : ,  "}),c.jsx("li",{children:"   :    1"}),c.jsx("li",{className:pe.warning,children:"                 ."})]}),c.jsxs("div",{className:pe.checkboxWrapper,children:[c.jsx("input",{type:"checkbox",id:"agreement",required:!0,checked:t,onChange:n,className:"peer"}),c.jsx("label",{htmlFor:"agreement",className:"pl-open-lg",children:"()      ."})]})]})}np.propTypes={state:_.bool.isRequired,setState:_.func.isRequired};function sp({category:t,title:e,desc:n}){return c.jsxs("div",{className:pe.titleWrapper,children:[c.jsx("h2",{className:pe.titleCategory,children:t}),c.jsx("h3",{className:pe.title,children:e}),c.jsx("p",{className:pe.titleDesc,children:n})]})}sp.propTypes={category:_.string.isRequired,title:_.string.isRequired,desc:_.string.isRequired};function ip({type:t,buttonText:e,buttonStyle:n,onClick:s}){return c.jsx("button",{type:t,className:n,onClick:s,children:e})}ip.propTypes={type:_.oneOf(["submit","button","reset"]).isRequired,buttonText:_.string.isRequired,buttonStyle:_.string.isRequired,onClick:_.func.isRequired};function yI(){const t=S.useRef(null),[e,n]=S.useState(!1),s=r=>{r.preventDefault(),HS.sendForm(Ra.serviceId,Ra.templateId,t.current,Ra.apiKey).then(()=>{te.success("."),setTimeout(()=>{window.location.reload()},4e3)},()=>{te.error(" .")})},i=()=>{e||te.error("   .")};return c.jsx("div",{className:"w-full px-open-margin-mobile tablet:px-open-margin-desktop desktop:px-open-margin-desktop",children:c.jsxs("form",{ref:t,onSubmit:s,className:pe.formWrapper,children:[c.jsx(sp,{category:"Support",title:"",desc:"       ."}),c.jsx(mI,{}),c.jsx(fI,{}),c.jsx(gI,{}),c.jsx(np,{state:e,setState:n}),c.jsx(ip,{buttonText:"",buttonStyle:"-text--openfoundation-secondary font-open-label text-open-font-medium tablet:text-open-font-xl desktop:text-open-font-xl p-open-lg rounded-[20px] -bg--open-accent-accent w-[180px] block mx-auto mb-open-5xl",type:`${e?"submit":"button"}`,onClick:i})]})})}var vI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,sc=sc||{},W=vI||self;function So(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ji(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _I(t){return Object.prototype.hasOwnProperty.call(t,Pa)&&t[Pa]||(t[Pa]=++wI)}var Pa="closure_uid_"+(1e9*Math.random()>>>0),wI=0;function TI(t,e,n){return t.call.apply(t.bind,arguments)}function EI(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=TI:Ke=EI,Ke.apply(null,arguments)}function cr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function De(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,i,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(s,o)}}function Tn(){this.s=this.s,this.o=this.o}var xI=0;Tn.prototype.s=!1;Tn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xI!=0)&&_I(this)};Tn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ic(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function ld(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(So(s)){const i=t.length||0,r=s.length||0;t.length=i+r;for(let o=0;o<r;o++)t[i+o]=s[o]}else t.push(s)}}function Xe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var AI=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};W.addEventListener("test",n,e),W.removeEventListener("test",n,e)}catch{}return t}();function mi(t){return/^[\s\xa0]*$/.test(t)}function Io(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function xt(t){return Io().indexOf(t)!=-1}function rc(t){return rc[" "](t),t}rc[" "]=function(){};function SI(t,e){var n=yC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var II=xt("Opera"),ms=xt("Trident")||xt("MSIE"),op=xt("Edge"),ol=op||ms,ap=xt("Gecko")&&!(Io().toLowerCase().indexOf("webkit")!=-1&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),CI=Io().toLowerCase().indexOf("webkit")!=-1&&!xt("Edge");function lp(){var t=W.document;return t?t.documentMode:void 0}var al;e:{var ka="",Na=function(){var t=Io();if(ap)return/rv:([^\);]+)(\)|;)/.exec(t);if(op)return/Edge\/([\d\.]+)/.exec(t);if(ms)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(CI)return/WebKit\/(\S+)/.exec(t);if(II)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Na&&(ka=Na?Na[1]:""),ms){var Oa=lp();if(Oa!=null&&Oa>parseFloat(ka)){al=String(Oa);break e}}al=ka}var ll;if(W.document&&ms){var cd=lp();ll=cd||parseInt(al,10)||void 0}else ll=void 0;var bI=ll;function gi(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ap){e:{try{rc(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:RI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gi.$.h.call(this)}}De(gi,Xe);var RI={2:"touch",3:"pen",4:"mouse"};gi.prototype.h=function(){gi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vi="closure_listenable_"+(1e6*Math.random()|0),PI=0;function kI(t,e,n,s,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=i,this.key=++PI,this.fa=this.ia=!1}function Co(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function oc(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function NI(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function cp(t){const e={};for(const n in t)e[n]=t[n];return e}const ud="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function up(t,e){let n,s;for(let i=1;i<arguments.length;i++){s=arguments[i];for(n in s)t[n]=s[n];for(let r=0;r<ud.length;r++)n=ud[r],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function bo(t){this.src=t,this.g={},this.h=0}bo.prototype.add=function(t,e,n,s,i){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=ul(t,e,s,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new kI(e,this.src,r,!!s,i),e.ia=n,t.push(e)),e};function cl(t,e){var n=e.type;if(n in t.g){var s=t.g[n],i=rp(s,e),r;(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(Co(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ul(t,e,n,s){for(var i=0;i<t.length;++i){var r=t[i];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==s)return i}return-1}var ac="closure_lm_"+(1e6*Math.random()|0),Da={};function dp(t,e,n,s,i){if(s&&s.once)return fp(t,e,n,s,i);if(Array.isArray(e)){for(var r=0;r<e.length;r++)dp(t,e[r],n,s,i);return null}return n=uc(n),t&&t[Vi]?t.O(e,n,ji(s)?!!s.capture:!!s,i):hp(t,e,n,!1,s,i)}function hp(t,e,n,s,i,r){if(!e)throw Error("Invalid event type");var o=ji(i)?!!i.capture:!!i,a=cc(t);if(a||(t[ac]=a=new bo(t)),n=a.add(e,n,s,o,r),n.proxy)return n;if(s=OI(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)AI||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),s,i);else if(t.attachEvent)t.attachEvent(mp(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OI(){function t(n){return e.call(t.src,t.listener,n)}const e=DI;return t}function fp(t,e,n,s,i){if(Array.isArray(e)){for(var r=0;r<e.length;r++)fp(t,e[r],n,s,i);return null}return n=uc(n),t&&t[Vi]?t.P(e,n,ji(s)?!!s.capture:!!s,i):hp(t,e,n,!0,s,i)}function pp(t,e,n,s,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)pp(t,e[r],n,s,i);else s=ji(s)?!!s.capture:!!s,n=uc(n),t&&t[Vi]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=ul(r,n,s,i),-1<n&&(Co(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=cc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ul(e,n,s,i)),(n=-1<t?e[t]:null)&&lc(n))}function lc(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vi])cl(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(mp(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=cc(e))?(cl(n,t),n.h==0&&(n.src=null,e[ac]=null)):Co(t)}}}function mp(t){return t in Da?Da[t]:Da[t]="on"+t}function DI(t,e){if(t.fa)t=!0;else{e=new gi(e,this);var n=t.listener,s=t.la||t.src;t.ia&&lc(t),t=n.call(s,e)}return t}function cc(t){return t=t[ac],t instanceof bo?t:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function uc(t){return typeof t=="function"?t:(t[La]||(t[La]=function(e){return t.handleEvent(e)}),t[La])}function Oe(){Tn.call(this),this.i=new bo(this),this.S=this,this.J=null}De(Oe,Tn);Oe.prototype[Vi]=!0;Oe.prototype.removeEventListener=function(t,e,n,s){pp(this,t,e,n,s)};function Be(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new Xe(e,t);else if(e instanceof Xe)e.target=e.target||t;else{var i=e;e=new Xe(s,t),up(e,i)}if(i=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];i=ur(o,s,!0,e)&&i}if(o=e.g=t,i=ur(o,s,!0,e)&&i,i=ur(o,s,!1,e)&&i,n)for(r=0;r<n.length;r++)o=e.g=n[r],i=ur(o,s,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Co(n[s]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Oe.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ur(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&cl(t.i,o),i=a.call(l,s)!==!1&&i}}return i&&!s.defaultPrevented}var dc=W.JSON.stringify;class LI{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function MI(){var t=hc;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jI{constructor(){this.h=this.g=null}add(e,n){const s=gp.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var gp=new LI(()=>new VI,t=>t.reset());class VI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function FI(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function UI(t){W.setTimeout(()=>{throw t},0)}let yi,vi=!1,hc=new jI,yp=()=>{const t=W.Promise.resolve(void 0);yi=()=>{t.then(BI)}};var BI=()=>{for(var t;t=MI();){try{t.h.call(t.g)}catch(n){UI(n)}var e=gp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vi=!1};function Ro(t,e){Oe.call(this),this.h=t||1,this.g=e||W,this.j=Ke(this.qb,this),this.l=Date.now()}De(Ro,Oe);L=Ro.prototype;L.ga=!1;L.T=null;L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Be(this,"tick"),this.ga&&(fc(this),this.start()))}};L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}L.N=function(){Ro.$.N.call(this),fc(this),delete this.g};function pc(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function vp(t){t.g=pc(()=>{t.g=null,t.i&&(t.i=!1,vp(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class GI extends Tn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vp(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(t){Tn.call(this),this.h=t,this.g={}}De(_i,Tn);var dd=[];function _p(t,e,n,s){Array.isArray(n)||(n&&(dd[0]=n.toString()),n=dd);for(var i=0;i<n.length;i++){var r=dp(e,n[i],s||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function wp(t){oc(t.g,function(e,n){this.g.hasOwnProperty(n)&&lc(e)},t),t.g={}}_i.prototype.N=function(){_i.$.N.call(this),wp(this)};_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Po(){this.g=!0}Po.prototype.Ea=function(){this.g=!1};function zI(t,e,n,s,i,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function qI(t,e,n,s,i,r,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+i+"]: "+e+`
`+n+`
`+r+" "+o})}function is(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$I(t,n)+(s?" "+s:"")})}function HI(t,e){t.info(function(){return"TIMEOUT: "+e})}Po.prototype.info=function(){};function $I(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var i=s[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return dc(n)}catch{return e}}var Xn={},hd=null;function ko(){return hd=hd||new Oe}Xn.Ta="serverreachability";function Tp(t){Xe.call(this,Xn.Ta,t)}De(Tp,Xe);function wi(t){const e=ko();Be(e,new Tp(e))}Xn.STAT_EVENT="statevent";function Ep(t,e){Xe.call(this,Xn.STAT_EVENT,t),this.stat=e}De(Ep,Xe);function nt(t){const e=ko();Be(e,new Ep(e,t))}Xn.Ua="timingevent";function xp(t,e){Xe.call(this,Xn.Ua,t),this.size=e}De(xp,Xe);function Fi(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var No={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ap={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mc(){}mc.prototype.h=null;function fd(t){return t.h||(t.h=t.i())}function Sp(){}var Ui={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gc(){Xe.call(this,"d")}De(gc,Xe);function yc(){Xe.call(this,"c")}De(yc,Xe);var dl;function Oo(){}De(Oo,mc);Oo.prototype.g=function(){return new XMLHttpRequest};Oo.prototype.i=function(){return{}};dl=new Oo;function Bi(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new _i(this),this.P=WI,t=ol?125:void 0,this.V=new Ro(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ip}function Ip(){this.i=null,this.g="",this.h=!1}var WI=45e3,Cp={},hl={};L=Bi.prototype;L.setTimeout=function(t){this.P=t};function fl(t,e,n){t.L=1,t.A=Lo(Jt(e)),t.u=n,t.S=!0,bp(t,null)}function bp(t,e){t.G=Date.now(),Gi(t),t.B=Jt(t.A);var n=t.B,s=t.W;Array.isArray(s)||(s=[String(s)]),Mp(n.i,"t",s),t.o=0,n=t.l.J,t.h=new Ip,t.g=sm(t.l,n?e:null,!t.u),0<t.O&&(t.M=new GI(Ke(t.Pa,t,t.g),t.O)),_p(t.U,t.g,"readystatechange",t.nb),e=t.I?cp(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),wi(),zI(t.j,t.v,t.B,t.m,t.W,t.u)}L.nb=function(t){t=t.target;const e=this.M;e&&St(t)==3?e.l():this.Pa(t)};L.Pa=function(t){try{if(t==this.g)e:{const d=St(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||ol||this.g&&(this.h.h||this.g.ja()||yd(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?wi(3):wi(2)),Do(this);var n=this.g.da();this.ca=n;t:if(Rp(this)){var s=yd(this.g);t="";var i=s.length,r=St(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),ni(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:r&&e==i-1});s.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,qI(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mi(a)){var u=a;break t}}u=null}if(n=u)is(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pl(this,n);else{this.i=!1,this.s=3,nt(12),Rn(this),ni(this);break e}}this.S?(Pp(this,d,o),ol&&this.i&&d==3&&(_p(this.U,this.V,"tick",this.mb),this.V.start())):(is(this.j,this.m,o,null),pl(this,o)),d==4&&Rn(this),this.i&&!this.J&&(d==4?Zp(this.l,this):(this.i=!1,Gi(this)))}else pC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Rn(this),ni(this)}}}catch{}finally{}};function Rp(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Pp(t,e,n){let s=!0,i;for(;!t.J&&t.o<n.length;)if(i=QI(t,n),i==hl){e==4&&(t.s=4,nt(14),s=!1),is(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Cp){t.s=4,nt(15),is(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else is(t.j,t.m,i,null),pl(t,i);Rp(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,nt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xc(e),e.M=!0,nt(11))):(is(t.j,t.m,n,"[Invalid Chunked Response]"),Rn(t),ni(t))}L.mb=function(){if(this.g){var t=St(this.g),e=this.g.ja();this.o<e.length&&(Do(this),Pp(this,t,e),this.i&&t!=4&&Gi(this))}};function QI(t,e){var n=t.o,s=e.indexOf(`
`,n);return s==-1?hl:(n=Number(e.substring(n,s)),isNaN(n)?Cp:(s+=1,s+n>e.length?hl:(e=e.slice(s,s+n),t.o=s+n,e)))}L.cancel=function(){this.J=!0,Rn(this)};function Gi(t){t.Y=Date.now()+t.P,kp(t,t.P)}function kp(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fi(Ke(t.lb,t),e)}function Do(t){t.C&&(W.clearTimeout(t.C),t.C=null)}L.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(HI(this.j,this.B),this.L!=2&&(wi(),nt(17)),Rn(this),this.s=2,ni(this)):kp(this,this.Y-t)};function ni(t){t.l.H==0||t.J||Zp(t.l,t)}function Rn(t){Do(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,fc(t.V),wp(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pl(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ml(n.i,t))){if(!t.K&&ml(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var i=s;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zr(n),Fo(n);else break e;Ec(n),nt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fi(Ke(n.ib,n),6e3));if(1>=Fp(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pn(n,11)}else if((t.K||n.g==t)&&Zr(n),!mi(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(s=1.5*p,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var r=s.i;r.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(vc(r,r.h),r.h=null))}if(s.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(s.Da=g,fe(s.I,s.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=nm(s,s.J?s.pa:null,s.Y),o.K){Up(s.i,o);var a=o,l=s.L;l&&a.setTimeout(l),a.C&&(Do(a),Gi(a)),s.g=o}else Jp(s);0<n.j.length&&Uo(n)}else u[0]!="stop"&&u[0]!="close"||Pn(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Pn(n,7):Tc(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}wi(4)}catch{}}function KI(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(So(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function XI(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(So(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function Np(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(So(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=XI(t),s=KI(t),i=s.length,r=0;r<i;r++)e.call(void 0,s[r],n&&n[r],t)}var Op=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JI(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),i=null;if(0<=s){var r=t[n].substring(0,s);i=t[n].substring(s+1)}else r=t[n];e(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Dn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Dn){this.h=t.h,Jr(this,t.j),this.s=t.s,this.g=t.g,Yr(this,t.m),this.l=t.l;var e=t.i,n=new Ti;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pd(this,n),this.o=t.o}else t&&(e=String(t).match(Op))?(this.h=!1,Jr(this,e[1]||"",!0),this.s=Gs(e[2]||""),this.g=Gs(e[3]||"",!0),Yr(this,e[4]),this.l=Gs(e[5]||"",!0),pd(this,e[6]||"",!0),this.o=Gs(e[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Dn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zs(e,md,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zs(e,md,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zs(n,n.charAt(0)=="/"?eC:ZI,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zs(n,nC)),t.join("")};function Jt(t){return new Dn(t)}function Jr(t,e,n){t.j=n?Gs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pd(t,e,n){e instanceof Ti?(t.i=e,sC(t.i,t.h)):(n||(e=zs(e,tC)),t.i=new Ti(e,t.h))}function fe(t,e,n){t.i.set(e,n)}function Lo(t){return fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YI),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YI(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var md=/[#\/\?@]/g,ZI=/[#\?:]/g,eC=/[#\?]/g,tC=/[#\?@]/g,nC=/#/g;function Ti(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function En(t){t.g||(t.g=new Map,t.h=0,t.i&&JI(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}L=Ti.prototype;L.add=function(t,e){En(this),this.i=null,t=bs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Dp(t,e){En(t),e=bs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Lp(t,e){return En(t),e=bs(t,e),t.g.has(e)}L.forEach=function(t,e){En(this),this.g.forEach(function(n,s){n.forEach(function(i){t.call(e,i,s,this)},this)},this)};L.ta=function(){En(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const i=t[s];for(let r=0;r<i.length;r++)n.push(e[s])}return n};L.Z=function(t){En(this);let e=[];if(typeof t=="string")Lp(this,t)&&(e=e.concat(this.g.get(bs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};L.set=function(t,e){return En(this),this.i=null,t=bs(this,t),Lp(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};L.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Mp(t,e,n){Dp(t,e),0<n.length&&(t.i=null,t.g.set(bs(t,e),ic(n)),t.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const r=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var i=r;o[s]!==""&&(i+="="+encodeURIComponent(String(o[s]))),t.push(i)}}return this.i=t.join("&")};function bs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sC(t,e){e&&!t.j&&(En(t),t.i=null,t.g.forEach(function(n,s){var i=s.toLowerCase();s!=i&&(Dp(this,s),Mp(this,i,n))},t)),t.j=e}var iC=class{constructor(t,e){this.g=t,this.map=e}};function jp(t){this.l=t||rC,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rC=10;function Vp(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Fp(t){return t.h?1:t.g?t.g.size:0}function ml(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vc(t,e){t.g?t.g.add(e):t.h=e}function Up(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jp.prototype.cancel=function(){if(this.i=Bp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Bp(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ic(t.i)}var oC=class{stringify(t){return W.JSON.stringify(t,void 0)}parse(t){return W.JSON.parse(t,void 0)}};function aC(){this.g=new oC}function lC(t,e,n){const s=n||"";try{Np(t,function(i,r){let o=i;ji(i)&&(o=dc(i)),e.push(s+r+"="+encodeURIComponent(o))})}catch(i){throw e.push(s+"type="+encodeURIComponent("_badmap")),i}}function cC(t,e){const n=new Po;if(W.Image){const s=new Image;s.onload=cr(dr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=cr(dr,n,s,"TestLoadImage: error",!1,e),s.onabort=cr(dr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=cr(dr,n,s,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function dr(t,e,n,s,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(s)}catch{}}function Mo(t){this.l=t.ec||null,this.j=t.ob||!1}De(Mo,mc);Mo.prototype.g=function(){return new jo(this.l,this.j)};Mo.prototype.i=function(t){return function(){return t}}({});function jo(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_c,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}De(jo,Oe);var _c=0;L=jo.prototype;L.open=function(t,e){if(this.readyState!=_c)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ei(this)};L.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=_c};L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gp(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Gp(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zi(this):Ei(this),this.readyState==3&&Gp(this)}};L.Za=function(t){this.g&&(this.response=this.responseText=t,zi(this))};L.Ya=function(t){this.g&&(this.response=t,zi(this))};L.ka=function(){this.g&&zi(this)};function zi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ei(t)}L.setRequestHeader=function(t,e){this.v.append(t,e)};L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ei(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var uC=W.JSON.parse;function xe(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zp,this.L=this.M=!1}De(xe,Oe);var zp="",dC=/^https?$/i,hC=["POST","PUT"];L=xe.prototype;L.Oa=function(t){this.M=t};L.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dl.g(),this.C=this.u?fd(this.u):fd(dl),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){gd(this,r);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const r of s.keys())n.set(r,s.get(r));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),i=W.FormData&&t instanceof W.FormData,!(0<=rp(hC,e))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$p(this),0<this.B&&((this.L=fC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=pc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){gd(this,r)}};function fC(t){return ms&&typeof t.timeout=="number"&&t.ontimeout!==void 0}L.ua=function(){typeof sc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Be(this,"timeout"),this.abort(8))};function gd(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qp(t),Vo(t)}function qp(t){t.F||(t.F=!0,Be(t,"complete"),Be(t,"error"))}L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Be(this,"complete"),Be(this,"abort"),Vo(this))};L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vo(this,!0)),xe.$.N.call(this)};L.La=function(){this.s||(this.G||this.v||this.l?Hp(this):this.kb())};L.kb=function(){Hp(this)};function Hp(t){if(t.h&&typeof sc<"u"&&(!t.C[1]||St(t)!=4||t.da()!=2)){if(t.v&&St(t)==4)pc(t.La,0,t);else if(Be(t,"readystatechange"),St(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=o===0){var i=String(t.I).match(Op)[1]||null;!i&&W.self&&W.self.location&&(i=W.self.location.protocol.slice(0,-1)),s=!dC.test(i?i.toLowerCase():"")}n=s}if(n)Be(t,"complete"),Be(t,"success");else{t.m=6;try{var r=2<St(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",qp(t)}}finally{Vo(t)}}}}function Vo(t,e){if(t.g){$p(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Be(t,"ready");try{n.onreadystatechange=s}catch{}}}function $p(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}L.isActive=function(){return!!this.g};function St(t){return t.g?t.g.readyState:0}L.da=function(){try{return 2<St(this)?this.g.status:-1}catch{return-1}};L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),uC(e)}};function yd(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zp:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function pC(t){const e={};t=(t.g&&2<=St(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(mi(t[s]))continue;var n=FI(t[s]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[i]||[];e[i]=r,r.push(n)}NI(e,function(s){return s.join(", ")})}L.Ia=function(){return this.m};L.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Wp(t){let e="";return oc(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function wc(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Wp(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):fe(t,e,n))}function Ls(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qp(t){this.Ga=0,this.j=[],this.l=new Po,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ls("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ls("baseRetryDelayMs",5e3,t),this.hb=Ls("retryDelaySeedMs",1e4,t),this.eb=Ls("forwardChannelMaxRetries",2,t),this.xa=Ls("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jp(t&&t.concurrentRequestLimit),this.Ja=new aC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}L=Qp.prototype;L.ra=8;L.H=1;function Tc(t){if(Kp(t),t.H==3){var e=t.W++,n=Jt(t.I);if(fe(n,"SID",t.K),fe(n,"RID",e),fe(n,"TYPE","terminate"),qi(t,n),e=new Bi(t,t.l,e),e.L=2,e.A=Lo(Jt(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&W.Image&&(new Image().src=e.A,n=!0),n||(e.g=sm(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Gi(e)}tm(t)}function Fo(t){t.g&&(xc(t),t.g.cancel(),t.g=null)}function Kp(t){Fo(t),t.u&&(W.clearTimeout(t.u),t.u=null),Zr(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function Uo(t){if(!Vp(t.i)&&!t.m){t.m=!0;var e=t.Na;yi||yp(),vi||(yi(),vi=!0),hc.add(e,t),t.C=0}}function mC(t,e){return Fp(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fi(Ke(t.Na,t,e),em(t,t.C)),t.C++,!0)}L.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Bi(this,this.l,t);let r=this.s;if(this.U&&(r?(r=cp(r),up(r,this.U)):r=this.U),this.o!==null||this.O||(i.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Xp(this,i,e),n=Jt(this.I),fe(n,"RID",t),fe(n,"CVER",22),this.F&&fe(n,"X-HTTP-Session-Id",this.F),qi(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(Wp(r)))+"&"+e:this.o&&wc(n,this.o,r)),vc(this.i,i),this.bb&&fe(n,"TYPE","init"),this.P?(fe(n,"$req",e),fe(n,"SID","null"),i.aa=!0,fl(i,n,null)):fl(i,n,e),this.H=2}}else this.H==3&&(t?vd(this,t):this.j.length==0||Vp(this.i)||vd(this))};function vd(t,e){var n;e?n=e.m:n=t.W++;const s=Jt(t.I);fe(s,"SID",t.K),fe(s,"RID",n),fe(s,"AID",t.V),qi(t,s),t.o&&t.s&&wc(s,t.o,t.s),n=new Bi(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Xp(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vc(t.i,n),fl(n,s,e)}function qi(t,e){t.na&&oc(t.na,function(n,s){fe(e,s,n)}),t.h&&Np({},function(n,s){fe(e,s,n)})}function Xp(t,e,n){n=Math.min(t.j.length,n);var s=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=i[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=r,0>u)r=Math.max(0,i[l].g-100),a=!1;else try{lC(d,o,"req"+u+"_")}catch{s&&s(d)}}if(a){s=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function Jp(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yi||yp(),vi||(yi(),vi=!0),hc.add(e,t),t.A=0}}function Ec(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fi(Ke(t.Ma,t),em(t,t.A)),t.A++,!0)}L.Ma=function(){if(this.u=null,Yp(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fi(Ke(this.jb,this),t)}};L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nt(10),Fo(this),Yp(this))};function xc(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function Yp(t){t.g=new Bi(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Jt(t.wa);fe(e,"RID","rpc"),fe(e,"SID",t.K),fe(e,"AID",t.V),fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&fe(e,"TO",t.qa),fe(e,"TYPE","xmlhttp"),qi(t,e),t.o&&t.s&&wc(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Lo(Jt(e)),n.u=null,n.S=!0,bp(n,t)}L.ib=function(){this.v!=null&&(this.v=null,Fo(this),Ec(this),nt(19))};function Zr(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function Zp(t,e){var n=null;if(t.g==e){Zr(t),xc(t),t.g=null;var s=2}else if(ml(t.i,e))n=e.F,Up(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;s=ko(),Be(s,new xp(s,n)),Uo(t)}else Jp(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(s==1&&mC(t,e)||s==2&&Ec(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Pn(t,5);break;case 4:Pn(t,10);break;case 3:Pn(t,6);break;default:Pn(t,2)}}}function em(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=Ke(t.pb,t);n||(n=new Dn("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||Jr(n,"https"),Lo(n)),cC(n.toString(),s)}else nt(2);t.H=0,t.h&&t.h.za(e),tm(t),Kp(t)}L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nt(2)):(this.l.info("Failed to ping google.com"),nt(1))};function tm(t){if(t.H=0,t.ma=[],t.h){const e=Bp(t.i);(e.length!=0||t.j.length!=0)&&(ld(t.ma,e),ld(t.ma,t.j),t.i.i.length=0,ic(t.j),t.j.length=0),t.h.ya()}}function nm(t,e,n){var s=n instanceof Dn?Jt(n):new Dn(n);if(s.g!="")e&&(s.g=e+"."+s.g),Yr(s,s.m);else{var i=W.location;s=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var r=new Dn(null);s&&Jr(r,s),e&&(r.g=e),i&&Yr(r,i),n&&(r.l=n),s=r}return n=t.F,e=t.Da,n&&e&&fe(s,n,e),fe(s,"VER",t.ra),qi(t,s),s}function sm(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new xe(new Mo({ob:n})):new xe(t.va),e.Oa(t.J),e}L.isActive=function(){return!!this.h&&this.h.isActive(this)};function im(){}L=im.prototype;L.Ba=function(){};L.Aa=function(){};L.za=function(){};L.ya=function(){};L.isActive=function(){return!0};L.Va=function(){};function eo(){if(ms&&!(10<=Number(bI)))throw Error("Environmental error: no available transport.")}eo.prototype.g=function(t,e){return new ht(t,e)};function ht(t,e){Oe.call(this),this.g=new Qp(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!mi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Rs(this)}De(ht,Oe);ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nm(t,null,t.Y),Uo(t)};ht.prototype.close=function(){Tc(this.g)};ht.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dc(t),t=n);e.j.push(new iC(e.fb++,t)),e.H==3&&Uo(e)};ht.prototype.N=function(){this.g.h=null,delete this.j,Tc(this.g),delete this.g,ht.$.N.call(this)};function rm(t){gc.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}De(rm,gc);function om(){yc.call(this),this.status=1}De(om,yc);function Rs(t){this.g=t}De(Rs,im);Rs.prototype.Ba=function(){Be(this.g,"a")};Rs.prototype.Aa=function(t){Be(this.g,new rm(t))};Rs.prototype.za=function(t){Be(this.g,new om)};Rs.prototype.ya=function(){Be(this.g,"b")};function gC(){this.blockSize=-1}function Et(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}De(Et,gC);Et.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ma(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)s[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)s[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var r=t.g[3],o=e+(r^n&(i^r))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[2]+606105819&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[6]+2821735955&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[10]+4294925233&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[14]+2792965006&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^r&(n^i))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[11]+643717713&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[15]+3634488961&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[3]+4107603335&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[7]+1735328473&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^r)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[11]+1839030562&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[7]+4139469664&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[3]+3572445317&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[15]+530742520&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~r))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[14]+2878612391&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[10]+4293915773&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[6]+2734768916&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[2]+718787259&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+r&4294967295}Et.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,i=this.h,r=0;r<e;){if(i==0)for(;r<=n;)Ma(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(s[i++]=t.charCodeAt(r++),i==this.blockSize){Ma(this,s),i=0;break}}else for(;r<e;)if(s[i++]=t[r++],i==this.blockSize){Ma(this,s),i=0;break}}this.h=i,this.i+=e};Et.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function le(t,e){this.h=e;for(var n=[],s=!0,i=t.length-1;0<=i;i--){var r=t[i]|0;s&&r==e||(n[i]=r,s=!1)}this.g=n}var yC={};function Ac(t){return-128<=t&&128>t?SI(t,function(e){return new le([e|0],0>e?-1:0)}):new le([t|0],0>t?-1:0)}function It(t){if(isNaN(t)||!isFinite(t))return cs;if(0>t)return Fe(It(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=gl;return new le(e,0)}function am(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Fe(am(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=It(Math.pow(e,8)),s=cs,i=0;i<t.length;i+=8){var r=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+r),e);8>r?(r=It(Math.pow(e,r)),s=s.R(r).add(It(o))):(s=s.R(n),s=s.add(It(o)))}return s}var gl=4294967296,cs=Ac(0),yl=Ac(1),_d=Ac(16777216);L=le.prototype;L.ea=function(){if(gt(this))return-Fe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:gl+s)*e,e*=gl}return t};L.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zt(this))return"0";if(gt(this))return"-"+Fe(this).toString(t);for(var e=It(Math.pow(t,6)),n=this,s="";;){var i=no(n,e).g;n=to(n,i.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zt(n))return r+s;for(;6>r.length;)r="0"+r;s=r+s}};L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function gt(t){return t.h==-1}L.X=function(t){return t=to(this,t),gt(t)?-1:zt(t)?0:1};function Fe(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new le(n,~t.h).add(yl)}L.abs=function(){return gt(this)?Fe(this):this};L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,i=0;i<=e;i++){var r=s+(this.D(i)&65535)+(t.D(i)&65535),o=(r>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);s=o>>>16,r&=65535,o&=65535,n[i]=o<<16|r}return new le(n,n[n.length-1]&-2147483648?-1:0)};function to(t,e){return t.add(Fe(e))}L.R=function(t){if(zt(this)||zt(t))return cs;if(gt(this))return gt(t)?Fe(this).R(Fe(t)):Fe(Fe(this).R(t));if(gt(t))return Fe(this.R(Fe(t)));if(0>this.X(_d)&&0>t.X(_d))return It(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<t.g.length;i++){var r=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*s+2*i]+=o*l,hr(n,2*s+2*i),n[2*s+2*i+1]+=r*l,hr(n,2*s+2*i+1),n[2*s+2*i+1]+=o*a,hr(n,2*s+2*i+1),n[2*s+2*i+2]+=r*a,hr(n,2*s+2*i+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new le(n,0)};function hr(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ms(t,e){this.g=t,this.h=e}function no(t,e){if(zt(e))throw Error("division by zero");if(zt(t))return new Ms(cs,cs);if(gt(t))return e=no(Fe(t),e),new Ms(Fe(e.g),Fe(e.h));if(gt(e))return e=no(t,Fe(e)),new Ms(Fe(e.g),e.h);if(30<t.g.length){if(gt(t)||gt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=yl,s=e;0>=s.X(t);)n=wd(n),s=wd(s);var i=Zn(n,1),r=Zn(s,1);for(s=Zn(s,2),n=Zn(n,2);!zt(s);){var o=r.add(s);0>=o.X(t)&&(i=i.add(n),r=o),s=Zn(s,1),n=Zn(n,1)}return e=to(t,i.R(e)),new Ms(i,e)}for(i=cs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),r=It(n),o=r.R(e);gt(o)||0<o.X(t);)n-=s,r=It(n),o=r.R(e);zt(r)&&(r=yl),i=i.add(r),t=to(t,o)}return new Ms(i,t)}L.gb=function(t){return no(this,t).h};L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new le(n,this.h&t.h)};L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new le(n,this.h|t.h)};L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new le(n,this.h^t.h)};function wd(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new le(n,t.h)}function Zn(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,i=[],r=0;r<s;r++)i[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new le(i,t.h)}eo.prototype.createWebChannel=eo.prototype.g;ht.prototype.send=ht.prototype.u;ht.prototype.open=ht.prototype.m;ht.prototype.close=ht.prototype.close;No.NO_ERROR=0;No.TIMEOUT=8;No.HTTP_ERROR=6;Ap.COMPLETE="complete";Sp.EventType=Ui;Ui.OPEN="a";Ui.CLOSE="b";Ui.ERROR="c";Ui.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;xe.prototype.listenOnce=xe.prototype.P;xe.prototype.getLastError=xe.prototype.Sa;xe.prototype.getLastErrorCode=xe.prototype.Ia;xe.prototype.getStatus=xe.prototype.da;xe.prototype.getResponseJson=xe.prototype.Wa;xe.prototype.getResponseText=xe.prototype.ja;xe.prototype.send=xe.prototype.ha;xe.prototype.setWithCredentials=xe.prototype.Oa;Et.prototype.digest=Et.prototype.l;Et.prototype.reset=Et.prototype.reset;Et.prototype.update=Et.prototype.j;le.prototype.add=le.prototype.add;le.prototype.multiply=le.prototype.R;le.prototype.modulo=le.prototype.gb;le.prototype.compare=le.prototype.X;le.prototype.toNumber=le.prototype.ea;le.prototype.toString=le.prototype.toString;le.prototype.getBits=le.prototype.D;le.fromNumber=It;le.fromString=am;var vC=function(){return new eo},_C=function(){return ko()},ja=No,wC=Ap,TC=Xn,Td={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fr=Sp,EC=xe,xC=Et,us=le;const Ed="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new jl("@firebase/firestore");function js(){return zn.logLevel}function F(t,...e){if(zn.logLevel<=ie.DEBUG){const n=e.map(Sc);zn.debug(`Firestore (${Ps}): ${t}`,...n)}}function Yt(t,...e){if(zn.logLevel<=ie.ERROR){const n=e.map(Sc);zn.error(`Firestore (${Ps}): ${t}`,...n)}}function gs(t,...e){if(zn.logLevel<=ie.WARN){const n=e.map(Sc);zn.warn(`Firestore (${Ps}): ${t}`,...n)}}function Sc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t="Unexpected state"){const e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+t;throw Yt(e),new Error(e)}function he(t,e){t||H()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}}class SC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IC{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const i=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let r=new $t;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new $t,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new $t)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(he(typeof s.accessToken=="string"),new lm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new qe(e)}}class CC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new CC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=r=>{r.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?i(r):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new RC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=kC(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%e.length))}return s}}function ae(t,e){return t<e?-1:t>e?1:0}function ys(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ke(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new ke(0,0))}static max(){return new Q(new ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&H(),s===void 0?s=e.length-n:s>e.length-n&&H(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=e.get(i),o=n.get(i);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends xi{construct(e,n,s){return new ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new U(R.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ue extends xi{construct(e,n,s){return new Ue(e,n,s)}static isValidIdentifier(e){return NC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ue.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ue(["__name__"])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new U(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ue(n)}static emptyPath(){return new Ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(ge.fromString(e))}static fromName(e){return new G(ge.fromString(e).popFirst(5))}static empty(){return new G(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new ge(e.slice()))}}function OC(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(s===1e9?new ke(n+1,0):new ke(n,s));return new gn(i,G.empty(),e)}function DC(t){return new gn(t.readTime,t.key,-1)}class gn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gn(Q.min(),G.empty(),-1)}static max(){return new gn(Q.max(),G.empty(),-1)}}function LC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==MC)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,s)=>{n(e)})}static reject(e){return new P((n,s)=>{s(e)})}static waitFor(e){return new P((n,s)=>{let i=0,r=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},l=>s(l))}),o=!0,r===i&&n()})}static or(e){let n=P.resolve(!1);for(const s of e)n=n.next(i=>i?P.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new P((s,i)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===r&&s(o)},d=>i(d))}})}static doWhile(e,n){return new P((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function $i(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.se(s),this.oe=s=>n.writeSequenceNumber(s))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ic._e=-1;function Bo(t){return t==null}function so(t){return t===0&&1/t==-1/0}function VC(t){return typeof t=="number"&&Number.isInteger(t)&&!so(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function um(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.comparator=e,this.root=n||Ve.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pr(this.root,e,this.comparator,!1)}getReverseIterator(){return new pr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pr(this.root,e,this.comparator,!0)}}class pr{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ve{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??Ve.RED,this.left=i??Ve.EMPTY,this.right=r??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new Ve(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ve.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,n,s,i,r){return this}insert(e,n,s){return new Ve(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ad(this.data.getIterator())}getIteratorFrom(e){return new Ad(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class Ad{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.fields=e,e.sort(Ue.comparator)}static empty(){return new ct([])}unionWith(e){let n=new Ge(Ue.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ct(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new dm("Invalid base64 string: "+r):r}}(e);return new Ye(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ye(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const FC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yn(t){if(he(!!t),typeof t=="string"){let e=0;const n=FC.exec(t);if(he(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qn(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bc(t){const e=t.mapValue.fields.__previous_value__;return Cc(e)?bc(e):e}function Ai(t){const e=yn(t.mapValue.fields.__local_write_time__.timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,s,i,r,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Si{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Si("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Si&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cc(t)?4:BC(t)?9007199254740991:10:H()}function Dt(t,e){if(t===e)return!0;const n=Hn(t);if(n!==Hn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ai(t).isEqual(Ai(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=yn(i.timestampValue),a=yn(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return qn(i.bytesValue).isEqual(qn(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Re(i.geoPointValue.latitude)===Re(r.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Re(i.integerValue)===Re(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Re(i.doubleValue),a=Re(r.doubleValue);return o===a?so(o)===so(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],Dt);case 10:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(xd(o)!==xd(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dt(o[l],a[l])))return!1;return!0}(t,e);default:return H()}}function Ii(t,e){return(t.values||[]).find(n=>Dt(n,e))!==void 0}function vs(t,e){if(t===e)return 0;const n=Hn(t),s=Hn(e);if(n!==s)return ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=Re(r.integerValue||r.doubleValue),l=Re(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Sd(t.timestampValue,e.timestampValue);case 4:return Sd(Ai(t),Ai(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(r,o){const a=qn(r),l=qn(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ae(a[u],l[u]);if(d!==0)return d}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=ae(Re(r.latitude),Re(o.latitude));return a!==0?a:ae(Re(r.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=vs(a[u],l[u]);if(d)return d}return ae(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===mr.mapValue&&o===mr.mapValue)return 0;if(r===mr.mapValue)return 1;if(o===mr.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ae(l[h],d[h]);if(p!==0)return p;const f=vs(a[l[h]],u[d[h]]);if(f!==0)return f}return ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw H()}}function Sd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=yn(t),s=yn(e),i=ae(n.seconds,s.seconds);return i!==0?i:ae(n.nanos,s.nanos)}function _s(t){return vl(t)}function vl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=yn(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=vl(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${vl(n.fields[o])}`;return i+"}"}(t.mapValue):H()}function _l(t){return!!t&&"integerValue"in t}function Rc(t){return!!t&&"arrayValue"in t}function Id(t){return!!t&&"nullValue"in t}function Cd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cr(t){return!!t&&"mapValue"in t}function si(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jn(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=si(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=si(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.value=e}static empty(){return new it({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Cr(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=si(n)}setAll(e){let n=Ue.emptyPath(),s={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=si(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Cr(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Cr(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Jn(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new it(si(this.value))}}function hm(t){const e=[];return Jn(t.fields,(n,s)=>{const i=new Ue([n]);if(Cr(s)){const r=hm(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new ct(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n,s,i,r,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new He(e,0,Q.min(),Q.min(),Q.min(),it.empty(),0)}static newFoundDocument(e,n,s,i){return new He(e,1,n,Q.min(),s,i,0)}static newNoDocument(e,n){return new He(e,2,n,Q.min(),Q.min(),it.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,Q.min(),Q.min(),it.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=it.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=it.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.position=e,this.inclusive=n}}function bd(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=G.comparator(G.fromName(o.referenceValue),n.key):s=vs(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n="asc"){this.field=e,this.dir=n}}function GC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{}class Pe extends fm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new qC(e,n,s):n==="array-contains"?new WC(e,s):n==="in"?new QC(e,s):n==="not-in"?new KC(e,s):n==="array-contains-any"?new XC(e,s):new Pe(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new HC(e,s):new $C(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vs(n,this.value)):n!==null&&Hn(this.value)===Hn(n)&&this.matchesComparison(vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lt extends fm{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Lt(e,n)}matches(e){return pm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pm(t){return t.op==="and"}function mm(t){return zC(t)&&pm(t)}function zC(t){for(const e of t.filters)if(e instanceof Lt)return!1;return!0}function wl(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+_s(t.value);if(mm(t))return t.filters.map(e=>wl(e)).join(",");{const e=t.filters.map(n=>wl(n)).join(",");return`${t.op}(${e})`}}function gm(t,e){return t instanceof Pe?function(s,i){return i instanceof Pe&&s.op===i.op&&s.field.isEqual(i.field)&&Dt(s.value,i.value)}(t,e):t instanceof Lt?function(s,i){return i instanceof Lt&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,a)=>r&&gm(o,i.filters[a]),!0):!1}(t,e):void H()}function ym(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`}(t):t instanceof Lt?function(n){return n.op.toString()+" {"+n.getFilters().map(ym).join(" ,")+"}"}(t):"Filter"}class qC extends Pe{constructor(e,n,s){super(e,n,s),this.key=G.fromName(s.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class HC extends Pe{constructor(e,n){super(e,"in",n),this.keys=vm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $C extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=vm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>G.fromName(s.referenceValue))}class WC extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rc(n)&&Ii(n.arrayValue,this.value)}}class QC extends Pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ii(this.value.arrayValue,n)}}class KC extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ii(this.value.arrayValue,n)}}class XC extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ii(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n=null,s=[],i=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.ce=null}}function Pd(t,e=null,n=[],s=[],i=null,r=null,o=null){return new JC(t,e,n,s,i,r,o)}function Pc(t){const e=Y(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>wl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Bo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_s(s)).join(",")),e.ce=n}return e.ce}function kc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rd(t.startAt,e.startAt)&&Rd(t.endAt,e.endAt)}function Tl(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,s=[],i=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function YC(t,e,n,s,i,r,o,a){return new Go(t,e,n,s,i,r,o,a)}function Nc(t){return new Go(t)}function kd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZC(t){return t.collectionGroup!==null}function ii(t){const e=Y(t);if(e.le===null){e.le=[];const n=new Set;for(const r of e.explicitOrderBy)e.le.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(Ue.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.le.push(new ro(r,s))}),n.has(Ue.keyField().canonicalString())||e.le.push(new ro(Ue.keyField(),s))}return e.le}function kt(t){const e=Y(t);return e.he||(e.he=eb(e,ii(t))),e.he}function eb(t,e){if(t.limitType==="F")return Pd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new ro(i.field,r)});const n=t.endAt?new io(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new io(t.startAt.position,t.startAt.inclusive):null;return Pd(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function El(t,e,n){return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zo(t,e){return kc(kt(t),kt(e))&&t.limitType===e.limitType}function _m(t){return`${Pc(kt(t))}|lt:${t.limitType}`}function es(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>ym(i)).join(", ")}]`),Bo(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>_s(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>_s(i)).join(",")),`Target(${s})`}(kt(t))}; limitType=${t.limitType})`}function qo(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):G.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of ii(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,a,l){const u=bd(o,a,l);return o.inclusive?u<=0:u<0}(s.startAt,ii(s),i)||s.endAt&&!function(o,a,l){const u=bd(o,a,l);return o.inclusive?u>=0:u>0}(s.endAt,ii(s),i))}(t,e)}function tb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wm(t){return(e,n)=>{let s=!1;for(const i of ii(t)){const r=nb(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function nb(t,e,n){const s=t.field.isKeyField()?G.comparator(e.key,n.key):function(r,o,a){const l=o.data.field(r),u=a.data.field(r);return l!==null&&u!==null?vs(l,u):H()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return H()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jn(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return um(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Te(G.comparator);function Zt(){return sb}const Tm=new Te(G.comparator);function qs(...t){let e=Tm;for(const n of t)e=e.insert(n.key,n);return e}function Em(t){let e=Tm;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function kn(){return ri()}function xm(){return ri()}function ri(){return new ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const ib=new Te(G.comparator),rb=new Ge(G.comparator);function ne(...t){let e=rb;for(const n of t)e=e.add(n);return e}const ob=new Ge(ae);function ab(){return ob}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:so(e)?"-0":e}}function Sm(t){return{integerValue:""+t}}function lb(t,e){return VC(e)?Sm(e):Am(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this._=void 0}}function cb(t,e,n){return t instanceof Ci?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Cc(r)&&(r=bc(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,e):t instanceof bi?Cm(t,e):t instanceof Ri?bm(t,e):function(i,r){const o=Im(i,r),a=Nd(o)+Nd(i.Ie);return _l(o)&&_l(i.Ie)?Sm(a):Am(i.serializer,a)}(t,e)}function ub(t,e,n){return t instanceof bi?Cm(t,e):t instanceof Ri?bm(t,e):n}function Im(t,e){return t instanceof oo?function(s){return _l(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Ci extends Ho{}class bi extends Ho{constructor(e){super(),this.elements=e}}function Cm(t,e){const n=Rm(e);for(const s of t.elements)n.some(i=>Dt(i,s))||n.push(s);return{arrayValue:{values:n}}}class Ri extends Ho{constructor(e){super(),this.elements=e}}function bm(t,e){let n=Rm(e);for(const s of t.elements)n=n.filter(i=>!Dt(i,s));return{arrayValue:{values:n}}}class oo extends Ho{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Nd(t){return Re(t.integerValue||t.doubleValue)}function Rm(t){return Rc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.field=e,this.transform=n}}function hb(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof bi&&i instanceof bi||s instanceof Ri&&i instanceof Ri?ys(s.elements,i.elements,Dt):s instanceof oo&&i instanceof oo?Dt(s.Ie,i.Ie):s instanceof Ci&&i instanceof Ci}(t.transform,e.transform)}class fb{constructor(e,n){this.version=e,this.transformResults=n}}class wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wt}static exists(e){return new wt(void 0,e)}static updateTime(e){return new wt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function br(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $o{}function Pm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oc(t.key,wt.none()):new Wi(t.key,t.data,wt.none());{const n=t.data,s=it.empty();let i=new Ge(Ue.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new xn(t.key,s,new ct(i.toArray()),wt.none())}}function pb(t,e,n){t instanceof Wi?function(i,r,o){const a=i.value.clone(),l=Dd(i.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xn?function(i,r,o){if(!br(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=Dd(i.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(km(i)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function oi(t,e,n,s){return t instanceof Wi?function(r,o,a,l){if(!br(r.precondition,o))return a;const u=r.value.clone(),d=Ld(r.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof xn?function(r,o,a,l){if(!br(r.precondition,o))return a;const u=Ld(r.fieldTransforms,l,o),d=o.data;return d.setAll(km(r)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(r,o,a){return br(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function mb(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=Im(s.transform,i||null);r!=null&&(n===null&&(n=it.empty()),n.set(s.field,r))}return n||null}function Od(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&ys(s,i,(r,o)=>hb(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wi extends $o{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xn extends $o{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function km(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Dd(t,e,n){const s=new Map;he(t.length===n.length);for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,a=e.data.field(r.field);s.set(r.field,ub(o,a,n[i]))}return s}function Ld(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,cb(r,o,e))}return s}class Oc extends $o{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gb extends $o{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&pb(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=oi(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=oi(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xm();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const l=Pm(o,a);l!==null&&s.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(n,s)=>Od(n,s))&&ys(this.baseMutations,e.baseMutations,(n,s)=>Od(n,s))}}class Dc{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){he(e.mutations.length===s.length);let i=function(){return ib}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Dc(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,re;function wb(t){switch(t){default:return H();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function Nm(t){if(t===void 0)return Yt("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ie.OK:return R.OK;case Ie.CANCELLED:return R.CANCELLED;case Ie.UNKNOWN:return R.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return R.INTERNAL;case Ie.UNAVAILABLE:return R.UNAVAILABLE;case Ie.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ie.NOT_FOUND:return R.NOT_FOUND;case Ie.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ie.ABORTED:return R.ABORTED;case Ie.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ie.DATA_LOSS:return R.DATA_LOSS;default:return H()}}(re=Ie||(Ie={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new us([4294967295,4294967295],0);function Md(t){const e=Tb().encode(t),n=new xC;return n.update(e),new Uint8Array(n.digest())}function jd(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new us([n,s],0),new us([i,r],0)]}class Lc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hs(`Invalid padding: ${n}`);if(s<0)throw new Hs(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hs(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=us.fromNumber(this.Te)}de(e,n,s){let i=e.add(n.multiply(us.fromNumber(s)));return i.compare(Eb)===1&&(i=new us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Md(e),[s,i]=jd(n);for(let r=0;r<this.hashCount;r++){const o=this.de(s,i,r);if(!this.Ae(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Lc(r,i,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Md(e),[s,i]=jd(n);for(let r=0;r<this.hashCount;r++){const o=this.de(s,i,r);this.Re(o)}}Re(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Qi.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wo(Q.min(),i,new Te(ae),Zt(),ne())}}class Qi{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Qi(s,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,s,i){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=i}}class Om{constructor(e,n){this.targetId=e,this.fe=n}}class Dm{constructor(e,n,s=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class Vd{constructor(){this.ge=0,this.pe=Ud(),this.ye=Ye.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),s=ne();return this.pe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:H()}}),new Qi(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=Ud()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,he(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class xb{constructor(e){this.Le=e,this.ke=new Map,this.qe=Zt(),this.Qe=Fd(),this.Ke=new Te(ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,s=e.fe.count,i=this.Ye(n);if(i){const r=i.target;if(Tl(r))if(s===0){const o=new G(r.path);this.We(n,o,He.newNoDocument(o,Q.min()))}else he(s===1);else{const o=this.Ze(n);if(o!==s){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,a;try{o=qn(s).toUint8Array()}catch(l){if(l instanceof dm)return gs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Lc(o,i,r)}catch(l){return gs(l instanceof Hs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.We(n,r,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((r,o)=>{const a=this.Ye(o);if(a){if(r.current&&Tl(a.target)){const l=new G(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,He.newNoDocument(l,e))}r.De&&(n.set(o,r.ve()),r.Fe())}});let s=ne();this.Qe.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(r))}),this.qe.forEach((r,o)=>o.setReadTime(e));const i=new Wo(e,n,this.Ke,this.qe,s);return this.qe=Zt(),this.Qe=Fd(),this.Ke=new Te(ae),i}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Vd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ge(ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Vd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Fd(){return new Te(G.comparator)}function Ud(){return new Te(G.comparator)}const Ab={asc:"ASCENDING",desc:"DESCENDING"},Sb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ib={and:"AND",or:"OR"};class Cb{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xl(t,e){return t.useProto3Json||Bo(e)?e:{value:e}}function ao(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bb(t,e){return ao(t,e.toTimestamp())}function Nt(t){return he(!!t),Q.fromTimestamp(function(n){const s=yn(n);return new ke(s.seconds,s.nanos)}(t))}function Mc(t,e){return function(s){return new ge(["projects",s.projectId,"databases",s.database])}(t).child("documents").child(e).canonicalString()}function Mm(t){const e=ge.fromString(t);return he(Um(e)),e}function Al(t,e){return Mc(t.databaseId,e.path)}function Va(t,e){const n=Mm(e);if(n.get(1)!==t.databaseId.projectId)throw new U(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(jm(n))}function Sl(t,e){return Mc(t.databaseId,e)}function Rb(t){const e=Mm(t);return e.length===4?ge.emptyPath():jm(e)}function Il(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jm(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bd(t,e,n){return{name:Al(t,e),fields:n.value.mapValue.fields}}function Pb(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(u,d){return u.useProto3Json?(he(d===void 0||typeof d=="string"),Ye.fromBase64String(d||"")):(he(d===void 0||d instanceof Uint8Array),Ye.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?R.UNKNOWN:Nm(u.code);return new U(d,u.message||"")}(o);n=new Dm(s,i,r,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Va(t,s.document.name),r=Nt(s.document.updateTime),o=s.document.createTime?Nt(s.document.createTime):Q.min(),a=new it({mapValue:{fields:s.document.fields}}),l=He.newFoundDocument(i,r,o,a),u=s.targetIds||[],d=s.removedTargetIds||[];n=new Rr(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Va(t,s.document),r=s.readTime?Nt(s.readTime):Q.min(),o=He.newNoDocument(i,r),a=s.removedTargetIds||[];n=new Rr([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Va(t,s.document),r=s.removedTargetIds||[];n=new Rr([],r,i,null)}else{if(!("filter"in e))return H();{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new _b(i,r),a=s.targetId;n=new Om(a,o)}}return n}function kb(t,e){let n;if(e instanceof Wi)n={update:Bd(t,e.key,e.value)};else if(e instanceof Oc)n={delete:Al(t,e.key)};else if(e instanceof xn)n={update:Bd(t,e.key,e.data),updateMask:Ub(e.fieldMask)};else{if(!(e instanceof gb))return H();n={verify:Al(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const a=o.transform;if(a instanceof Ci)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ri)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oo)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw H()}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:bb(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:H()}(t,e.precondition)),n}function Nb(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(i,r){let o=i.updateTime?Nt(i.updateTime):Nt(r);return o.isEqual(Q.min())&&(o=Nt(r)),new fb(o,i.transformResults||[])}(n,e))):[]}function Ob(t,e){return{documents:[Sl(t,e.path)]}}function Db(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Sl(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sl(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const i=function(l){if(l.length!==0)return Fm(Lt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const r=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ts(h.field),direction:jb(h.dir)}}(u))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=xl(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Lb(t){let e=Rb(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){he(s===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(h){const p=Vm(h);return p instanceof Lt&&mm(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(m){return new ro(ns(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Bo(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new io(f,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,f=h.values||[];return new io(f,p)}(n.endAt)),YC(e,i,o,r,a,"F",l,u)}function Mb(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vm(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ns(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=ns(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ns(n.unaryFilter.field);return Pe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ns(n.unaryFilter.field);return Pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lt.create(n.compositeFilter.filters.map(s=>Vm(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H()}}(n.compositeFilter.op))}(t):H()}function jb(t){return Ab[t]}function Vb(t){return Sb[t]}function Fb(t){return Ib[t]}function ts(t){return{fieldPath:t.canonicalString()}}function ns(t){return Ue.fromServerFormat(t.fieldPath)}function Fm(t){return t instanceof Pe?function(n){if(n.op==="=="){if(Cd(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(Id(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cd(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(Id(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:Vb(n.op),value:n.value}}}(t):t instanceof Lt?function(n){const s=n.getFilters().map(i=>Fm(i));return s.length===1?s[0]:{compositeFilter:{op:Fb(n.op),filters:s}}}(t):H()}function Ub(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Um(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,s,i,r=Q.min(),o=Q.min(),a=Ye.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new dn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.ut=e}}function Gb(t){const e=Lb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?El(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.on=new qb}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(gn.min())}updateCollectionGroup(e,n,s){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class qb{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Ge(ge.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Ge(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ws(0)}static Nn(){return new ws(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?P.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&oi(s.mutation,i,ct.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ne()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ne()){const i=kn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=qs();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=kn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ne()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,i){let r=Zt();const o=ri(),a=function(){return ri()}();return n.forEach((l,u)=>{const d=s.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof xn)?r=r.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),oi(d.mutation,u,d.mutation.getFieldMask(),ke.now())):o.set(u.key,ct.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new $b(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=ri();let i=new Te((o,a)=>o-a),r=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=s.get(l)||ct.empty();d=a.applyToLocalView(u,d),s.set(l,d);const h=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=xm();d.forEach(p=>{if(!r.has(p)){const f=Pm(n.get(p),s.get(p));f!==null&&h.set(p,f),r=r.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return P.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):P.resolve(kn());let a=-1,l=r;return o.next(u=>P.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(d)?P.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,ne())).next(d=>({batchId:a,changes:Em(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(s=>{let i=qs();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=qs();return this.indexManager.getCollectionParents(e,r).next(a=>P.forEach(a,l=>{const u=function(h,p){return new Go(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,s,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,He.newInvalidDocument(d)))});let a=qs();return o.forEach((l,u)=>{const d=r.get(l);d!==void 0&&oi(d.mutation,u,ct.empty(),ke.now()),qo(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nt(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Gb(i.bundledQuery),readTime:Nt(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.overlays=new Te(G.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const s=kn();return P.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.lt(e,n,r)}),P.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.lr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.lr.delete(s)),P.resolve()}getOverlaysForCollection(e,n,s){const i=kn(),r=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Te((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=r.get(u.largestBatchId);d===null&&(d=kn(),r=r.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=kn(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(s.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new vb(n,s));let r=this.lr.get(n);r===void 0&&(r=ne(),this.lr.set(n,r)),this.lr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.hr=new Ge(Ne.Pr),this.Ir=new Ge(Ne.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new Ne(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new Ne(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new G(new ge([])),s=new Ne(n,e),i=new Ne(n,e+1),r=[];return this.Ir.forEachInRange([s,i],o=>{this.dr(o),r.push(o.key)}),r}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new G(new ge([])),s=new Ne(n,e),i=new Ne(n,e+1);let r=ne();return this.Ir.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Ne(e,0),s=this.hr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ne{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return G.comparator(e.key,n.key)||ae(e.gr,n.gr)}static Tr(e,n){return ae(e.gr,n.gr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ge(Ne.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yb(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ne(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.Sr(s),r=i<0?0:i;return P.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ne(n,0),i=new Ne(n,Number.POSITIVE_INFINITY),r=[];return this.yr.forEachInRange([s,i],o=>{const a=this.wr(o.gr);r.push(a)}),P.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ge(ae);return n.forEach(i=>{const r=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([r,o],a=>{s=s.add(a.gr)})}),P.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;G.isDocumentKey(r)||(r=r.child(""));const o=new Ne(new G(r),0);let a=new Ge(ae);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!s.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(s=>{const i=this.wr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.yr;return P.forEach(n.mutations,i=>{const r=new Ne(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new Ne(n,0),i=this.yr.firstAfterOrEqual(s);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.Cr=e,this.docs=function(){return new Te(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return P.resolve(s?s.document.mutableCopy():He.newInvalidDocument(n))}getEntries(e,n){let s=Zt();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():He.newInvalidDocument(i))}),P.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Zt();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||LC(DC(d),s)<=0||(i.has(d.key)||qo(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return P.resolve(r)}getAllFromCollectionGroup(e,n,s,i){H()}vr(e,n){return P.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Yb(this)}getSize(e){return P.resolve(this.size)}}class Yb extends Hb{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(s)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.persistence=e,this.Fr=new ks(n=>Pc(n),kc),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new jc,this.targetCount=0,this.Nr=ws.On()}forEachTarget(e,n){return this.Fr.forEach((s,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ws(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Fr.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(r).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return P.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),P.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return P.resolve(s)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ic(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Zb(this),this.indexManager=new zb,this.remoteDocumentCache=function(i){return new Jb(i)}(s=>this.referenceDelegate.Qr(s)),this.serializer=new Bb(n),this.Kr=new Qb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Xb(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){F("MemoryPersistence","Starting transaction:",e);const i=new tR(this.Lr.next());return this.referenceDelegate.$r(),s(i).next(r=>this.referenceDelegate.Ur(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Wr(e,n){return P.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class tR extends jC{constructor(e){super(),this.currentSequenceNumber=e}}class Vc{constructor(e){this.persistence=e,this.Gr=new jc,this.zr=null}static jr(e){return new Vc(e)}get Hr(){if(this.zr)return this.zr;throw H()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),P.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.Hr.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,s=>{const i=G.fromPath(s);return this.Jr(e,i).next(r=>{r||n.removeEntry(i,Q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=i}static Qi(e,n){let s=ne(),i=ne();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Fc(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.zi(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ji(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new nR;return this.Hi(e,n,o).next(a=>{if(r.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>r.result)}Ji(e,n,s,i){return s.documentReadCount<this.Ui?(js()<=ie.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(js()<=ie.DEBUG&&F("QueryEngine","Query:",es(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.Wi*i?(js()<=ie.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kt(n))):P.resolve())}zi(e,n){if(kd(n))return P.resolve(null);let s=kt(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=El(n,null,"F"),s=kt(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=ne(...r);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,El(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,s,i){return kd(n)||i.isEqual(Q.min())?P.resolve(null):this.Gi.getDocuments(e,s).next(r=>{const o=this.Yi(n,r);return this.Zi(n,o,s,i)?P.resolve(null):(js()<=ie.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(n)),this.Xi(e,o,n,OC(i,-1)).next(a=>a))})}Yi(e,n){let s=new Ge(wm(e));return n.forEach((i,r)=>{qo(e,r)&&(s=s.add(r))}),s}Zi(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Hi(e,n,s){return js()<=ie.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",es(n)),this.Gi.getDocumentsMatchingQuery(e,n,gn.min(),s)}Xi(e,n,s,i){return this.Gi.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,s,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Te(ae),this.ns=new ks(r=>Pc(r),kc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wb(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function rR(t,e,n,s){return new iR(t,e,n,s)}async function Bm(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of r){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(s,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function oR(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let f=P.resolve();return p.forEach(m=>{f=f.next(()=>d.getEntry(l,m)).next(g=>{const y=u.docVersions.get(m);he(y!==null),g.version.compareTo(y)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let l=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function Gm(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function aR(t,e){const n=Y(t),s=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.qr.removeMatchingKeys(r,d.removedDocuments,h).next(()=>n.qr.addMatchingKeys(r,d.addedDocuments,h)));let f=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Ye.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,s)),i=i.insert(h,f),function(g,y,v){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,f,d)&&a.push(n.qr.updateTargetData(r,f))});let l=Zt(),u=ne();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),a.push(lR(r,o,e.documentUpdates).next(d=>{l=d.us,u=d.cs})),!s.isEqual(Q.min())){const d=n.qr.getLastRemoteSnapshotVersion(r).next(h=>n.qr.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(d)}return P.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.ts=i,r))}function lR(t,e,n){let s=ne(),i=ne();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Zt();return n.forEach((a,l)=>{const u=r.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function cR(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uR(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.qr.getTargetData(s,e).next(r=>r?(i=r,P.resolve(i)):n.qr.allocateTargetId(s).next(o=>(i=new dn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.ts.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}async function Cl(t,e,n){const s=Y(t),i=s.ts.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$i(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.ts=s.ts.remove(e),s.ns.delete(i.target)}function Gd(t,e,n){const s=Y(t);let i=Q.min(),r=ne();return s.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Y(l),p=h.ns.get(d);return p!==void 0?P.resolve(h.ts.get(p)):h.qr.getTargetData(u,d)}(s,o,kt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>s.es.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?r:ne())).next(a=>(dR(s,tb(e),a),{documents:a,ls:r})))}function dR(t,e,n){let s=t.rs.get(e)||Q.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.rs.set(e,s)}class zd{constructor(){this.activeTargetIds=ab()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hR{constructor(){this.eo=new zd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new zd,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr=null;function Fa(){return gr===null?gr=function(){return 268435456+Math.round(2147483648*Math.random())}():gr++,"0x"+gr.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze="WebChannelConnection";class gR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${i}/databases/${r}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${r}`}get yo(){return!1}wo(n,s,i,r,o){const a=Fa(),l=this.So(n,s);F("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,r,o),this.Do(n,l,u,i).then(d=>(F("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw gs("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(n,s,i,r,o,a){return this.wo(n,s,i,r,o)}bo(n,s,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((r,o)=>n[o]=r),i&&i.headers.forEach((r,o)=>n[o]=r)}So(n,s){const i=pR[n];return`${this.mo}/v1/${s}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,i){const r=Fa();return new Promise((o,a)=>{const l=new EC;l.setWithCredentials(!0),l.listenOnce(wC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ja.NO_ERROR:const d=l.getResponseJson();F(ze,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(d)),o(d);break;case ja.TIMEOUT:F(ze,`RPC '${e}' ${r} timed out`),a(new U(R.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const h=l.getStatus();if(F(ze,`RPC '${e}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const m=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(v)>=0?v:R.UNKNOWN}(f.status);a(new U(m,f.message))}else a(new U(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(R.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{F(ze,`RPC '${e}' ${r} completed.`)}});const u=JSON.stringify(i);F(ze,`RPC '${e}' ${r} sending request:`,i),l.send(n,"POST",u,s,15)})}vo(e,n,s){const i=Fa(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vC(),a=_C(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const d=r.join("");F(ze,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,f=!1;const m=new mR({co:y=>{f?F(ze,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(p||(F(ze,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),F(ze,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},lo:()=>h.close()}),g=(y,v,E)=>{y.listen(v,w=>{try{E(w)}catch(T){setTimeout(()=>{throw T},0)}})};return g(h,fr.EventType.OPEN,()=>{f||F(ze,`RPC '${e}' stream ${i} transport opened.`)}),g(h,fr.EventType.CLOSE,()=>{f||(f=!0,F(ze,`RPC '${e}' stream ${i} transport closed`),m.Ro())}),g(h,fr.EventType.ERROR,y=>{f||(f=!0,gs(ze,`RPC '${e}' stream ${i} transport errored:`,y),m.Ro(new U(R.UNAVAILABLE,"The operation could not be completed")))}),g(h,fr.EventType.MESSAGE,y=>{var v;if(!f){const E=y.data[0];he(!!E);const w=E,T=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(T){F(ze,`RPC '${e}' stream ${i} received error:`,T);const A=T.status;let C=function(b){const I=Ie[b];if(I!==void 0)return Nm(I)}(A),j=T.message;C===void 0&&(C=R.INTERNAL,j="Unknown error status: "+A+" with message "+T.message),f=!0,m.Ro(new U(C,j)),h.close()}else F(ze,`RPC '${e}' stream ${i} received:`,E),m.Vo(E)}}),g(a,TC.STAT_EVENT,y=>{y.stat===Td.PROXY?F(ze,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Td.NOPROXY&&F(ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function Ua(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return new Cb(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,s=1e3,i=1.5,r=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=i,this.xo=r,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-s);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,s,i,r,o,a,l){this.si=e,this.Ko=s,this.$o=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new zm(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.Uo===n&&this.s_(s,i)},s=>{e(()=>{const i=new U(R.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(i)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{s(()=>this.o_(i))}),this.stream.onMessage(i=>{s(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yR extends qm{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Pb(this.serializer,e),s=function(r){if(!("targetChange"in r))return Q.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Nt(o.readTime):Q.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Il(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=Tl(l)?{documents:Ob(r,l)}:{query:Db(r,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Lm(r,o.resumeToken);const u=xl(r,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=ao(r,o.snapshotVersion.toTimestamp());const u=xl(r,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const s=Mb(this.serializer,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Il(this.serializer),n.removeTarget=e,this.e_(n)}}class vR extends qm{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Nb(e.writeResults,e.commitTime),s=Nt(e.commitTime);return this.listener.I_(s,n)}return he(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Il(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>kb(this.serializer,s))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.wo(e,n,s,i,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(R.UNKNOWN,i.toString())})}Co(e,n,s,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Co(e,n,s,r,o,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new U(R.UNKNOWN,r.toString())})}terminate(){this.d_=!0}}class wR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yt(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=r,this.F_.ro(o=>{s.enqueueAndForget(async()=>{Yn(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Y(l);u.C_.add(4),await Ki(u),u.M_.set("Unknown"),u.C_.delete(4),await Ko(u)}(this))})}),this.M_=new wR(s,i)}}async function Ko(t){if(Yn(t))for(const e of t.v_)await e(!0)}async function Ki(t){for(const e of t.v_)await e(!1)}function Hm(t,e){const n=Y(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Gc(n)?Bc(n):Ns(n).Ho()&&Uc(n,e))}function $m(t,e){const n=Y(t),s=Ns(n);n.D_.delete(e),s.Ho()&&Wm(n,e),n.D_.size===0&&(s.Ho()?s.Zo():Yn(n)&&n.M_.set("Unknown"))}function Uc(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ns(t).u_(e)}function Wm(t,e){t.x_.Oe(e),Ns(t).c_(e)}function Bc(t){t.x_=new xb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ns(t).start(),t.M_.g_()}function Gc(t){return Yn(t)&&!Ns(t).jo()&&t.D_.size>0}function Yn(t){return Y(t).C_.size===0}function Qm(t){t.x_=void 0}async function ER(t){t.D_.forEach((e,n)=>{Uc(t,e)})}async function xR(t,e){Qm(t),Gc(t)?(t.M_.w_(e),Bc(t)):t.M_.set("Unknown")}async function AR(t,e,n){if(t.M_.set("Online"),e instanceof Dm&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const a of r.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(s){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lo(t,s)}else if(e instanceof Rr?t.x_.$e(e):e instanceof Om?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Q.min()))try{const s=await Gm(t.localStore);n.compareTo(s)>=0&&await function(r,o){const a=r.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=r.D_.get(u);d&&r.D_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=r.D_.get(l);if(!d)return;r.D_.set(l,d.withResumeToken(Ye.EMPTY_BYTE_STRING,d.snapshotVersion)),Wm(r,l);const h=new dn(d.target,l,u,d.sequenceNumber);Uc(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){F("RemoteStore","Failed to raise snapshot:",s),await lo(t,s)}}async function lo(t,e,n){if(!$i(e))throw e;t.C_.add(1),await Ki(t),t.M_.set("Offline"),n||(n=()=>Gm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Ko(t)})}function Km(t,e){return e().catch(n=>lo(t,n,e))}async function Xo(t){const e=Y(t),n=vn(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;SR(e);)try{const i=await cR(e.localStore,s);if(i===null){e.b_.length===0&&n.Zo();break}s=i.batchId,IR(e,i)}catch(i){await lo(e,i)}Xm(e)&&Jm(e)}function SR(t){return Yn(t)&&t.b_.length<10}function IR(t,e){t.b_.push(e);const n=vn(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Xm(t){return Yn(t)&&!vn(t).jo()&&t.b_.length>0}function Jm(t){vn(t).start()}async function CR(t){vn(t).E_()}async function bR(t){const e=vn(t);for(const n of t.b_)e.P_(n.mutations)}async function RR(t,e,n){const s=t.b_.shift(),i=Dc.from(s,e,n);await Km(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xo(t)}async function PR(t,e){e&&vn(t).h_&&await async function(s,i){if(function(o){return wb(o)&&o!==R.ABORTED}(i.code)){const r=s.b_.shift();vn(s).Yo(),await Km(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Xo(s)}}(t,e),Xm(t)&&Jm(t)}async function Hd(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const s=Yn(n);n.C_.add(3),await Ki(n),s&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Ko(n)}async function kR(t,e){const n=Y(t);e?(n.C_.delete(2),await Ko(n)):e||(n.C_.add(2),await Ki(n),n.M_.set("Unknown"))}function Ns(t){return t.O_||(t.O_=function(n,s,i){const r=Y(n);return r.A_(),new yR(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{ho:ER.bind(null,t),Io:xR.bind(null,t),a_:AR.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Gc(t)?Bc(t):t.M_.set("Unknown")):(await t.O_.stop(),Qm(t))})),t.O_}function vn(t){return t.N_||(t.N_=function(n,s,i){const r=Y(n);return r.A_(),new vR(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{ho:CR.bind(null,t),Io:PR.bind(null,t),T_:bR.bind(null,t),I_:RR.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Xo(t)):(await t.N_.stop(),t.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new $t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,a=new zc(e,n,o,i,r);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qc(t,e){if(Yt("AsyncQueue",`${e}: ${t}`),$i(t))return new U(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.comparator=e?(n,s)=>e(n,s)||G.comparator(n.key,s.key):(n,s)=>G.comparator(n.key,s.key),this.keyedMap=qs(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new ds(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.B_=new Te(G.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?e.type!==0&&s.type===3?this.B_=this.B_.insert(n,e):e.type===3&&s.type!==1?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.B_=this.B_.remove(n):e.type===1&&s.type===2?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):H():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ts{constructor(e,n,s,i,r,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ts(e,n,ds.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.k_=void 0,this.listeners=[]}}class OR{constructor(){this.queries=new ks(e=>_m(e),zo),this.onlineState="Unknown",this.q_=new Set}}async function Ym(t,e){const n=Y(t),s=e.query;let i=!1,r=n.queries.get(s);if(r||(i=!0,r=new NR),i)try{r.k_=await n.onListen(s)}catch(o){const a=qc(o,`Initialization of query '${es(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,r),r.listeners.push(e),e.Q_(n.onlineState),r.k_&&e.K_(r.k_)&&Hc(n)}async function Zm(t,e){const n=Y(t),s=e.query;let i=!1;const r=n.queries.get(s);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),i=r.listeners.length===0)}if(i)return n.queries.delete(s),n.onUnlisten(s)}function DR(t,e){const n=Y(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.K_(i)&&(s=!0);o.k_=i}}s&&Hc(n)}function LR(t,e,n){const s=Y(t),i=s.queries.get(e);if(i)for(const r of i.listeners)r.onError(n);s.queries.delete(e)}function Hc(t){t.q_.forEach(e=>{e.next()})}class eg{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Ts(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.J_||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.key=e}}class ng{constructor(e){this.key=e}}class MR{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ne(),this.mutatedKeys=ne(),this._a=wm(e),this.aa=new ds(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new $d,i=n?n.aa:this.aa;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),f=qo(this.query,h)?h:null,m=!!p&&this.mutatedKeys.has(p.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;p&&f?p.data.isEqual(f.data)?m!==g&&(s.track({type:3,doc:f}),y=!0):this.ha(p,f)||(s.track({type:2,doc:f}),y=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!p&&f?(s.track({type:0,doc:f}),y=!0):p&&!f&&(s.track({type:1,doc:p}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),r=g?r.add(d):r.delete(d)):(o=o.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),r=r.delete(d.key),s.track({type:1,doc:d})}return{aa:o,la:s,Zi:a,mutatedKeys:r}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(f,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return g(f)-g(m)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(s),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new Ts(this.query,e.aa,r,o,e.mutatedKeys,l===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new $d,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ne(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new ng(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new tg(s))}),n}da(e){this.ia=e.ls,this.oa=ne();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ts.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class jR{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class VR{constructor(e){this.key=e,this.Ra=!1}}class FR{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ks(a=>_m(a),zo),this.fa=new Map,this.ga=new Set,this.pa=new Te(G.comparator),this.ya=new Map,this.wa=new jc,this.Sa={},this.ba=new Map,this.Da=ws.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function UR(t,e){const n=XR(t);let s,i;const r=n.ma.get(e);if(r)s=r.targetId,n.sharedClientState.addLocalQueryTarget(s),i=r.view.Aa();else{const o=await uR(n.localStore,kt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,i=await BR(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&Hm(n.remoteStore,o)}return i}async function BR(t,e,n,s,i){t.va=(h,p,f)=>async function(g,y,v,E){let w=y.view.ca(v);w.Zi&&(w=await Gd(g.localStore,y.query,!1).then(({documents:j})=>y.view.ca(j,w)));const T=E&&E.targetChanges.get(y.targetId),A=E&&E.targetMismatches.get(y.targetId)!=null,C=y.view.applyChanges(w,g.isPrimaryClient,T,A);return Qd(g,y.targetId,C.Ta),C.snapshot}(t,h,p,f);const r=await Gd(t.localStore,e,!0),o=new MR(e,r.ls),a=o.ca(r.documents),l=Qi.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Qd(t,n,u.Ta);const d=new jR(e,n,o);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function GR(t,e){const n=Y(t),s=n.ma.get(e),i=n.fa.get(s.targetId);if(i.length>1)return n.fa.set(s.targetId,i.filter(r=>!zo(r,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Cl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),$m(n.remoteStore,s.targetId),bl(n,s.targetId)}).catch(Hi)):(bl(n,s.targetId),await Cl(n.localStore,s.targetId,!0))}async function zR(t,e,n){const s=JR(t);try{const i=await function(o,a){const l=Y(o),u=ke.now(),d=a.reduce((f,m)=>f.add(m.key),ne());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Zt(),g=ne();return l.ss.getEntries(f,d).next(y=>{m=y,m.forEach((v,E)=>{E.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(y=>{h=y;const v=[];for(const E of a){const w=mb(E,h.get(E.key).overlayedDocument);w!=null&&v.push(new xn(E.key,w,hm(w.value.mapValue),wt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,v,a)}).next(y=>{p=y;const v=y.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,y.batchId,v)})}).then(()=>({batchId:p.batchId,changes:Em(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Te(ae)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(s,i.batchId,n),await Xi(s,i.changes),await Xo(s.remoteStore)}catch(i){const r=qc(i,"Failed to persist write");n.reject(r)}}async function sg(t,e){const n=Y(t);try{const s=await aR(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.ya.get(r);o&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?he(o.Ra):i.removedDocuments.size>0&&(he(o.Ra),o.Ra=!1))}),await Xi(n,s,e)}catch(s){await Hi(s)}}function Wd(t,e,n){const s=Y(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.ma.forEach((r,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Y(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.listeners)p.Q_(a)&&(u=!0)}),u&&Hc(l)}(s.eventManager,e),i.length&&s.Va.a_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qR(t,e,n){const s=Y(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.ya.get(e),r=i&&i.key;if(r){let o=new Te(G.comparator);o=o.insert(r,He.newNoDocument(r,Q.min()));const a=ne().add(r),l=new Wo(Q.min(),new Map,new Te(ae),o,a);await sg(s,l),s.pa=s.pa.remove(r),s.ya.delete(e),$c(s)}else await Cl(s.localStore,e,!1).then(()=>bl(s,e,n)).catch(Hi)}async function HR(t,e){const n=Y(t),s=e.batch.batchId;try{const i=await oR(n.localStore,e);rg(n,s,null),ig(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Xi(n,i)}catch(i){await Hi(i)}}async function $R(t,e,n){const s=Y(t);try{const i=await function(o,a){const l=Y(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(he(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(s.localStore,e);rg(s,e,n),ig(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Xi(s,i)}catch(i){await Hi(i)}}function ig(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function rg(t,e,n){const s=Y(t);let i=s.Sa[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Sa[s.currentUser.toKey()]=i}}function bl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.fa.get(e))t.ma.delete(s),n&&t.Va.Fa(s,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(s=>{t.wa.containsKey(s)||og(t,s)})}function og(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&($m(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),$c(t))}function Qd(t,e,n){for(const s of n)s instanceof tg?(t.wa.addReference(s.key,e),WR(t,s)):s instanceof ng?(F("SyncEngine","Document no longer in limbo: "+s.key),t.wa.removeReference(s.key,e),t.wa.containsKey(s.key)||og(t,s.key)):H()}function WR(t,e){const n=e.key,s=n.path.canonicalString();t.pa.get(n)||t.ga.has(s)||(F("SyncEngine","New document in limbo: "+n),t.ga.add(s),$c(t))}function $c(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new G(ge.fromString(e)),s=t.Da.next();t.ya.set(s,new VR(n)),t.pa=t.pa.insert(n,s),Hm(t.remoteStore,new dn(kt(Nc(n.path)),s,"TargetPurposeLimboResolution",Ic._e))}}async function Xi(t,e,n){const s=Y(t),i=[],r=[],o=[];s.ma.isEmpty()||(s.ma.forEach((a,l)=>{o.push(s.va(l,e,n).then(u=>{if((u||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=Fc.Qi(l.targetId,u);r.push(d)}}))}),await Promise.all(o),s.Va.a_(i),await async function(l,u){const d=Y(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>P.forEach(u,p=>P.forEach(p.ki,f=>d.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>P.forEach(p.qi,f=>d.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!$i(h))throw h;F("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const f=d.ts.get(p),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);d.ts=d.ts.insert(p,g)}}}(s.localStore,r))}async function QR(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const s=await Bm(n.localStore,e);n.currentUser=e,function(r,o){r.ba.forEach(a=>{a.forEach(l=>{l.reject(new U(R.CANCELLED,o))})}),r.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Xi(n,s._s)}}function KR(t,e){const n=Y(t),s=n.ya.get(e);if(s&&s.Ra)return ne().add(s.key);{let i=ne();const r=n.fa.get(e);if(!r)return i;for(const o of r){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function XR(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qR.bind(null,e),e.Va.a_=DR.bind(null,e.eventManager),e.Va.Fa=LR.bind(null,e.eventManager),e}function JR(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,e),e}class Kd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qo(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rR(this.persistence,new sR,e.initialUser,this.serializer)}createPersistence(e){return new eR(Vc.jr,this.serializer)}createSharedClientState(e){return new hR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wd(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QR.bind(null,this.syncEngine),await kR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OR}()}createDatastore(e){const n=Qo(e.databaseInfo.databaseId),s=function(r){return new gR(r)}(e.databaseInfo);return function(r,o,a,l){return new _R(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,a){return new TR(s,i,r,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Wd(this.syncEngine,n,0),function(){return qd.D()?new qd:new fR}())}createSyncEngine(e,n){return function(i,r,o,a,l,u,d){const h=new FR(i,r,o,a,l,u);return d&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const s=Y(n);F("RemoteStore","RemoteStore shutting down."),s.C_.add(5),await Ki(s),s.F_.shutdown(),s.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async r=>{F("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(s,r=>(F("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qc(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ba(t,e){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await Bm(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t4(t);F("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(i=>Hd(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Hd(e.remoteStore,r)),t._onlineComponents=e}function e4(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function t4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ba(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!e4(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),await Ba(t,new Kd)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await Ba(t,new Kd);return t._offlineComponents}async function lg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await Xd(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await Xd(t,new YR))),t._onlineComponents}function n4(t){return lg(t).then(e=>e.syncEngine)}async function cg(t){const e=await lg(t),n=e.eventManager;return n.onListen=UR.bind(null,e.syncEngine),n.onUnlisten=GR.bind(null,e.syncEngine),n}function s4(t,e,n={}){const s=new $t;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,u){const d=new ag({next:p=>{o.enqueueAndForget(()=>Zm(r,h));const f=p.docs.has(a);!f&&p.fromCache?u.reject(new U(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?u.reject(new U(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new eg(Nc(a.path),d,{includeMetadataChanges:!0,J_:!0});return Ym(r,h)}(await cg(t),t.asyncQueue,e,n,s)),s.promise}function i4(t,e,n={}){const s=new $t;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,u){const d=new ag({next:p=>{o.enqueueAndForget(()=>Zm(r,h)),p.fromCache&&l.source==="server"?u.reject(new U(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new eg(a,d,{includeMetadataChanges:!0,J_:!0});return Ym(r,h)}(await cg(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e,n){if(!n)throw new U(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r4(t,e,n,s){if(e===!0&&s===!0)throw new U(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yd(t){if(!G.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zd(t){if(G.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function en(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wc(t);throw new U(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new U(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ug((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jo{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eh(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AC;switch(s.type){case"firstParty":return new bC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new U(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Jd.get(n);s&&(F("ComponentProvider","Removing Datastore"),Jd.delete(n),s.terminate())}(this),Promise.resolve()}}function o4(t,e,n,s={}){var i;const r=(t=en(t,Jo))._getSettings(),o=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),s.mockUserToken){let a,l;if(typeof s.mockUserToken=="string")a=s.mockUserToken,l=qe.MOCK_USER;else{a=vh(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=s.mockUserToken.sub||s.mockUserToken.user_id;if(!u)throw new U(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qe(u)}t._authCredentials=new SC(new lm(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class pn extends Yo{constructor(e,n,s){super(e,n,Nc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new G(e))}withConverter(e){return new pn(this.firestore,e,this._path)}}function Rl(t,e,...n){if(t=we(t),dg("collection","path",e),t instanceof Jo){const s=ge.fromString(e,...n);return Zd(s),new pn(t,null,s)}{if(!(t instanceof dt||t instanceof pn))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ge.fromString(e,...n));return Zd(s),new pn(t.firestore,null,s)}}function co(t,e,...n){if(t=we(t),arguments.length===1&&(e=cm.newId()),dg("doc","path",e),t instanceof Jo){const s=ge.fromString(e,...n);return Yd(s),new dt(t,null,new G(s))}{if(!(t instanceof dt||t instanceof pn))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ge.fromString(e,...n));return Yd(s),new dt(t.firestore,t instanceof pn?t.converter:null,new G(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new zm(this,"async_queue_retry"),this.iu=()=>{const n=Ua();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Ua();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Ua();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new $t;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!$i(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{this.eu=s,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(s);throw Yt("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=zc.createAndSchedule(this,e,n,s,r=>this.au(r));return this.Xa.push(i),i}su(){this.eu&&H()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Os extends Jo{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=function(){return new a4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hg(this),this._firestoreClient.terminate()}}function l4(t,e){const n=typeof t=="object"?t:Fl(),s=typeof t=="string"?t:e||"(default)",i=fo(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=mh("firestore");r&&o4(i,...r)}return i}function Qc(t){return t._firestoreClient||hg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hg(t){var e,n,s;const i=t._freezeSettings(),r=function(a,l,u,d){return new UC(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ug(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ZR(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Ye.fromBase64String(e))}catch(n){throw new U(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Es(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^__.*__$/;class u4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wi(e,this.data,n,this.fieldTransforms)}}class fg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new xn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class Xc{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Pu(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Xc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:s,du:!1});return i.Au(e),i}Ru(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:s,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return uo(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(pg(this.Iu)&&c4.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class d4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qo(e)}pu(e,n,s,i=!1){return new Xc({Iu:e,methodName:n,gu:s,path:Ue.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(t){const e=t._freezeSettings(),n=Qo(t._databaseId);return new d4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h4(t,e,n,s,i,r={}){const o=t.pu(r.merge||r.mergeFields?2:0,e,n,i);Yc("Data must be an object, but it was:",o,s);const a=gg(s,o);let l,u;if(r.merge)l=new ct(o.fieldMask),u=o.fieldTransforms;else if(r.mergeFields){const d=[];for(const h of r.mergeFields){const p=Pl(e,h,n);if(!o.contains(p))throw new U(R.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);vg(d,p)||d.push(p)}l=new ct(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new u4(new it(a),l,u)}class ta extends ea{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ta}}class Jc extends ea{_toFieldTransform(e){return new db(e.path,new Ci)}isEqual(e){return e instanceof Jc}}function f4(t,e,n,s){const i=t.pu(1,e,n);Yc("Data must be an object, but it was:",i,s);const r=[],o=it.empty();Jn(s,(l,u)=>{const d=Zc(e,l,n);u=we(u);const h=i.Ru(d);if(u instanceof ta)r.push(d);else{const p=na(u,h);p!=null&&(r.push(d),o.set(d,p))}});const a=new ct(r);return new fg(o,a,i.fieldTransforms)}function p4(t,e,n,s,i,r){const o=t.pu(1,e,n),a=[Pl(e,s,n)],l=[i];if(r.length%2!=0)throw new U(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)a.push(Pl(e,r[p])),l.push(r[p+1]);const u=[],d=it.empty();for(let p=a.length-1;p>=0;--p)if(!vg(u,a[p])){const f=a[p];let m=l[p];m=we(m);const g=o.Ru(f);if(m instanceof ta)u.push(f);else{const y=na(m,g);y!=null&&(u.push(f),d.set(f,y))}}const h=new ct(u);return new fg(d,h,o.fieldTransforms)}function na(t,e){if(yg(t=we(t)))return Yc("Unsupported field value:",e,t),gg(t,e);if(t instanceof ea)return function(s,i){if(!pg(i.Iu))throw i.mu(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const a of s){let l=na(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=we(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lb(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=ke.fromDate(s);return{timestampValue:ao(i.serializer,r)}}if(s instanceof ke){const r=new ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ao(i.serializer,r)}}if(s instanceof Kc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Es)return{bytesValue:Lm(i.serializer,s._byteString)};if(s instanceof dt){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Mc(s.firestore._databaseId||i.databaseId,s._key.path)}}throw i.mu(`Unsupported field value: ${Wc(s)}`)}(t,e)}function gg(t,e){const n={};return um(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jn(t,(s,i)=>{const r=na(i,e.Eu(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function yg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof Kc||t instanceof Es||t instanceof dt||t instanceof ea)}function Yc(t,e,n){if(!yg(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=Wc(n);throw s==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+s)}}function Pl(t,e,n){if((e=we(e))instanceof Zo)return e._internalPath;if(typeof e=="string")return Zc(t,e);throw uo("Field path arguments must be of type string or ",t,!1,void 0,n)}const m4=new RegExp("[~\\*/\\[\\]]");function Zc(t,e,n){if(e.search(m4)>=0)throw uo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zo(...e.split("."))._internalPath}catch{throw uo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uo(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${s}`),o&&(l+=` in document ${i}`),l+=")"),new U(R.INVALID_ARGUMENT,a+t+l)}function vg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g4 extends _g{data(){return super.data()}}function wg(t,e){return typeof e=="string"?Zc(t,e):e instanceof Zo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v4{convertValue(e,n="none"){switch(Hn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Jn(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertGeoPoint(e){return new Kc(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ai(e));default:return null}}convertTimestamp(e){const n=yn(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ge.fromString(e);he(Um(s));const i=new Si(s.get(1),s.get(3)),r=new G(s.popFirst(5));return i.isEqual(n)||Yt(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tg extends _g{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(wg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Pr extends Tg{data(e={}){return super.data(e)}}class w4{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $s(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Pr(this._firestore,this._userDataWriter,s.key,s,new $s(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Pr(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new Pr(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:T4(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){t=en(t,dt);const e=en(t.firestore,Os);return s4(Qc(e),t._key).then(n=>A4(e,t,n))}class Eg extends v4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function xg(t){t=en(t,Yo);const e=en(t.firestore,Os),n=Qc(e),s=new Eg(e);return y4(t._query),i4(n,t._query).then(i=>new w4(e,s,t,i))}function Ga(t,e,n,...s){t=en(t,dt);const i=en(t.firestore,Os),r=mg(i);let o;return o=typeof(e=we(e))=="string"||e instanceof Zo?p4(r,"updateDoc",t._key,e,n,s):f4(r,"updateDoc",t._key,e),eu(i,[o.toMutation(t._key,wt.exists(!0))])}function E4(t){return eu(en(t.firestore,Os),[new Oc(t._key,wt.none())])}function x4(t,e){const n=en(t.firestore,Os),s=co(t),i=_4(t.converter,e);return eu(n,[h4(mg(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,wt.exists(!1))]).then(()=>s)}function eu(t,e){return function(s,i){const r=new $t;return s.asyncQueue.enqueueAndForget(async()=>zR(await n4(s),i,r)),r.promise}(Qc(t),e)}function A4(t,e,n){const s=n.docs.get(e._key),i=new Eg(t);return new Tg(t,i,e._key,s,new $s(n.hasPendingWrites,n.fromCache),e.converter)}function za(){return new Jc("serverTimestamp")}(function(e,n=!0){(function(i){Ps=i})(Wn),jn(new mn("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),a=new Os(new IC(s.getProvider("auth-internal")),new PC(s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Si(u.options.projectId,d)}(o,i),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),bt(Ed,"4.4.0",e),bt(Ed,"4.4.0","esm2017")})();var S4="firebase",I4="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bt(S4,I4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="firebasestorage.googleapis.com",Sg="storageBucket",C4=2*60*1e3,b4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se extends Mt{constructor(e,n,s=0){super(qa(e),`Firebase Storage: ${n} (${qa(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Se.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qa(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ae;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ae||(Ae={}));function qa(t){return"storage/"+t}function tu(){const t="An unknown error occurred, please check the error payload for server response.";return new Se(Ae.UNKNOWN,t)}function R4(t){return new Se(Ae.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function P4(t){return new Se(Ae.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function k4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Se(Ae.UNAUTHENTICATED,t)}function N4(){return new Se(Ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function O4(t){return new Se(Ae.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function D4(){return new Se(Ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L4(){return new Se(Ae.CANCELED,"User canceled the upload/download.")}function M4(t){return new Se(Ae.INVALID_URL,"Invalid URL '"+t+"'.")}function j4(t){return new Se(Ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function V4(){return new Se(Ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Sg+"' property when initializing the app?")}function F4(){return new Se(Ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function U4(){return new Se(Ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function B4(t){return new Se(Ae.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nl(t){return new Se(Ae.INVALID_ARGUMENT,t)}function Ig(){return new Se(Ae.APP_DELETED,"The Firebase app was deleted.")}function G4(t){return new Se(Ae.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ai(t,e){return new Se(Ae.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vs(t){throw new Se(Ae.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ut.makeFromUrl(e,n)}catch{return new ut(e,"")}if(s.path==="")return s;throw j4(e)}static makeFromUrl(e,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function r(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),m={bucket:1,path:3},g=n===Ag?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:a,indices:l,postModify:r},{regex:f,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<w.length;T++){const A=w[T],C=A.regex.exec(e);if(C){const j=C[A.indices.bucket];let k=C[A.indices.path];k||(k=""),s=new ut(j,k),A.postModify(s);break}}if(s==null)throw M4(e);return s}}class z4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e,n){let s=1,i=null,r=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(f,l())},y)}function p(){r&&clearTimeout(r)}function f(y,...v){if(u){p();return}if(y){p(),d.call(null,y,...v);return}if(l()||o){p(),d.call(null,y,...v);return}s<64&&(s*=2);let w;a===1?(a=2,w=0):w=(s+Math.random())*1e3,h(w)}let m=!1;function g(y){m||(m=!0,p(),!u&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),r=setTimeout(()=>{o=!0,g(!0)},n),g}function H4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){return t!==void 0}function W4(t){return typeof t=="object"&&!Array.isArray(t)}function nu(t){return typeof t=="string"||t instanceof String}function th(t){return su()&&t instanceof Blob}function su(){return typeof Blob<"u"}function nh(t,e,n,s){if(s<e)throw Nl(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Nl(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function Cg(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ln||(Ln={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||i||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,s,i,r,o,a,l,u,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new yr(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===Ln.NO_ERROR,l=r.getStatus();if(!a||Q4(l,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===Ln.ABORT;s(!1,new yr(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;s(!0,new yr(u,r))})},n=(s,i)=>{const r=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$4(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=tu();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ig():L4();o(l)}else{const l=D4();o(l)}};this.canceled_?n(!1,new yr(!1,null,!0)):this.backoffId_=q4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yr{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function X4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function J4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Y4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Z4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eP(t,e,n,s,i,r,o=!0){const a=Cg(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Y4(u,e),X4(u,n),J4(u,r),Z4(u,s),new K4(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nP(...t){const e=tP();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(su())return new Blob(t);throw new Se(Ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){if(typeof atob>"u")throw B4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ha{constructor(e,n){this.data=e,this.contentType=n||null}}function rP(t,e){switch(t){case Ct.RAW:return new Ha(bg(e));case Ct.BASE64:case Ct.BASE64URL:return new Ha(Rg(t,e));case Ct.DATA_URL:return new Ha(aP(e),lP(e))}throw tu()}function bg(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=s,o=t.charCodeAt(++n);s=65536|(r&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function oP(t){let e;try{e=decodeURIComponent(t)}catch{throw ai(Ct.DATA_URL,"Malformed data URL.")}return bg(e)}function Rg(t,e){switch(t){case Ct.BASE64:{const i=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(i||r)throw ai(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ct.BASE64URL:{const i=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(i||r)throw ai(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iP(e)}catch(i){throw i.message.includes("polyfill")?i:ai(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}class Pg{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ai(Ct.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=cP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function aP(t){const e=new Pg(t);return e.base64?Rg(Ct.BASE64,e.rest):oP(e.rest)}function lP(t){return new Pg(t).contentType}function cP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){let s=0,i="";th(e)?(this.data_=e,s=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(th(this.data_)){const s=this.data_,i=sP(s,e,n);return i===null?null:new ln(i)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ln(s,!0)}}static getBlob(...e){if(su()){const n=e.map(s=>s instanceof ln?s.data_:s);return new ln(nP.apply(null,n))}else{const n=e.map(o=>nu(o)?rP(Ct.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const i=new Uint8Array(s);let r=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[r++]=o[a]}),new ln(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){let e;try{e=JSON.parse(t)}catch{return null}return W4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dP(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function Ng(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e){return e}class Ze{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||hP}}let vr=null;function fP(t){return!nu(t)||t.length<2?t:Ng(t)}function Og(){if(vr)return vr;const t=[];t.push(new Ze("bucket")),t.push(new Ze("generation")),t.push(new Ze("metageneration")),t.push(new Ze("name","fullPath",!0));function e(r,o){return fP(o)}const n=new Ze("name");n.xform=e,t.push(n);function s(r,o){return o!==void 0?Number(o):o}const i=new Ze("size");return i.xform=s,t.push(i),t.push(new Ze("timeCreated")),t.push(new Ze("updated")),t.push(new Ze("md5Hash",null,!0)),t.push(new Ze("cacheControl",null,!0)),t.push(new Ze("contentDisposition",null,!0)),t.push(new Ze("contentEncoding",null,!0)),t.push(new Ze("contentLanguage",null,!0)),t.push(new Ze("contentType",null,!0)),t.push(new Ze("metadata","customMetadata",!0)),vr=t,vr}function pP(t,e){function n(){const s=t.bucket,i=t.fullPath,r=new ut(s,i);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function mP(t,e,n){const s={};s.type="file";const i=n.length;for(let r=0;r<i;r++){const o=n[r];s[o.local]=o.xform(s,e[o.server])}return pP(s,t),s}function Dg(t,e,n){const s=kg(e);return s===null?null:mP(t,s,n)}function gP(t,e,n,s){const i=kg(e);if(i===null||!nu(i.downloadTokens))return null;const r=i.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(u=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),f=sa(p,n,s),m=Cg({alt:"media",token:u});return f+m})[0]}function yP(t,e){const n={},s=e.length;for(let i=0;i<s;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class iu{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){if(!t)throw tu()}function vP(t,e){function n(s,i){const r=Dg(t,i,e);return Lg(r!==null),r}return n}function _P(t,e){function n(s,i){const r=Dg(t,i,e);return Lg(r!==null),gP(r,i,t.host,t._protocol)}return n}function Mg(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=N4():i=k4():n.getStatus()===402?i=P4(t.bucket):n.getStatus()===403?i=O4(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function jg(t){const e=Mg(t);function n(s,i){let r=e(s,i);return s.getStatus()===404&&(r=R4(t.path)),r.serverResponse=i.serverResponse,r}return n}function wP(t,e,n){const s=e.fullServerUrl(),i=sa(s,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,a=new iu(i,r,_P(t,n),o);return a.errorHandler=jg(e),a}function TP(t,e){const n=e.fullServerUrl(),s=sa(n,t.host,t._protocol),i="DELETE",r=t.maxOperationRetryTime;function o(l,u){}const a=new iu(s,i,o,r);return a.successCodes=[200,204],a.errorHandler=jg(e),a}function EP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xP(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=EP(null,e)),s}function AP(t,e,n,s,i){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let T=0;T<2;T++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=xP(e,s,i),d=yP(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",f=ln.getBlob(h,s,p);if(f===null)throw F4();const m={name:u.fullPath},g=sa(r,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,E=new iu(g,y,vP(t,n),v);return E.urlParams=m,E.headers=o,E.body=f.uploadData(),E.errorHandler=Mg(e),E}class SP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ln.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ln.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ln.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i){if(this.sent_)throw Vs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IP extends SP{initXhr(){this.xhr_.responseType="text"}}function ru(){return new IP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this._service=e,n instanceof ut?this._location=n:this._location=ut.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $n(e,n)}get root(){const e=new ut(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ng(this._location.path)}get storage(){return this._service}get parent(){const e=uP(this._location.path);if(e===null)return null;const n=new ut(this._location.bucket,e);return new $n(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G4(e)}}function CP(t,e,n){t._throwIfRoot("uploadBytes");const s=AP(t.storage,t._location,Og(),new ln(e,!0),n);return t.storage.makeRequestWithTokens(s,ru).then(i=>({metadata:i,ref:t}))}function bP(t){t._throwIfRoot("getDownloadURL");const e=wP(t.storage,t._location,Og());return t.storage.makeRequestWithTokens(e,ru).then(n=>{if(n===null)throw U4();return n})}function RP(t){t._throwIfRoot("deleteObject");const e=TP(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ru)}function PP(t,e){const n=dP(t._location.path,e),s=new ut(t._location.bucket,n);return new $n(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){return/^[A-Za-z]+:\/\//.test(t)}function NP(t,e){return new $n(t,e)}function Vg(t,e){if(t instanceof ou){const n=t;if(n._bucket==null)throw V4();const s=new $n(n,n._bucket);return e!=null?Vg(s,e):s}else return e!==void 0?PP(t,e):t}function OP(t,e){if(e&&kP(e)){if(t instanceof ou)return NP(t,e);throw Nl("To use ref(service, url), the first argument must be a Storage instance.")}else return Vg(t,e)}function sh(t,e){const n=e==null?void 0:e[Sg];return n==null?null:ut.makeFromBucketSpec(n,t)}function DP(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:vh(i,t.app.options.projectId))}class ou{constructor(e,n,s,i,r){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=Ag,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C4,this._maxUploadRetryTime=b4,this._requests=new Set,i!=null?this._bucket=ut.makeFromBucketSpec(i,this._host):this._bucket=sh(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ut.makeFromBucketSpec(this._url,e):this._bucket=sh(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nh("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nh("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $n(this,e)}_makeRequest(e,n,s,i,r=!0){if(this._deleted)return new z4(Ig());{const o=eP(e,this._appId,s,i,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()}}const ih="@firebase/storage",rh="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="storage";function oh(t,e,n){return t=we(t),CP(t,e,n)}function ah(t){return t=we(t),bP(t)}function LP(t){return t=we(t),RP(t)}function Ol(t,e){return t=we(t),OP(t,e)}function MP(t=Fl(),e){t=we(t);const s=fo(t,Fg).getImmediate({identifier:e}),i=mh("storage");return i&&jP(s,...i),s}function jP(t,e,n,s={}){DP(t,e,n,s)}function VP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ou(n,s,i,e,Wn)}function FP(){jn(new mn(Fg,VP,"PUBLIC").setMultipleInstances(!0)),bt(ih,rh,""),bt(ih,rh,"esm2017")}FP();const UP={apiKey:"AIzaSyDdv3MC6IfWVpSfC669xQZVNexbjFRyXho",authDomain:"opensg1-ee3ab.firebaseapp.com",projectId:"opensg1-ee3ab",storageBucket:"opensg1-ee3ab.appspot.com",messagingSenderId:"546259459574",appId:"1:546259459574:web:06d2357bad40cac2913bd7",measurementId:"G-0M43LNNLQW"},au=Th(UP),rs=l4(au),Dl=MP(au),kr=Qy(au);function Ji({category:t,part:e}){return c.jsxs("section",{className:"w-full py-open-6xl flex flex-col items-center gap-open-xl tablet:gap-open-2xl desktop:gap-open-2xl",children:[c.jsx("p",{className:"text-open-font-large tablet:text-open-font-xxl desktop:text-open-font-xxl font-open-label",children:t}),c.jsx("h2",{className:"text-open-font-xxl desktop:text-open-font-xxxxl  tablet:text-open-font-xxxxl font-open-heading",children:e})]})}Ji.propTypes={category:x.PropTypes.string.isRequired,part:x.PropTypes.string.isRequired};const BP="oxOJ",GP="OpEW",zP="Viul",qP="E7fp",HP="gTgb",$P="A7MS",WP="d7mZ",QP="-Hm-",KP="JAJr",XP="xA7c",JP="c2-N",YP="VXnu",ZP="lxgy",e9="O6H1",t9="AUYk",n9="ED0q",s9="GQlZ",i9="s5L6",r9="_1rE6",o9="gXqM",a9="y5Lk",l9="gNkb",c9="c4eI",u9="yoZ4",d9="ZWUF",h9="fWfJ",ee={NoticeWrapper:BP,pageCount:GP,noticeList:zP,noticeItem:qP,noticeTitle:HP,noticeCreatedAt:$P,listButtons:WP,pageNum:QP,currentPage:KP,titleWrapper:XP,title:JP,contentWrapper:YP,imageContainer:ZP,imagePreview:e9,imageLabel:t9,imageInput:n9,contentText:s9,buttonWrapper:i9,button:r9,detailWrapper:o9,updatedAt:a9,editButton:l9,deleteButton:c9,navWrapper:u9,list:d9,comebackButton:h9};function lu({notice:t,notices:e}){var i,r;const n=(i=t==null?void 0:t.data)!=null&&i.updatedAt?new Date(t.data.updatedAt.seconds*1e3+t.data.updatedAt.nanoseconds/1e6):null,s=n==null?void 0:n.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return c.jsx(bn,{to:`/community/${t==null?void 0:t.id}`,state:{currentNotice:t,notices:e},children:c.jsxs("div",{className:ee.noticeItem,children:[c.jsx("h4",{className:ee.noticeTitle,children:(r=t==null?void 0:t.data)==null?void 0:r.title}),c.jsx("time",{className:ee.noticeCreatedAt,dateTime:s,children:s})]})})}lu.propTypes={notices:x.PropTypes.arrayOf(x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.objectOf({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.arrayOf({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired})).isRequired,notice:x.PropTypes.objectOf(x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired})).isRequired};lu.propTypes={notices:x.PropTypes.arrayOf(x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired})).isRequired,notice:x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired}).isRequired};function Ug({notices:t,currentNotices:e}){var n;return c.jsx("div",{className:ee.noticeList,children:(n=e==null?void 0:e.slice().toSorted((s,i)=>i.data.index-s.data.index))==null?void 0:n.map(s=>c.jsx(lu,{notice:s,notices:t},s==null?void 0:s.id))})}Ug.propTypes={notices:x.PropTypes.arrayOf(x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired})).isRequired,currentNotices:x.PropTypes.arrayOf(x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired})).isRequired};function Bg({currentPage:t,pageCount:e,handleFirstPage:n,handlePrevPage:s,handlePageChange:i,handleNextPage:r,handleLastPage:o}){return c.jsxs("div",{className:ee.listButtons,children:[c.jsx("button",{type:"button",onClick:n,className:"",children:""}),c.jsx("button",{type:"button",onClick:s,className:"-rotate-90",children:""}),Array.from({length:e},(a,l)=>l+1).map(a=>c.jsx("button",{type:"button",onClick:()=>i(a),className:`${ee.pageNum} ${t===a?ee.currentPage:""}`,children:a},a)),c.jsx("button",{type:"button",onClick:r,className:"-rotate-90",children:""}),c.jsx("button",{type:"button",onClick:o,children:""})]})}Bg.propTypes={currentPage:x.PropTypes.number.isRequired,pageCount:x.PropTypes.number.isRequired,handleFirstPage:x.PropTypes.func.isRequired,handlePrevPage:x.PropTypes.func.isRequired,handlePageChange:x.PropTypes.func.isRequired,handleNextPage:x.PropTypes.func.isRequired,handleLastPage:x.PropTypes.func.isRequired};function Gg({sortedNotices:t}){const[e,n]=S.useState(1),s=6,i=t==null?void 0:t.slice((e-1)*s,e*s),r=Math.ceil(t.length/s),o=p=>n(p),a=()=>{e>1&&n(e-1)},l=()=>{e<r&&n(e+1)},u=()=>{n(1)},d=()=>{n(r)},h={currentPage:e,pageCount:Math.ceil(t.length/s),handleFirstPage:u,handlePrevPage:a,handlePageChange:o,handleNextPage:l,handleLastPage:d};return c.jsxs("section",{className:ee.NoticeWrapper,children:[c.jsx("h3",{className:"sr-only",children:" "}),c.jsxs("p",{className:ee.pageCount,children:["Total: ",t==null?void 0:t.length," [",e," / ",h.pageCount,"]"]}),c.jsx(Ug,{notices:t,currentNotices:i}),c.jsx(Bg,{...h})]})}Gg.propTypes={sortedNotices:x.PropTypes.arrayOf(x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired})).isRequired};lh({key:"authState",default:null,dangerouslyAllowMutability:!0});const ia=lh({key:"isLoggedInState",default:!1});function f9(){const[t,e]=S.useState([]),n=Ll(ia),s=xs();S.useEffect(()=>{(async()=>{try{const a=await xg(Rl(rs,"community")),l=[];a.forEach(u=>{l.push({id:u.id,data:u.data()})}),e(l)}catch(a){te.error(a)}})()},[]);const i=t==null?void 0:t.slice().toSorted((o,a)=>a.data.index-o.data.index),r=()=>{s("write",{state:{notices:i}})};return c.jsxs("div",{className:"mb-open-5xl w-full h-full desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-gutter-mobile",children:[c.jsx(Ji,{category:"Support",part:""}),c.jsx("div",{className:`w-full flex justify-end
      p-open-gutter-mobile
      tablet:p-open-gutter-desktop desktop:p-open-gutter-desktop  animate-bounce`,children:n?c.jsx("button",{type:"button",className:"p-open-lg tablet:p-open-xl desktop:p-open-xl text-open-font-medium tablet:text-open-font-large desktop:text-open-font-xl bg-slate-400 -text--openfoundation-black rounded-md",onClick:r,children:" "}):""}),c.jsx(Gg,{sortedNotices:i})]})}function cu({currentNotice:t,nextNotice:e,prevNotice:n,notices:s,params:i}){var p,f,m,g,y,v,E,w,T;const r=xs(),o=Ll(ia),a=(p=t==null?void 0:t.data)!=null&&p.updatedAt?new Date(t.data.updatedAt.seconds*1e3+t.data.updatedAt.nanoseconds/1e6):null,l=a==null?void 0:a.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),u=()=>{r(`/community/${t==null?void 0:t.id}/edit`,{state:{currentNotice:t,notices:s}})},d=async()=>{try{const A=co(rs,"community",i.id),C=await kl(A);if(await E4(A),C.exists()){const{imageUrl:j}=C.data();if(j){const k=Ol(Dl,`images/community/${i.id}`);await LP(k)}}te.success(" ."),r("/community")}catch{te.error("    .")}},h=()=>{r("/community")};return t?c.jsxs("section",{className:ee.detailWrapper,children:[c.jsxs("div",{className:ee.titleWrapper,children:[c.jsx("h3",{className:ee.title,children:(f=t==null?void 0:t.data)==null?void 0:f.title}),c.jsx("time",{className:ee.updatedAt,dateTime:l,children:l})]}),c.jsx("div",{className:ee.buttonWrapper,children:o?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:`${ee.button} ${ee.editButton}`,onClick:u,children:""}),c.jsx("button",{type:"button",className:`${ee.button} ${ee.deleteButton}`,onClick:d,children:""})]}):""}),c.jsxs("div",{className:ee.contentWrapper,children:[c.jsx("img",{src:(m=t==null?void 0:t.data)==null?void 0:m.imageUrl,alt:(g=t==null?void 0:t.data)==null?void 0:g.title,className:ee.imagePreview}),c.jsx("p",{className:ee.contentText,children:(y=t==null?void 0:t.data)==null?void 0:y.content})]}),c.jsxs("ul",{className:ee.navWrapper,children:[c.jsx("li",{className:ee.list,children:e?c.jsxs(bn,{to:`/community/${e==null?void 0:e.id}`,state:{currentNotice:e,notices:s},className:"flex gap-open-lg",children:[c.jsx("span",{className:"font-semibold",children:"   "}),c.jsx("span",{children:(v=e==null?void 0:e.data)==null?void 0:v.title})]}):c.jsxs(bn,{to:"#",className:"flex gap-open-lg",onClick:()=>te("  ."),children:[" ",c.jsx("span",{className:"font-semibold",children:"   "}),e&&c.jsx("span",{children:(E=e==null?void 0:e.data)==null?void 0:E.title}),!e&&c.jsx("span",{children:"  ."})]})}),c.jsx("li",{className:ee.list,children:n?c.jsxs(bn,{to:`/community/${n==null?void 0:n.id}`,state:{currentNotice:n,notices:s},className:"flex gap-open-lg",children:[c.jsx("span",{className:"font-semibold",children:"   "}),c.jsx("span",{children:(w=n==null?void 0:n.data)==null?void 0:w.title})]}):c.jsxs(bn,{to:"#",className:"flex gap-open-lg",onClick:()=>te("  ."),children:[" ",c.jsx("span",{className:"font-semibold",children:"   "}),n&&c.jsx("span",{children:(T=n==null?void 0:n.data)==null?void 0:T.title}),!n&&c.jsx("span",{children:"  ."})]})})]}),c.jsxs("button",{type:"button",className:ee.comebackButton,onClick:h,children:[" ",c.jsx("span",{className:"block font-open-highlight",children:""}),c.jsx("span",{className:"font-extralight",children:"> "})," "," "]})]}):c.jsx("div",{children:"Loading..."})}cu.propTypes={currentNotice:x.PropTypes.shape({id:x.PropTypes.string,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.objectOf({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired}),nextNotice:x.PropTypes.shape({id:x.PropTypes.string,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})})}),prevNotice:x.PropTypes.shape({id:x.PropTypes.string,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})})}),notices:x.PropTypes.arrayOf(x.PropTypes.shape({id:x.PropTypes.string.isRequired,data:x.PropTypes.shape({index:x.PropTypes.number,title:x.PropTypes.string,content:x.PropTypes.string,imageUrl:x.PropTypes.string,updatedAt:x.PropTypes.shape({seconds:x.PropTypes.number,nanoseconds:x.PropTypes.number})}).isRequired})).isRequired,params:x.PropTypes.shape({id:x.PropTypes.string.isRequired}).isRequired};cu.defaultProps={currentNotice:{id:"",data:{index:0,title:"",content:"",imageUrl:"",updatedAt:{seconds:0,nanoseconds:0}}},nextNotice:{id:"",data:{index:0,title:"",content:"",imageUrl:"",updatedAt:{seconds:0,nanoseconds:0}}},prevNotice:{id:"",data:{index:0,title:"",content:"",imageUrl:"",updatedAt:{seconds:0,nanoseconds:0}}}};function p9(){const t=Pi(),e=As(),[n,s]=S.useState([]),[i,r]=S.useState(null),[o,a]=S.useState(-1),[l,u]=S.useState(null),[d,h]=S.useState(null);return S.useEffect(()=>{(async()=>{const{currentNotice:f,notices:m}=t.state||{};if(f){r(f);const g=m.findIndex(E=>(E==null?void 0:E.id)===(e==null?void 0:e.id));a(g);const y=g>0?m[g-1]:null,v=g<m.length-1?m[g+1]:null;s(m),u(y),h(v)}})()},[t.state,e.id]),c.jsxs("div",{className:"mb-open-5xl w-full h-full desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-gutter-mobile",children:[c.jsx(Ji,{category:"Support",part:""}),c.jsx(cu,{notices:n,currentNotice:i,params:e,nextNotice:l,prevNotice:d})]})}function zg({title:t,setTitle:e,content:n,setContent:s,imagePreview:i,setImagePreview:r,selectedFile:o,setSelectedFile:a}){const l=h=>{e(h.target.value)},u=h=>{s(h.target.value)},d=h=>{const p=h.target.files[0];if(p&&p.type.startsWith("image/")){const m=new FileReader;m.onload=()=>{r(m.result)},m.readAsDataURL(p)}else r(null);a(p);const f=document.getElementById("fileName");f&&(f.value=p?p.name:"")};return c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"sr-only",children:"   "}),c.jsx("div",{className:ee.titleWrapper,children:c.jsx("input",{type:"text",placeholder:" .",className:ee.title,value:t,onChange:l})}),c.jsxs("div",{className:ee.contentWrapper,children:[c.jsxs("div",{className:ee.imageContainer,children:[i?c.jsxs(c.Fragment,{children:[c.jsx("img",{src:i,alt:" ",className:ee.imagePreview}),c.jsx("label",{htmlFor:"file",className:ee.imageLabel,children:" "})]}):c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:o?o.name:"",id:"fileName",placeholder:"",onChange:()=>{},className:ee.imageInput}),c.jsx("label",{htmlFor:"file",className:ee.imageLabel,children:" "})]}),c.jsx("input",{type:"file",id:"file",onChange:d,className:"w-0 h-0"})]}),c.jsx("textarea",{placeholder:" .",rows:10,className:ee.contentText,value:n,onChange:u})]})]})}zg.propTypes={title:_.string.isRequired,setTitle:_.func.isRequired,content:_.string.isRequired,setContent:_.func.isRequired,imagePreview:_.string.isRequired,setImagePreview:_.func.isRequired,selectedFile:_.shape({name:_.string,type:_.string}).isRequired,setSelectedFile:_.func.isRequired};function qg({isEditing:t,handleSave:e}){const n=xs(),s=()=>{te.done(" ."),n(-1)};return c.jsxs("section",{className:ee.buttonWrapper,children:[c.jsx("h3",{className:"sr-only",children:"   "}),c.jsxs("button",{type:"button",className:`${ee.button} bg-blue-400`,onClick:e,children:[" ",c.jsxs("span",{className:"block font-medium",children:[t?"":""," "]})]}),c.jsxs("button",{type:"button",className:`${ee.button} bg-red-400`,onClick:s,children:[" ",c.jsx("span",{className:"block font-medium",children:""})]})]})}qg.propTypes={isEditing:x.PropTypes.bool.isRequired,handleSave:x.PropTypes.func.isRequired};function ra({isEditing:t=!1,data:e=null}){const[n,s]=S.useState(""),[i,r]=S.useState(""),[o,a]=S.useState(null),[l,u]=S.useState(null),d=xs(),h=Pi(),{currentNotice:p,notices:f}=h.state||{},{id:m}=As();S.useEffect(()=>{t&&e&&(s(e.title),r(e.content),u(e.imageUrl))},[t,p]);const g=async()=>{try{const y=await xg(Rl(rs,"community")),v=y.size>0?y.size-1:0;if(t){const E=co(rs,"community",m);if(await Ga(E,{title:n,content:i,updatedAt:za()}),o){const A=Ol(Dl,`images/community/${m}`);await oh(A,o);const C=await ah(A);await Ga(E,{imageUrl:C})}te.success(" .");const T=(await kl(E)).data();d(`/community/${m}`,{state:{notices:f,currentNotice:{id:m,data:T}}})}else{const E=await x4(Rl(rs,"community"),{index:v,title:n,content:i,imageUrl:null,updatedAt:za()});let w;if(o){const j=Ol(Dl,`images/community/${E.id}`);await oh(j,o),w=await ah(j);const k=co(rs,"community",E.id);await Ga(k,{imageUrl:w})}const T=[...f,{id:E.id,data:{index:v,title:n,content:i,imageUrl:o?w:null,updatedAt:za()}}];te.success(" .");const C=(await kl(E)).data();d(`/community/${E.id}`,{state:{notices:T==null?void 0:T.slice().toSorted((j,k)=>k.data.index-j.data.index),currentNotice:{id:E.id,data:C}}})}}catch{te.error(" .   .")}};return c.jsxs("div",{className:"mb-open-5xl w-full h-full desktop:px-open-margin-desktop tablet:px-open-margin-desktop px-open-gutter-mobile",children:[c.jsx(Ji,{category:"Support",part:""}),c.jsxs("div",{className:"flex flex-col px-open-gutter-mobile desktop:px-open-gutter-desktop ",children:[c.jsx(zg,{title:n,setTitle:s,content:i,setContent:r,selectedFile:o,setSelectedFile:a,imagePreview:l,setImagePreview:u}),c.jsx(qg,{isEditing:t,handleSave:g})]})]})}ra.propTypes={isEditing:_.bool,data:_.shape({index:_.number,title:_.string,content:_.string,imageUrl:_.string,updatedAt:_.shape({seconds:_.number,nanoseconds:_.number})})};ra.defaultProps={isEditing:!1,data:{index:0,title:"",content:"",imageUrl:"",updatedAt:{seconds:0,nanoseconds:0}}};function m9(){const t=Pi(),{currentNotice:e}=t.state||{};return c.jsx(ra,{isEditing:!0,data:e==null?void 0:e.data})}const g9="mi4i",y9="F4Jg",v9="BmOe",_9="cZxw",w9="_7vaJ",T9="DzRC",E9="OV73",x9="Owmc",ft={container:g9,section:y9,form:v9,inputWrapper:_9,label:w9,input:T9,button:E9,buttonWrapper:x9};function A9(){const[t,e]=S.useState(""),[n,s]=S.useState(""),i=Ll(ia),r=xs(),o=d=>e(d.target.value),a=d=>s(d.target.value),l=async d=>{d.preventDefault();try{await k1(kr,t,n),await N1(kr,Wl),r("/community")}catch(h){te(h)}},u=()=>{M1(kr),e(""),s("")};return c.jsxs("div",{className:ft.container,children:[c.jsx(Ji,{category:"Admin",part:" "}),c.jsx("section",{className:ft.section,children:i?c.jsxs("div",{className:ft.buttonWrapper,children:[c.jsx("h3",{className:"text-open-font-xl",children:", !"}),c.jsx("button",{type:"button",onClick:u,className:ft.button,children:""})]}):c.jsxs("form",{onSubmit:l,className:ft.form,children:[c.jsxs("div",{className:ft.inputWrapper,children:[c.jsx("label",{htmlFor:"id",className:ft.label,children:""}),c.jsx("input",{type:"text",id:"id",name:"id",onChange:o,placeholder:" ",className:ft.input})]}),c.jsxs("div",{className:ft.inputWrapper,children:[c.jsx("label",{htmlFor:"pw",className:ft.label,children:""}),c.jsx("input",{type:"password",id:"pw",name:"pw",onChange:a,placeholder:" ",className:ft.input})]}),c.jsx("input",{type:"submit",value:"",className:ft.button})]})})]})}const S9=Jg(Yg(c.jsxs(Le,{path:"/",element:c.jsx(kv,{}),children:[c.jsx(Le,{index:!0,element:c.jsx(mE,{})}),c.jsx(Le,{path:"/about",element:c.jsx(r_,{})}),c.jsx(Le,{path:"/history",element:c.jsx(OE,{})}),c.jsx(Le,{path:"/team",element:c.jsx(ZE,{})}),c.jsx(Le,{path:"/location",element:c.jsx(Tx,{})}),c.jsx(Le,{path:"/solutions/:id",element:c.jsx(gA,{})}),c.jsx(Le,{path:"/machines/:id",element:c.jsx(od,{})}),c.jsx(Le,{path:"/devices/:id",element:c.jsx(od,{})}),c.jsx(Le,{path:"/industries/:id",element:c.jsx(US,{})}),c.jsx(Le,{path:"/library",element:c.jsx(dS,{})}),c.jsx(Le,{path:"/contact",element:c.jsx(yI,{})}),c.jsx(Le,{path:"/community",element:c.jsx(f9,{})}),c.jsx(Le,{path:"/community/:id",element:c.jsx(p9,{})}),c.jsx(Le,{path:"/community/write",element:c.jsx(ra,{})}),c.jsx(Le,{path:"/community/:id/edit",element:c.jsx(m9,{})}),c.jsx(Le,{path:"/admin",element:c.jsx(A9,{})})]})));function I9(){const t=Wg(ia);return S.useEffect(()=>{const e=L1(kr,n=>{t(!!n)});return()=>e()},[t]),c.jsx(Zg,{router:S9})}$a.createRoot(document.getElementById("root")).render(c.jsx($.StrictMode,{children:c.jsx(Qg,{children:c.jsx(I9,{})})}));
